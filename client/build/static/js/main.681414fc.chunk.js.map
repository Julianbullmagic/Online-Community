{"version":3,"sources":["actions/Config.js","ChatPage/Sections/ChatCard.js","auth/api-auth.js","auth/auth-helper.js","ChatPage/ChatPage.js","actions/chat_actions.js","groups/CreateGroupForm.js","groups/GroupList.js","core/Home.js","user/api-user.js","user/Signup.js","auth/Signin.js","post/Comment.js","post/Newsfeed.js","groups/CreateEventForm.js","groups/Events.js","groups/CreateRuleForm.js","groups/Leaders.js","groups/Rules.js","groups/Poll.js","groups/Jury.js","groups/Polls.js","groups/GroupDetails.js","groups/GroupPage.js","groups/SingleUser.js","core/Menu.js","ExplanationPage.js","Info.js","sovietunion.js","china.js","cuba.js","yugoslavia.js","psychologicalwarfare.js","auth/ForgotPassword.js","MainRouter.js","App.js","actions/types.js","core/hands.png","housing-prices-Australia.png","WageSlowdown.jpg","Australian-unemployment-rates.png","Trade-union-density-in-Australia-percentage-of-employees-1960-2011-a-a-Trade-union.png","../robots-txt.config","serviceWorker.js","reducers/index.js","reducers/user_reducer.js","reducers/chat_reducer.js","index.js"],"names":["CHAT_SERVER","ChatCard","props","react_default","a","createElement","style","width","background","margin","padding","overflow","sender","name","message","signin","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","user","response","wrap","_context","prev","next","console","log","fetch","method","headers","Accept","Content-Type","credentials","body","JSON","stringify","sent","json","abrupt","t0","error","stop","_x","apply","this","arguments","signout","_ref2","_callee2","_context2","auth","isAuthenticated","window","sessionStorage","getItem","parse","authenticate","jwt","cb","setItem","clearJWT","removeItem","then","data","document","cookie","ChatPage","_Component","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleInputChange","e","setState","chatMessage","target","value","submitChatMessage","preventDefault","userData","isAuth","alert","recipient","_step","state","userId","_id","userName","groupId","groupTitle","grouptitle","nowTime","moment","room","_iterator","_createForOfIteratorHelper","users","s","n","done","us","usertomessage","err","f","socket","emit","type","chats","currentgroupmessage","lastgroupmessage","chattingtouser","unreadwholegroupmessages","widthcolumntwo","widthcolumnthree","height","togglechat","handleuserchange","bind","assertThisInitialized","setInitialChats","inherits","createClass","key","nextProps","_this2","dispatch","request","axios","get","concat","GET_CHATS","payload","getChats","io","process","on","messageFromBackEnd","unreadallgroupmessages","addNotification","title","subtitle","theme","native","chatscopy","push","length","slice","usercopy","recentprivatemessages","_step2","userscopy","_iterator2","unreadmessages","_step3","_iterator3","_step4","_iterator4","_step5","_iterator5","_step6","_iterator6","_step7","_iterator7","_setInitialChats","_iterator8","_step8","_iterator9","_step9","_this3","toConsumableArray","_handleuserchange","recipientId","recipientName","_iterator10","_step10","_room","_userName","chatsarray","sort","join","messagesEnd","scrollIntoView","behavior","_this4","Array","isArray","map","chat","Sections_ChatCard","assign","item","Fragment","className","marginTop","marginLeft","placeholder","align","onChange","includes","display","onClick","id","border","borderStyle","borderWidth","overflowY","ref","el","clear","bottom","borderColor","borderRightWidth","borderleftWidth","borderTopWidth","transition","transform","borderRadius","Component","connect","require","mongoose","CreateGroupForm","_React$createElement","titleValue","React","useRef","descriptionValue","_useState","useState","_useState2","slicedToArray","uploading","setUploading","_useState3","_useState4","uploadComplete","setUploadComplete","_useState5","_useState6","errors","setErrors","_useState7","_useState8","failed","setFailed","levelValue","parentGroupValue","selectedFile1","_useState9","_useState10","levels","setLevels","_useState11","groups","_useState12","setGroups","_useState13","_useState14","subgroups","setSubgroups","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","_handleSubmit","imageids","formData","d","groupabove","newPost","options","optionstwo","groupid","Types","ObjectId","toString","current","files","FormData","append","Axios","post","public_id","catch","Date","getTime","cool","description","timecreated","images","level","Number","members","centroid","coordinates","updateGroups","Content-type","setTimeout","useEffect","filter","max","b","CreateGroupForm_createForOfIteratorHelper","groupstheybelongto","group","Set","pop","onSubmit","errorscopy","htmlFor","defineProperty","color","GroupsList","vidone","vidtwo","allgroups","mygroups","page","pageNum","viewform","currentPageData","viewAllGroups","searchGroups","handleSearchChange","randomVids","Math","random","newgroup","groupscopy","reverse","event","searchterm","toLowerCase","res","blob","groupsmapped","react_router_dom","exact","to","overflowX","location","mygroupsmapped","nogroups","marginBottom","maxHeight","flexWrap","src","frameborder","allow","allowfullscreen","info","Home","history","setUsers","_getGroupData","getGroupData","scroll","position","zIndex","marginRight","GroupList","create","changePassword","_x2","useStyles","makeStyles","card","maxWidth","textAlign","spacing","paddingBottom","verticalAlign","palette","openTitle","textField","Signup","classes","numImages","setNumImages","loading","setLoading","togglesex","setTogglesex","password","passwordtwo","passworderror","politicalparties","sex","passiveincome","securityquestionone","securityquestiontwo","groupsCoordinates","address","email","phone","expertise","open","values","setValues","selectedFile2","selectedFile3","selectedFile4","selectedFile5","_createUser","_formData","_formData2","_formData3","_formData4","objectSpread","Boolean","undefined","handleSexChange","handleChange","placeHolder","label","alignItems","justifyContent","checked","imagenum","extraImage","lessImage","createUser","Typography","component","Icon","Dialog","disableBackdropClick","DialogTitle","DialogContent","DialogContentText","DialogActions","submit","Signin","loggingIn","setLoggingIn","mustenteremail","checkyouremail","redirectToReferrer","_forgotPassword","passwordresettoken","url","notification","opt","token","emails","subject","from","pathname","react_router","Comment","commentValue","comments","setComments","commentId","newComment","commentscopy","postid","createdby","comment","commentsmapped","i","fontSize","classname","filteredarray","obj","deleteComment","handleSubmit","Newsfeed","viewForm","setViewForm","viewExplanation","setViewExplanation","postArea","posts","setPosts","setGroup","setPost","setPage","setPageNum","setCurrentPageData","_useState21","_useState22","preview","setPreview","getId","match","decidePage","pagenum","currentpage","_getPreview","videoId","iframesrc","q","mode","postId","politicalmarketing","groupIds","newPostToRender","postscopy","notificationsent","Newsfeed_createForOfIteratorHelper","po","sendPostNotification","posttosend","postss","sentdown","postcopy","lowergroupids","groupsbelow","grou","_i","_lowergroupids","gr","sendPostDown","deletePost","ceil","pagenums","urlRegex","getPreview","previewmapped","objectFit","inthisgroup","postsmapped","Zindex","Position","approval","round","approveenames","areyousure","areYouSure","areYouNotSure","markAsPoliticalMarketing","checkPost","userid","filteredapproval","withdrawMarkAsPoliticalMarketing","index","viewExpl","rows","cols","opacity","CreateEventForm","coordError","setCoordError","setLevel","locationValue","startTimeValue","endTimeValue","eventId","coords","newEvent","newEventToRender","starttime","String","endtime","approvalnotificationsent","updateEvents","Events","events","redirect","updating","eventApprovedNotification","sendEventNotification","approveofevent","deleteEvent","withdrawapproveofevent","withdrawapprovalofevent","getEvents","newevent","eventscopy","ev","optionsone","Events_createForOfIteratorHelper","votesfrommembers","memberids","vote","sendEventDown","checkEvent","eventsapproved","eventscomponent","attendeenames","_step11","_iterator11","split","cloudinary_react_esm","cloudName","publicId","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","Circle","radius","CreateRuleForm","ruleValue","explanationValue","ruleId","newRule","newRuleToRender","rule","explanation","ratificationnotificationsent","updateRules","leaders","Leaders","Leaders_createForOfIteratorHelper","viewexplanation","participate","numreps","_loop","votes","splitvote","startsWith","unsorted","voted","userscomponent","votees","approveofuser","withdrawapprovalofuser","Rules","rules","sendRuleNotification","approveofrule","ruleApprovedNotification","getRules","newrule","rulescopy","checkRule","Rules_createForOfIteratorHelper","deleteRule","sendRuleDown","pol","rulesapproved","rulescomponent","endsWith","withdrawapprovalofrule","Poll","suggestions","setSuggestions","poll","setPoll","sure","setSure","pollsuggestion","approveOfSendingPollDown","pollId","pollcopy","Poll_createForOfIteratorHelper","allmembers","g","sendPollDown","suggestionsmapped","sendPollNotification","_step12","_iterator12","suggestion","suggestionscopy","suggest","deletePollSuggestion","approveofsuggestion","checkSuggestion","withdrawapprovalofsuggestion","_step13","_iterator13","_step14","_iterator14","_step15","_iterator15","pollquestion","deletePoll","pollSuggestionId","newPollSuggestion","pollid","newPollSuggestionToRender","withdrawApprovalOfSendingPollDown","MILLISECONDS_IN_A_WEEK","Jury","selectedUser","setSelectedUser","allGroups","setAllGroups","searchTerm","setSearchTerm","restriction","setRestriction","isShown","leaderCreatingRestriction","setLeaderCreatingRestriction","setExplanation","duration","setDuration","_useState23","_useState24","restrictionPolls","setRestrictionPolls","_useState25","_useState26","_useState27","_useState28","_useState29","_useState30","setSocket","_useState31","_useState32","_useState33","_useState34","_leaderCreateRestriction","rest","_iterator22","_step22","r","concatenated","currentrest","restrictionId","newRestriction","restrictionid","restrictions","Jury_createForOfIteratorHelper","usertorestrict","deleteRestrictionPoll","_deleteRestriction","deleteRestriction","_callee3","restrictionpollscopy","opttwo","_context3","approve","sendRestrictionPollNotification","restricteduser","createRestriction","sendRestrictionPollApprovedNotification","restrictionsapproved","restrictionpolls","restrictionpollsmapped","_step16","_iterator16","_step17","_iterator17","_step18","_iterator18","usertorestrictname","appr","checkRestriction","withdrawapproval","delRestPoll","allusers","_step19","_iterator19","_allusers","_step20","_iterator20","_allusers2","_allusers3","alluserscopy","usernames","_step21","_iterator21","searchMembers","handleMemberChange","restrictionPollId","newRestrictionPoll","newRestrictionPollToRender","leaderCreateRestriction","Polls","setAdmin","polls","setPolls","sendPollEmailNotification","pollscopy","Polls_createForOfIteratorHelper","pollsmapped","newPoll","newPollToRender","GroupDetails","forceRefresh","GroupPage","allgroupsbelow","higherlevelgroup","newLowerGroupIds","associatedlocalgroups","cannotpost","cannotusechat","cannotseeevents","cannotvoteforleaders","cannotparticipateingrouppurchases","removefromgroup","cannotcreatepolls","cannotsuggestrulesorvoteforrules","cannotseegigleads","cannotvoteinjury","updateUser","updatedUser","GroupPage_createForOfIteratorHelper","params","activeusers","active","groupcopy","levelzerogroups","newmembers","memberscopy","joinOrLeave","leave","esm","groups_GroupDetails","Leaders_Leaders","Rules_Rules","Events_Events","src_ChatPage_ChatPage","SingleUser","setUser","setEvents","eventsApproved","setEventsApproved","loadingComplete","setLoadingComplete","setLeaders","newMembers","setNewMembers","setRules","setPurchases","setRestrictions","rulesApproved","setRulesApproved","restrictionsApproved","setRestrictionsApproved","performancedescription","rates","_getUser","purchases","_updateUser","newuser","getUser","restrictionsmapped","elapsed","dayselapsed","daysleft","newrestrictions","react_awesome_slider_dist_default","isActive","path","Menu","withRouter","backgroundColor","ExplanationPage","href","Info","textDecoration","SovietUnion","China","Cuba","Yugoslavia","PsychologicalWarfare","ForgotPassword","tokenerror","_clickSubmit","MainRouter","core_Menu","module","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","_MainRouter__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","react_hot_loader__WEBPACK_IMPORTED_MODULE_3__","react_push_notification__WEBPACK_IMPORTED_MODULE_5__","hot","__webpack_exports__","LOGIN_USER","REGISTER_USER","AUTH_USER","LOGOUT_USER","GET_GROUP_CHATS","AFTER_POST_MESSAGE","exports","p","hostname","rootReducer","combineReducers","action","register","loginSucces","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","generateRobotText","ReactDOM","render","es","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__","App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.681414fc.chunk.js","sourcesContent":["//SERVER ROUTES\nexport const USER_SERVER = '/api/users';\nexport const CHAT_SERVER = '/api/chat';\n","import React from \"react\";\r\nimport moment from 'moment';\r\n\r\nfunction ChatCard(props) {\r\n    return (\r\n        <div style={{ width:'95%',background:\"#e0e8e6\",margin:\"1vw\",padding:\"10px\",overflow:\"auto\" }}>\r\n        <p style={{margin:\"0.5vw\"}}><strong>{props.sender.name}:</strong> {props.message}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatCard;\r\n","const signin = async (user) => {\n  try {\n    console.log(\"signin\")\n    let response = await fetch('/auth/signin/', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify(user)\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nconst signout = async () => {\n  try {\n    let response = await fetch('/auth/signout/', { method: 'GET' })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nexport {\n  signin,\n  signout\n}\n","import { signout } from './api-auth.js'\n\nconst auth = {\n  isAuthenticated() {\n    if (typeof window == \"undefined\")\n      return false\n\n    if (sessionStorage.getItem('jwt'))\n      return JSON.parse(sessionStorage.getItem('jwt'))\n    else\n      return false\n  },\n  authenticate(jwt, cb) {\n    console.log(\"auth\")\n    if (typeof window !== \"undefined\")\n      sessionStorage.setItem('jwt', JSON.stringify(jwt))\n    cb()\n  },\n  clearJWT(cb) {\n    if (typeof window !== \"undefined\")\n      sessionStorage.removeItem('jwt')\n    cb()\n    //optional\n    signout().then((data) => {\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\"\n    })\n  }\n}\n\nexport default auth\n","import React, { Component } from 'react'\nimport io from \"socket.io-client\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport { getChats, getGroupChats, afterPostMessage } from \"./../actions/chat_actions\"\nimport ChatCard from \"./Sections/ChatCard\"\nimport Dropzone from 'react-dropzone';\nimport Axios from 'axios';\nimport { CHAT_SERVER } from './Config.js';\nimport auth from './../auth/auth-helper'\nimport addNotification from 'react-push-notification';\n\n\nexport class ChatPage extends Component {\n\nconstructor(props){\n  super(props)\n  this.state = {\n      chatMessage: \"\",\n      chats:[],\n      users:props.users,\n      grouptitle:props.grouptitle,\n      user:{},\n      currentgroupmessage:{},\n      lastgroupmessage:{},\n      chattingtouser:'',\n      unreadwholegroupmessages:0,\n      usertomessage:\"\",\n      room:'',\n      widthcolumntwo:\"0%\",\n      widthcolumnthree:\"60%\",\n      height:\"0vh\",\n      togglechat:false\n  }\n  let socket\nthis.handleuserchange=this.handleuserchange.bind(this)\nthis.setInitialChats=this.setInitialChats.bind(this)\n  console.log(\"PROPS\",props)\n}\n\n\n\ncomponentWillReceiveProps(nextProps) {\n   if (nextProps.users !== this.props.users) {\n     this.setState({\n       users: nextProps.users\n     });\n   }\n   if (nextProps.grouptitle !== this.props.grouptitle) {\n     this.setState({\n       grouptitle: nextProps.grouptitle\n     });\n   }\n }\n\ncomponentDidMount(props) {\n    let server =\"http://localhost:5000\";\n\n    this.props.dispatch(getChats());\n    if(process.env.NODE_ENV==\"production\"){\n      this.socket=io();\n    }\n    if(process.env.NODE_ENV==\"development\"){\n      this.socket=io(server);\n    }\n\nconsole.log(\"node env\",process.env.NODE_ENV)\n    this.setInitialChats()\n\n    this.socket.on(\"increase unread whole group count\", messageFromBackEnd => {\n      if(this.state.chattingtouser){\n        this.setState({unreadwholegroupmessages:this.state.unreadwholegroupmessages+1})\n      }\n})\n\n    this.socket.on(\"Output Chat Message\", messageFromBackEnd => {\n        if(this.state.usertomessage!==\"All Group Chat\"){\n          this.setState({unreadallgroupmessages:this.state.unreadallgroupmessages+1})\n        }\n        if(this.state.usertomessage==\"All Group Chat\"){\n          this.setState({unreadallgroupmessages:0})\n        }\n        console.log(\"OUTPUT CHAT MESSAGE messageFromBackEnd\",messageFromBackEnd)\n\n    addNotification({\n    title: `New notifications in group ${messageFromBackEnd.groupId}`,\n    subtitle: '',\n    message: messageFromBackEnd.message,\n    theme: 'darkblue',\n    native: true\n});\n\n        let chatscopy=JSON.parse(JSON.stringify(this.state.chats))\n        console.log(chatscopy)\n        chatscopy.push(messageFromBackEnd[0])\n        console.log(chatscopy.length)\n        console.log(chatscopy)\n        if(chatscopy.length>50){\n          chatscopy=chatscopy.slice((chatscopy.length-50),(chatscopy.length-1))\n          console.log(chatscopy)\n        }\n        this.setState({chats:chatscopy,currentgroupmessage:messageFromBackEnd[0]})\n\n        if (messageFromBackEnd[0]['recipient']){\n          if(this.state.user._id==messageFromBackEnd[0]['recipient']){\n\n            let usercopy=JSON.parse(JSON.stringify(this.state.user))\n            usercopy.recentprivatemessages.push(messageFromBackEnd[0])\n\n                  let userscopy=JSON.parse(JSON.stringify(this.state.users))\n                  for (let us of userscopy){\n                    us.unreadmessages=0\n              for (let message of usercopy.recentprivatemessages){\n\n                  if(message.sender==us._id){\n                    us.unreadmessages+=1\n                  }\n                }\n              }\n              this.setState({users:userscopy})\n          }\n        }\n    })\n\n\n    this.socket.on(\"Joined Room\", messageFromBackEnd => {\n        console.log(\"Joined Room\",messageFromBackEnd)\n        this.setState({user:messageFromBackEnd})\n              let userscopy=JSON.parse(JSON.stringify(this.state.users))\n              for (let user of userscopy){\n                user.unreadmessages=0\n          for (let message of messageFromBackEnd.recentprivatemessages){\n\n              if(message.sender==user._id){\n                user.unreadmessages+=1\n              }\n            }\n          }\n          console.log(\"USERS COPY\",userscopy)\n            this.setState({users:userscopy})\n    })\n\n    this.socket.on(\"Output pm\", messageFromBackEnd => {\n        console.log(\"mp\",messageFromBackEnd)\nif(messageFromBackEnd['recipient']==auth.isAuthenticated().user._id){\n  let usercopy=JSON.parse(JSON.stringify(this.state.user))\n\n  usercopy[`recentprivatemessages`].push(messageFromBackEnd)\n  console.log(\"usercopy\",usercopy[`recentprivatemessages`])\n  let userscopy=JSON.parse(JSON.stringify(this.state.users))\n  for (let us of userscopy){\n    us.unreadmessages=0\nfor (let message of usercopy.recentprivatemessages){\nconsole.log(message)\n  if(message.sender==us._id){\n    us.unreadmessages+=1\n  }\n}\n}\nconsole.log(\"USERS COPY\",userscopy)\nthis.setState({users:userscopy,user:usercopy})\n      }\n    })\n}\n\nasync setInitialChats(){\n\n  let room=this.props.grouptitle\n  let userName=auth.isAuthenticated().user.name\n  console.log(\"join group room\",room)\n    this.socket.emit(\"join group room\", {room,userName});\n  await fetch(`/api/chat/getChats/`+this.props.groupId)\n      .then(response => response.json())\n      .then(data=>{\n        console.log(\"get chats\",data)\n        if(data.length>50){\n          data=data.slice((data.length-50),(data.length-1))\n          console.log(data)\n        }\n        this.setState({chats:[...data]})\n      })\n\n    let us=await fetch(`/groups/getuser/`+auth.isAuthenticated().user._id)\n          .then(response => response.json())\n          .then(data=>{\n            return data.data\n          })\n\n      let userscopy=JSON.parse(JSON.stringify(this.state.users))\n\n      for (let user of userscopy){\n        user.unreadmessages=0\n  for (let message of us.recentprivatemessages){\n      if(message.sender==user._id){\n        user.unreadmessages+=1\n      }\n    }\n  }\n    this.setState({users:userscopy,user:us})\n}\n\nhandleInputChange = (e) => {\n    this.setState({\n        chatMessage: e.target.value\n    })\n}\n\nasync handleuserchange(e){\n  if(e.target.value==\"All Group Chat\"){\n    this.setState({usertomessage:'',unreadwholegroupmessages:0})\n    this.setInitialChats()\n    let room=this.props.groupId\n    let userName=auth.isAuthenticated().user.name\n    this.socket.emit(\"join group room\", {room,userName});\n    this.setState({chattingtouser:false})\n  }else{\n    let recipientId\n    let recipientName\n    for (let us of this.state.users){\n      if(us.name==e.target.value){\n        recipientId=us._id\n        recipientName=us.name\n      }\n    }\n    let room=[auth.isAuthenticated().user.name,e.target.value]\n    room=room.sort()\n    room=room.join()\n    let groupId=this.props.groupId\n    let userId=auth.isAuthenticated().user._id\n    let userName=recipientName\n\n    this.socket.emit(\"join room\", {room,userName,userId,recipientId,groupId});\n    console.log(\"changing user\")\n    if(this.state.usertomessage==\"\"){\n      this.setState({lastgroupmessage:this.state.currentgroupmessage})\n    }\n    this.setState({usertomessage: e.target.value,room: room,chattingtouser:true})\n    console.log(this.state.usertomessage)\n    let chatsarray=[]\n  try{\n    console.log(\"recipientid\",recipientId)\n    chatsarray=await fetch(`/api/chat/getChatsWithParticularUser/${recipientId}/${auth.isAuthenticated().user._id}`)\n          .then(response => response.json())\n          .then(data=>{\n              let arr=[...data]\n              return arr\n          })\n        }catch(err){\n        console.error(err)\n      }\n\n\n        this.setState({\n            chats: chatsarray\n        })\n  }\n}\n\n    componentDidUpdate() {\n        this.messagesEnd.scrollIntoView({ behavior: 'smooth' });\n    }\n\n    submitChatMessage = (e) => {\n        e.preventDefault();\n        if (this.props.user.userData && !this.props.user.userData.isAuth) {\n            return alert('Please Log in first');\n        }\n\n        let chatMessage = this.state.chatMessage\n        let userId = auth.isAuthenticated().user._id\n        let userName = auth.isAuthenticated().user.name;\n        let groupId=this.props.groupId\n        let groupTitle=this.state.grouptitle\n        let nowTime = moment();\n        let type = \"Text\"\n        let recipient\n        let room=this.state.room\n\n\nfor (let us of this.state.users){\n  if(us.name==this.state.usertomessage){\n    recipient=us\n  }\n}\nconsole.log(recipient?\"Input Chat Message To User\":\"Input Chat Message\")\n        this.socket.emit(recipient?\"Input Chat Message To User\":\"Input Chat Message\", {\n            chatMessage,\n            userId,\n            userName,\n            nowTime,\n            type,\n            recipient,\n            room,\n            groupId,\n            groupTitle\n                  });\n        this.setState({ chatMessage: \"\" })\n    }\n\n\n\n\n    render() {\n\n      var chats=  <p>No conversation so far.</p>\nvar type=Array.isArray(this.state.chats)\nif(type==true){\n  chats=this.state.chats.map(chat =>{\n    return (\n      <ChatCard key={chat._id}  {...chat} />\n    )\n  })}\nlet users=this.state.users.map(item=>item._id)\n      return (\n            <React.Fragment >\n            <div style={{height:this.state.height}} className=\"chat\">\n                <div className=\"chatcoloumn1\">\n    <textarea style={{marginTop:\"2vh\",marginLeft:\"2vw\"}}\n    placeholder=\"Let's start talking\"\n    align=\"top\"\n    type=\"text\"\n    value={this.state.chatMessage}\n    onChange={this.handleInputChange}></textarea>\n\n    {(users.includes(auth.isAuthenticated().user._id))&&\n      <button style={{display:\"inline\",marginTop:\"0.5vh\"}} className=\"submitbutton\" onClick={this.submitChatMessage}>Submit Message</button>}\n      <select style={{marginLeft:\"1vw\",marginTop:\"0.5vh\",display:\"inline\"}} name=\"room\" id=\"room\" onChange={this.handleuserchange}>\n      <option value=\"All Group Chat\">All Group Chat {this.state.unreadwholegroupmessages} unread messages</option>\n      {this.state.users&&this.state.users.map(user=>{\n        return(\n            <option key={user._id} value={user.name}>{user.name} {user.unreadmessages} unread messages </option>\n        )\n      })}\n      </select>\n          </div>\n    <div style={{border:\"white\", borderStyle: \"solid\",borderWidth:\"5px\",margin:\"10px\"}} className=\"chatcoloumn2\">\n                    <div style={{ width:\"97%\",height: \"90%\",background:\"#efefef\",margin:\"10px\",  overflowY: 'scroll' }}>\n                        {chats}\n                        <div\n                            ref={el => {\n                                this.messagesEnd = el;\n                            }}\n                            style={{clear: \"both\" }}\n                           />\n                            </div>\n                            </div>\n                            </div>\n                            <div className=\"togglechatbutton chat\" style={{\n                              bottom:this.state.height,\n                              borderColor:\"#c7cecc\",\n                              borderStyle: \"solid\",\n                              borderRightWidth:\"0.5vw\",\n                              borderleftWidth:\"0.5vw\",\n                              borderTopWidth:\"0.5vw\",\n                              width:\"100vw\",\n                              transition:\"bottom 2s\"}}>\n                            <button style={{transform:\"translateY(-30%)\",margin:\"8px\",borderRadius:\"5px\"}} onClick={(e) => {e.preventDefault();\n                          this.setState({ togglechat:!this.state.togglechat,height:this.state.togglechat?\"0.5vh\":\"40vh\"});\n                        }}>View Chat</button>\n                            </div>\n            </React.Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.user,\n        chats: state.chat\n    }\n}\n\n\nexport default connect(mapStateToProps)(ChatPage);\n","import axios from 'axios';\nimport {\n    GET_CHATS,\n    GET_GROUP_CHATS,\n    AFTER_POST_MESSAGE\n} from './types';\nimport { CHAT_SERVER } from './Config.js';\n\nexport function getChats(){\n    const request = axios.get(`${CHAT_SERVER}/getChats`)\n        .then(response => response.data);\n\n    return {\n        type: GET_CHATS,\n        payload: request\n    }\n}\n\nexport function getGroupChats(data){\nreturn {\n            type: GET_GROUP_CHATS,\n            payload: data\n        }\n}\n\nexport function afterPostMessage(data){\n\n    return {\n        type: AFTER_POST_MESSAGE,\n        payload: data\n    }\n}\n","import React, {useRef,useState,useEffect} from 'react'\r\nimport auth from '../auth/auth-helper'\r\nimport Axios from 'axios'\r\nconst axios = require('axios');\r\nconst mongoose = require(\"mongoose\");\r\n\r\n\r\n\r\nexport default function CreateGroupForm(props) {\r\n  const titleValue = React.useRef('')\r\n  const descriptionValue = React.useRef('')\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadComplete,setUploadComplete]=useState(false)\r\n  const [errors, setErrors] = useState([]);\r\n  const [failed, setFailed] = useState(false);\r\n  const levelValue = React.useRef(0)\r\n  const parentGroupValue = React.useRef('')\r\n  const selectedFile1 = React.useRef(null)\r\n  const [levels, setLevels] = useState([]);\r\n  const [groups, setGroups] = useState(props.groups);\r\n  const [subgroups,setSubgroups]=useState([]);\r\n  const [user, setUser] = useState(props.user);\r\n  const [toggle, setToggle] = useState(false);\r\n  const [max, setMax] = useState(0);\r\n\r\n\r\n  useEffect(()=>{\r\n    setGroups(props.groups)\r\n    let subgroups=props.groups.filter(item=>item.level==1)\r\n    let max=props.groups.sort(function(a, b){return b.level-a.level});\r\n    max=max[0]\r\n    if(max){\r\n      max=max.level\r\n    }\r\n\r\n\r\n    setSubgroups(subgroups)\r\n  },[props])\r\n\r\n  useEffect(()=>{\r\n    fetch(`/groups/finduser/`+auth.isAuthenticated().user._id)\r\n    .then(response => response.json())\r\n    .then(data=>{\r\n      let user=JSON.parse(JSON.stringify(data.data))\r\n\r\n      let levels=[]\r\n      for (let group of user[0].groupstheybelongto){\r\n        levels.push(group.level)\r\n      }\r\n      console.log(user[0])\r\n      levels=[...new Set(levels)]\r\n      console.log(\"levels\",levels)\r\n      levels=levels.sort((a, b) => a - b)\r\n      if(levels.length>1){\r\n        levels.pop()  \r\n      }\r\n      setLevels(levels)\r\n    })\r\n    .catch(error=>console.error(error))\r\n\r\n\r\n  },[])\r\n\r\n\r\n  function setUpperGroupOptions(){\r\n    let subgroups=groups.filter(item=>item.level==(levelValue.current.value+1))\r\n    setSubgroups(subgroups)\r\n\r\n  }\r\n\r\nfunction changing(){\r\n  if (levelValue.current.value==2){\r\n\r\n  }\r\n  let errorscopy=[]\r\n\r\n  if(!parentGroupValue.current.value&&auth.isAuthenticated().user.cool){\r\n    errorscopy.push(\"You need to choose a parent group\")\r\n  }\r\n\r\n  if(titleValue.current.value.length==0){\r\n    errorscopy.push(\"You need a title\")\r\n  }\r\n\r\n  if(!descriptionValue.current.value){\r\n    errorscopy.push(\"You need a group description\")\r\n  }\r\n\r\n  if(!levelValue.current.value&&auth.isAuthenticated().user.cool){\r\n    errorscopy.push(\"You need to choose a group level\")\r\n  }\r\n\r\n  if (errorscopy.length==0){\r\n    setFailed(false)\r\n  }\r\n\r\n\r\n  setErrors(errorscopy)\r\n\r\n}\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\nif(errors.length>0){\r\n  setFailed(true)\r\n}\r\n\r\nif (errors.length==0){\r\n\r\n\r\n  setUploading(true)\r\n\r\n  var groupId=mongoose.Types.ObjectId()\r\n  groupId=groupId.toString()\r\n\r\n  let imageids=[]\r\n\r\n  if(selectedFile1.current.files[0]){\r\n    const formData = new FormData();\r\n    formData.append('file', selectedFile1.current.files[0]);\r\n    formData.append(\"upload_preset\", \"jvm6p9qv\");\r\n    await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\r\n    .then(response => {\r\n\r\n      imageids.push(response.data.public_id)\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n\r\n\r\n\r\n  let d = new Date();\r\n  let n = d.getTime();\r\nlet groupabove=auth.isAuthenticated().user.cool?parentGroupValue.current.value:null\r\n\r\n  const newPost={\r\n    _id:groupId,\r\n    title: titleValue.current.value,\r\n    groupabove:groupabove,\r\n    description:descriptionValue.current.value,\r\n    cool:auth.isAuthenticated().user.cool,\r\n    timecreated:n,\r\n    images:imageids,\r\n    level:Number(levelValue.current.value),\r\n    members:[],\r\n    centroid:auth.isAuthenticated().user.coordinates,\r\n  }\r\n\r\n  props.updateGroups(newPost)\r\n\r\n\r\n\r\n  const options={\r\n    method: \"POST\",\r\n    body: JSON.stringify(newPost),\r\n    headers: {\r\n      \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n      const optionstwo={\r\n        method: \"PUT\",\r\n        body: \"\",\r\n        headers: {\r\n          \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n          let groupid=await fetch(\"groups/creategroup\", options)\r\n          .then(response => response.json())\r\n          .then(data=>{return data.data})\r\n          .catch(err => {\r\n            console.error(err);\r\n          })\r\n\r\n          await fetch(\"groups/addlowertohigher/\"+groupid+\"/\"+parentGroupValue.current.value, optionstwo)\r\n          .then(response => response.json())\r\n          .then(json =>console.log(json))\r\n          .catch(err => {\r\n            console.error(err);\r\n          })\r\n          setUploading(false)\r\n          setUploadComplete(true)\r\n          setTimeout(() => {\r\n      setUploadComplete(false)\r\n      }, 5000)\r\n}\r\n          }\r\n\r\n\r\n          return (\r\n            <div className=\"homepageform\">\r\n            <form onSubmit={handleSubmit} onChange={changing}>\r\n            <h3>You can make a group for anything. It could be for a geographic area or\r\n            a particular subject or topic.</h3>\r\n            <div className=\"titlediv\">\r\n            <label style={{display:\"inline\"}} htmlFor='name'>Title</label>\r\n            <input\r\n            style={{display:\"inline\",width:\"80vw\"}}\r\n            type='text'\r\n            name='titleValue'\r\n            id='titleValue'\r\n            ref={titleValue}\r\n            />\r\n            </div>\r\n            <div className=\"titlediv\">\r\n            <label style={{display:\"inline\"}} htmlFor='name'>Description</label>\r\n            <input\r\n            style={{display:\"inline\",width:\"76vw\"}}\r\n            type='text'\r\n            name='descriptionValue'\r\n            id='descriptionValue'\r\n            ref={descriptionValue}\r\n            />\r\n            </div>\r\n\r\n            {auth.isAuthenticated().user.cool&&\r\n              <div style={{display:\"inline\"}}>\r\n              <label style={{display:\"inline\"}} style={{display:\"inline\"}} htmlFor='name'>Choose a Level</label>\r\n              <select style={{display:\"inline\"}} onChange={setUpperGroupOptions} ref={levelValue}>\r\n              {!levels&&<option value=\"0\">0</option>}\r\n              {levels&&levels.map(item=><option value={item}>{item}</option>)}\r\n              </select>\r\n              </div>}\r\n\r\n            {auth.isAuthenticated().user.cool&&\r\n            <div style={{display:\"inline\"}}>\r\n            <label htmlFor='name'>Choose a parent group</label>\r\n            <select ref={parentGroupValue}>\r\n            <option value=\"\"></option>\r\n            {subgroups&&subgroups.map(item=><option value={item._id}>{item.title}</option>)}\r\n            </select>\r\n            </div>}\r\n            <div id=\"file\" style={{display:\"inline\"}}>\r\n            <label style={{display:\"inline\"}} htmlFor='name'>Image</label>\r\n            <input style={{display:\"inline\",width:\"30%\"}} type=\"file\" ref={selectedFile1}/>\r\n            </div>\r\n            <div>\r\n            <label>You must choose a level before you can choose a parent group. You can only create a group at a level above zero\r\n            if you have been elected to be a member of a higher level group.</label>\r\n            </div>\r\n            {(errors&&failed)&&errors.map(item=><p style={{color:\"red\"}}>{item}</p>)}\r\n            {(!uploadComplete&&!uploading&&!failed)&&<button style={{margin:\"1vw\"}} type=\"submit\" value=\"Submit\">Submit</button>}\r\n            {uploading&&<h3>uploading.....</h3>}\r\n            {uploadComplete&&<h2>Upload Complete</h2>}\r\n            </form>\r\n            </div>\r\n          )}\r\n","import React, { Component } from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport { MapContainer, TileLayer,Circle} from 'react-leaflet'\r\nimport auth from './../auth/auth-helper'\r\nimport {Image} from 'cloudinary-react'\r\nimport CreateGroupForm from '../groups/CreateGroupForm'\r\n\r\nvar geodist = require('geodist')\r\n\r\nclass GroupsList extends Component {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      groups: [],\r\n      vidone:[],\r\n      vidtwo:[],\r\n      allgroups:[],\r\n      mygroups:[],\r\n      user:{},\r\n      page:1,\r\n      pageNum:[],\r\n      viewform:false,\r\n      currentPageData:[],\r\n    }\r\n    this.viewAllGroups=this.viewAllGroups.bind(this)\r\n    this.updateGroups=this.updateGroups.bind(this)\r\n    this.searchGroups=this.searchGroups.bind(this)\r\n    this.handleSearchChange=this.handleSearchChange.bind(this)\r\n  }\r\n  componentDidMount(){\r\n    this.viewAllGroups()\r\nlet videos=[\"https://www.youtube.com/embed/tTBWfkE7BXU\",\"https://www.youtube.com/embed/34LGPIXvU5M\",\r\n\"https://www.youtube.com/embed/8ZoI0C1mPek\",\"https://www.youtube.com/embed/x-oRmcYR5cM\",\r\n\"https://www.youtube.com/embed/emnYMfjYh1Q\",\"https://www.youtube.com/embed/Hgwtd4X_qFM\",\r\n\"https://www.youtube.com/embed/lu8lQKVcbOs\",\"https://www.youtube.com/embed/_swnWW2NGBI\",\r\n\"https://www.youtube.com/embed/7IIEB5JiyNs\",\r\n\"https://www.youtube.com/embed/wCzS2FZoB-I\",\"https://www.youtube.com/embed/uNkADHZStDE\",\r\n\"https://www.youtube.com/embed/6s17IAj-XpU\"]\r\n\r\n    let randomVids = videos.sort(() => .5 - Math.random()).slice(0, 2);\r\n    this.setState({vidone:randomVids[0],vidtwo:randomVids[1]})\r\n  }\r\n\r\n  updateGroups(newgroup){\r\n    var groupscopy=JSON.parse(JSON.stringify(this.state.groups))\r\n    groupscopy.reverse()\r\n    groupscopy.push(newgroup)\r\n    groupscopy.reverse()\r\n    this.setState({groups:groupscopy})\r\n  }\r\n\r\n  searchGroups(event){\r\n    if(this.state.searchterm.length>0){\r\n      let groupscopy=JSON.parse(JSON.stringify(this.state.allgroups))\r\n      groupscopy=groupscopy.filter(item=>item.title.toLowerCase().includes(this.state.searchterm.toLowerCase()))\r\n      this.setState({groups:groupscopy})\r\n    }\r\n    if(this.state.searchterm.length==0){\r\n      this.setState({groups:this.state.allgroups})\r\n    }\r\n  }\r\n\r\n  handleSearchChange(event) {\r\n    this.setState({searchterm:event.target.value})\r\n  }\r\n\r\n  viewAllGroups(){\r\n    fetch(`/groups/finduser/`+auth.isAuthenticated().user._id)\r\n    .then(response => response.json())\r\n    .then(data=>{\r\n      this.setState({user:data.data[0]})\r\n    }).catch(error=>console.error(error))\r\n\r\n    fetch('/groups/findgroups/'+auth.isAuthenticated().user.cool).then(res => {\r\n      return res.json();\r\n    }).then(blob => {\r\n      let groups=JSON.parse(JSON.stringify(blob.data))\r\n      groups.sort(() => Math.random() - 0.5);\r\n      this.setState({groups:groups,allgroups:groups})\r\n    }).catch(error=>console.error(error))\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    var groupsmapped=<h3>no groups</h3>\r\n\r\n    if(this.state.groups){groupsmapped=this.state.groups.map(item => {\r\n\r\n      return(\r\n        <>\r\n        <Link key={item._id} className=\"gotogroup\" exact to={\"/group/\" + item._id}>\r\n        <div className=\"groupdiv\" key={item._id}>\r\n        <div>\r\n        {item.title&&<h3 style={{display:\"inline\",margin:\"0vw\",padding:\"0vw\",overflowX:\"hidden\"}}>Title: {item.title&&item.title}  </h3>}\r\n        {item.location&&<h4 style={{display:\"inline\",margin:\"0vw\",padding:\"0vw\",overflow:\"hidden\"}}>Location: {item.location}  </h4>}\r\n        <h4 style={{display:\"inline\",margin:\"0vw\",padding:\"0vw\"}}>Level: {item.level}</h4>\r\n        </div>\r\n        </div>\r\n        </Link>\r\n        </>\r\n      )\r\n    })}\r\n\r\n\r\n\r\n\r\n    let mygroupsmapped=[]\r\n\r\n    let nogroups=false\r\n    if(this.state.user){\r\n      if(this.state.user.groupstheybelongto){\r\n        if(this.state.user.groupstheybelongto.length==0){nogroups=true}\r\n        mygroupsmapped=this.state.user.groupstheybelongto.map(item => {\r\n\r\n          return(\r\n            <>\r\n            <div key={item._id} className=\"groupdiv\" key={item._id}>\r\n            <Link style={{margin:\"0vw\",padding:\"0vw\"}} className=\"gotogroup\" exact to={\"/group/\" + item._id}>\r\n            <div style={{margin:\"0vw\",padding:\"0vw\"}}>\r\n            {item.title&&<h3 style={{display:\"inline\",margin:\"0vw\",padding:\"0vw\",overflowX:\"hidden\"}}>Title: {item.title&&item.title}</h3>}\r\n            {item.location&&<h4 style={{display:\"inline\",margin:\"0vw\",padding:\"0vw\",overflow:\"hidden\"}}> Location: {item.location}</h4>}\r\n            <h4  style={{display:\"inline\",margin:\"0vw\",padding:\"0vw\"}}> Level: {item.level}</h4>\r\n            </div></Link>\r\n            </div>\r\n            </>\r\n          )\r\n        })\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"groupslist\" style={{marginTop:\"6vh\"}}>\r\n      <div  style={{margin:\"0vw\"}}>\r\n      <h1 className=\"groupstitle\">Groups</h1>\r\n      </div>\r\n      <div>\r\n      <button style={{}} onClick={(e) => this.setState({viewform:!this.state.viewform})}>View Create Group Form?</button>\r\n      </div>\r\n      <div style={{marginTop:\"1vw\",marginBottom:\"0.5vw\",maxHeight:!this.state.viewform?\"0\":\"100vw\",overflow:\"hidden\",transition:\"max-height 2s\"}}>\r\n      <CreateGroupForm  updateGroups={this.updateGroups} groups={this.state.groups} user={this.state.user}/>\r\n      </div>\r\n\r\n\r\n      <div className='yourgroups'>\r\n      <div className='groupdivtwo'>\r\n      <h2 style={{marginLeft:\"2.5vw\",margin:\"0.5vw\"}}>Your Groups</h2>\r\n      </div>\r\n      <div style={{display:\"flex\",flexWrap:\"wrap\"}}>\r\n      {nogroups&&<h4 style={{marginLeft:\"2.5vw\",margin:\"0.5vw\"}}>You haven't joined any groups yet, click on the group link below.\r\n      Join some groups, make suggestions and vote for rules. Post an introduction about yourself. You can only join a\r\n      maximum of three bottom level groups. If you leave one group, your votes are still recorded but not counted.\r\n      If you choose to rejoin, they will count again.</h4>}\r\n      {mygroupsmapped}\r\n      </div>\r\n      </div>\r\n      <section className='groupsbox'>\r\n      <div className='groupscol1'>\r\n      <div className='groupdivtwo'>\r\n      <h2 style={{marginLeft:\"2.5vw\",margin:\"0.5vw\",display:\"inline\"}}>All Groups</h2>\r\n      <input style={{width:\"63vw\",marginLeft:\"2.5vw\",margin:\"0.5vw\",display:\"inline\"}} placeholder=\"enter search term\" onChange={(e)=>this.handleSearchChange(e)}></input>\r\n      <button style={{marginLeft:\"2.5vw\",margin:\"0.5vw\",display:\"inline\"}} onClick={(e)=>this.searchGroups(e)}>Search All Groups</button>\r\n      </div>\r\n      <div style={{display:\"flex\",flexWrap:\"wrap\"}}>\r\n      {groupsmapped}\r\n      </div>\r\n      </div>\r\n      </section>\r\n      <br/>\r\n      {auth.isAuthenticated().user.cool&&<>\r\n        <div className=\"vids\">\r\n      <iframe style={{margin:\"0.5vw\",width:\"44vw\",height:\"44vh\",display:\"inline\"}} src={this.state.vidone} title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n      <iframe style={{margin:\"0.5vw\",width:\"44vw\",height:\"44vh\",display:\"inline\"}} src={this.state.vidtwo} title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n      </div>\r\n      </>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GroupsList;\r\n","import React, {useState, useEffect} from 'react'\nimport ChatPage from \"./../ChatPage/ChatPage\"\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport auth from './../auth/auth-helper'\nimport {Image} from 'cloudinary-react'\nimport {Link} from \"react-router-dom\";\nimport GroupList from '../groups/GroupList'\nconst KmeansLib = require('kmeans-same-size');\n\nlet info=[\"\",\n\"In the last few decades wage growth has declined substantially, the cost of living increased enormously and unemployment rates have tripled. These problems have fairly straightforward solutions, we just need a political system that chooses the sorts of leaders who will pursue them. We are experimenting with a new system called Democracy-social-network\",\n`\"In theory it was perfect equality, and even in practice it was not far from it. There is a sense in which it would be true to say that one was experiencing a foretaste of Socialism, by which I mean that the prevailing mental atmosphere was that of Socialism. Many of the normal motives of civilized life — snobbishness, money-grubbing, fear of the boss, etc. — had simply ceased to exist. The ordinary class-division of society had disappeared to an extent that is almost unthinkable in the money-tainted air of England; there was no one there except the peasants and ourselves, and no one owned anyone else as his master.\" -George Orwell Homage to Catalonia`,\n\"Our current political system was designed at a time when the maximum speed that information could travel was as fast as horses could run. This restricted how democratic organisations could be. The most practical way to organise large, complex groups of people, back then was with a top down hierarchical system, with orders being passed down from the top and spreading out exponentially. You could have an election every few years to choose the upper level leaders, but that was about as much democracy as was practical. Most businesses and the administration of the public enterprises were usually organized in a top down way. Today, the internet and computers allow much more democratic forms of organisation that are much more responsive to the needs and wants of the population but also to expert knowledge.\",\n\"Social Media is not very democratic. Just like capitalist businesses, social media groups usually have bosses. The admins or moderators are usually not elected by or accountable to the group. They can censor anyone and anything with few real consequences. People can be removed from groups with no judicial process or explanation of any kind. Group members are usually not at all involved in creating the rules and often these are not even made explicit. All of this contributes to feelings of social anxiety among users. We have designed a new and different social network in order to try to resolve some of these problems and create more real, human connections.\",\n\"We have designed a new, democratic social network. All group admins are elected by the groups, members can propose and vote on their own rules, and polls. Each group has a jury tab in which members can vote on restrictions for rule breakers. Elected leaders can have their authority removed at any time by the group.\",\n\"We've designed a democratic social network with the intention of making it easier for workers to form unions or co-operatives. Admins are elected by each group and members are much more involved in creating and enforcing the rules than in most social media applications.\",\n\"Social Networks have been demonstrated by psychologists to be harmful to our mental health, Facebook has even admitted this in court. This is largely because facebook is undemocratic. The admins of groups are usually not elected by the members, they are unaccountable to the group. They can sensor anyone or anything with practically few consequences for themselves. They can remove people from groups with no explanation. Group members are not at all involved in creating the rules and often these are not even made explicit. This leads to strong feelings of insecurity and social anxiety among Facebook Users. In a hierarchical/undemocratic organization, people are less likely to give each other the benefit of the doubt. We are all human, we are all imperfect. If there are strong imbalances of power, people will try to emphasize and focus on each other's character flaws to provide an excuse for having a higher status in the group. It makes us less willing to admit mistakes and accept criticism. Power is always illegitimate, if we define 'power' as meaning the ability to impose our own will onto other people. The Democratic Social Network aims to resolve this problem and create a more human online social environment where we can be more honest with and accepting of each other.\",\n\"The economic situation for the vast majority of Australians has grown substantially worse since the 1970s. The unemployment rate has almost tripled, it is much harder to find and maintain consistent employment. The cost of living is much more expensive, particularly housing. Wage growth has declined substantially. We need a new kind of political system that is more democratic, more responsive to the wants and needs of the population but also to expert advice. I have built a democratic social network in order to demonstrate how computers and the internet can potentially create a much more human political system that results in much smarter group decisions that more people are happy with. We need a system where the government cannot just blatantly ignore a consensus amongst climate scientists that we are facing a global ecological catastrophe or that most of the population agree that we should do our best to resolve this problem.\",\n\"Worker Co-operatives are democratic businesses where the workers are also the shareholders. They own and run the business, electing their own managers and directors. They decide how to distribute the profit. This form of organization is superior to Capitalist enterprise. Co-operatives tend to have a longer lifespan, are less risky to start up, workers are better paid and report safer, happier, more friendly working conditions. The democratic social network may help people to establish worker co-ops.\",\n\"In this day and age our technology has become so advanced that there is little need to work. Within the next few decades, there will be no need. Robots exist that can grow and cook all the food you need, solar panels that can produce all the energy you need, robots that can 3d print houses for very low cost. Why is it that we still work 9 to 5, five days a week, a habit that began more than a century ago? Democracy Social Network can answer this question and provide a potential solution to the problem.\",\n\"Do you ever wish you could be your own boss? Would you rather work with people instead of for someone? The Democracy Social Network may have some solutions.\"]\n\ninfo.sort(() => Math.random() - 0.5);\ninfo.sort(() => Math.random() - 0.5);\ninfo.sort(() => Math.random() - 0.5);\n\n\nexport default function Home({history}){\n  const [users, setUsers] = useState(false)\n\n\n  useEffect(()=> {\ngetGroupData()\npageCounter()\n  }, [])\n\n\nfunction pageCounter(){\nconst options = {\n  method: 'put',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: ''\n}\nfetch(\"/groups/addtopagecounter/home\", options\n).then(res => {\nreturn res.json()\n}).catch(err => {\nconsole.error(err);\n})\n}\n\n  async function getGroupData(){\n    await fetch(`/groups/getusers`)\n        .then(response => response.json())\n        .then(data=>{\n          console.log(\"users\",data)\n          setUsers(data)\n        })\n  }\n    return (\n      <div style={{height:\"100vh\",width:\"100vw\",overflow:\"hidden\",scroll:\"none\"}}>\n      {!auth.isAuthenticated()&&<div style={{height:\"100vh\",width:\"100vw\",position:\"relative\",zIndex:2,overflow:\"hidden\"}}>\n      <h5 style={{marginLeft:\"8vw\",marginRight:\"10vw\",marginTop:\"5vh\"}}>\n      {info[0]}\n      </h5>\n      <img className=\"homepageimg\" src={require('./hands.png')} /></div>}\n      {auth.isAuthenticated()&&<><GroupList />\n        </>}\n      </div>\n    )\n}\n","const create = async (user) => {\n  try {\n    let response = await fetch('/api/users/', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\n\nconst changePassword = async (user) => {\n  console.log(\"updating user\",user)\n  try {\n    let response = await fetch('/api/users/changepassword/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nconst list = async (signal) => {\n  try {\n    let response = await fetch('/api/users/', {\n      method: 'GET',\n      signal: signal\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nconst read = async (params, credentials, signal) => {\n  try {\n    let response = await fetch('/api/users/' + params.userId, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nconst update = async (params, credentials, user) => {\n  try {\n    let response = await fetch('/api/users/' + params.userId, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: user\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nconst remove = async (params, credentials) => {\n  try {\n    let response = await fetch('/api/users/' + params.userId, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nconst follow = async (params, credentials, followId) => {\n  try {\n    let response = await fetch('/api/users/follow/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: JSON.stringify({userId:params.userId, followId: followId})\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nconst unfollow = async (params, credentials, unfollowId) => {\n  try {\n    let response = await fetch('/api/users/unfollow/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: JSON.stringify({userId:params.userId, unfollowId: unfollowId})\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nconst findPeople = async (params, credentials, signal) => {\n  try {\n    let response = await fetch('/api/users/findpeople/' + params.userId, {\n      method: 'GET',\n      signal: signal,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n    })\n    return await response.json()\n  } catch(err) {\n    console.error(err)\n  }\n}\n\nexport {\n  create,\n  changePassword,\n  list,\n  read,\n  update,\n  remove,\n  follow,\n  unfollow,\n  findPeople\n}\n","import React, {useState,useRef,useEffect} from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Icon from '@material-ui/core/Icon'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport {create} from './api-user.js'\nimport {Link} from 'react-router-dom'\nimport auth from './../auth/auth-helper'\nimport {Image} from 'cloudinary-react'\nimport io from \"socket.io-client\";\nimport Axios from 'axios'\nconst mongoose = require(\"mongoose\");\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing(5),\n    paddingBottom: theme.spacing(2)\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing(2),\n    color: theme.palette.openTitle\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 300\n  },\n\n}))\n\nexport default function Signup (){\n  const classes = useStyles()\n  const [numImages, setNumImages] = useState([0]);\n  const [loading,setLoading]=useState(false);\n  const [togglesex,setTogglesex]=useState(false);\n  const [values, setValues] = useState({\n    name: '',\n    password: '',\n    passwordtwo:'',\n    passworderror:false,\n    coordinates:'',\n    politicalparties:'',\n    sex:\"female\",\n    passiveincome:false,\n    location:'',\n    securityquestionone:'',\n    securityquestiontwo:'',\n    groupsCoordinates:'',\n    address:'',\n    email: '',\n    phone:'',\n    expertise:'',\n    images:'',\n    error:'',\n    open: false,\n  })\n  const selectedFile1 = React.useRef(null)\n  const selectedFile2 = React.useRef(null)\n  const selectedFile3 = React.useRef(null)\n  const selectedFile4 = React.useRef(null)\n  const selectedFile5 = React.useRef(null)\n  let server = \"http://localhost:5000\";\n  let socket = io(server);\n\n  useEffect(()=>{\n\n  },[numImages,setNumImages])\n\n  function extraImage(e){\n    e.preventDefault()\n    let imagenum=numImages\n\n    if(imagenum.length<5){\n      imagenum.push(0)\n    }\n\n    setNumImages([...imagenum])\n  }\n\n  function lessImage(e){\n    e.preventDefault()\n\n    let imagenum=numImages\n    if(imagenum.length>0){\n      imagenum.pop()\n    }\n\n    setNumImages([...imagenum])\n  }\n\n\n\n  async function createUser(){\n    if(!(values.password==values.passwordtwo)){\n      setValues({ ...values, passworderror:true})\n    }\n\n\n    if(values.password==values.passwordtwo){\n\n      setValues({ ...values, passworderror:false})\n\n      setLoading(true)\n\n      var userId=mongoose.Types.ObjectId()\n\n      let imageids=[]\n\n      if(selectedFile1.current.files[0]){\n        const formData = new FormData();\n        formData.append('file', selectedFile1.current.files[0]);\n        formData.append(\"upload_preset\", \"jvm6p9qv\");\n        await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\n        .then(response => {\n\n          imageids.push(response.data.public_id)\n        })}\n\n        if(selectedFile2.current.files[0]){const formData = new FormData();\n          formData.append('file', selectedFile2.current.files[0]);\n          formData.append(\"upload_preset\", \"jvm6p9qv\");\n          await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\n          .then(response => {\n\n            imageids.push(response.data.public_id)\n          })}\n\n          if(selectedFile3.current.files[0]){const formData = new FormData();\n            formData.append('file', selectedFile3.current.files[0]);\n            formData.append(\"upload_preset\", \"jvm6p9qv\");\n            await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\n            .then(response => {\n\n              imageids.push(response.data.public_id)\n            })}\n\n            if(selectedFile4.current.files[0]){const formData = new FormData();\n              formData.append('file', selectedFile4.current.files[0]);\n              formData.append(\"upload_preset\", \"jvm6p9qv\");\n              await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\n              .then(response => {\n\n                imageids.push(response.data.public_id)\n              })}\n\n              if(selectedFile5.current.files[0]){const formData = new FormData();\n                formData.append('file', selectedFile5.current.files[0]);\n                formData.append(\"upload_preset\", \"jvm6p9qv\");\n                await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\n                .then(response => {\n\n                  imageids.push(response.data.public_id)\n                })}\n\n                let cool=true\n\n                if (values.politicalparties.toLowerCase().includes(\"labour\")||values.politicalparties.toLowerCase().includes(\"liberal\")\n                ||values.politicalparties.toLowerCase().includes(\"socialist alternative\")||values.politicalparties.toLowerCase().includes(\"resistance\")\n                ||values.politicalparties.toLowerCase().includes(\"greens\"||values.politicalparties.toLowerCase().includes(\"national\")\n                ||values.politicalparties.toLowerCase().includes(\"united\"))){\n                  cool=false\n                }\n\n\n                if (Boolean(values.passiveincome)){\n                  cool=false\n                }\n\n                const user = {\n                  _id:userId,\n                  name: values.name || undefined,\n                  phone: values.phone || undefined,\n                  email: values.email || undefined,\n                  sex:values.sex,\n                  cool:cool,\n                  expertise: values.expertise || undefined,\n                  images:imageids,\n                  password: values.password || undefined\n                }\n\n                console.log(user)\n                create(user).then((data) => {\n                  if (data.error) {\n                    setValues({ ...values, error: data.error})\n                  } else {\n                    setValues({ ...values, error: '', open: true})\n                  }\n                })\n\n                setLoading(false)\n\n              }\n\n            }\n\n            function handleSexChange(e,sex){\n              console.log(values,togglesex)\n              setTogglesex(!togglesex)\n              setValues({ ...values, sex: sex })\n            }\n\n            const handleChange = name => event => {\n\n              setValues({ ...values, [name]: event.target.value })\n            }\n            const handleCheckboxChange = name => event => {\n\n\n              setValues({ ...values, [name]: event.target.checked })\n            }\n\n            const clickSubmit = (e) => {\n              createUser()\n            }\n\n            return (\n\n\n              <div className=\"signupform\">\n\n              <h2  className=\"innersignupform\" style={{display:(loading?\"block\":\"none\")}}>Uploading profile, please wait...</h2>\n\n              <div className=\"innersignupform\" style={{display:(!loading?\"block\":\"none\")}}>\n              <h4 style={{textAlign:\"center\"}}>\n              Sign Up\n              </h4>\n              <div className=\"signupinput\"><h5 style={{marginRight:\"1vw\"}} className=\"ruletext\">Name </h5><input id=\"name\" placeHolder={values.name} label=\"text\" value={values.name} onChange={handleChange('name')} margin=\"normal\"/></div>\n              <div className=\"signupinput\"><h5 style={{marginRight:\"1vw\"}} className=\"ruletext\">Email </h5><input id=\"email\" placeHolder={values.email} type=\"text\" label=\"Email\" value={values.email} onChange={handleChange('email')} margin=\"normal\"/></div>\n              <div className=\"signupinput\"><h5 style={{marginRight:\"1vw\"}} className=\"ruletext\">Phone </h5><input id=\"phone\" placeHolder={values.phone} type=\"text\" label=\"Phone\" value={values.phone} onChange={handleChange('phone')} margin=\"normal\"/></div>\n              <div style={{margin:\"1vw\"}}><h5 style={{marginRight:\"1vw\",display:\"block\"}}>\n              Try to explain your skills, knowledge, experience, qualifications. You may be elected as a leader of a group and other group members\n              need some way of evaluating if you are a good candidate.</h5>\n              <textarea style={{width:\"95%\",height:\"20vh\",overflowY:\"auto\",display:\"block\"}} id=\"expertise\" placeHolder={values.expertise} label=\"expertise\" value={values.expertise} onChange={handleChange('expertise')} margin=\"normal\"/></div>\n\n              <div className=\"signupinput\" style={{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}>\n              <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\">Are you male or female? If you identify as another category please write it below.\n              We are aiming for proportionate representation for all demographic groups.</h5>\n              <h6 style={{display:\"inline\"}}>Male</h6><input id=\"expertise\" checked={togglesex} style={{margin:\"0.5vw\",display:\"inline\"}} type=\"checkbox\" onClick={e=>handleSexChange(e,'male')} margin=\"normal\"/>\n              <h6 style={{display:\"inline\"}}>Female</h6><input id=\"expertise\" checked={!togglesex} style={{margin:\"0.5vw\",display:\"inline\"}} type=\"checkbox\" onClick={e=>handleSexChange(e,'female')} margin=\"normal\"/>\n              </div>\n              <input style={{width:\"95%\"}} id=\"expertise\" type=\"text\"/>\n              <div className=\"signupinput\"><h5 style={{marginRight:\"1vw\"}} className=\"ruletext\">\n              Are you a member of any political parties? If so, which ones? </h5>\n              <input id=\"expertise\" type=\"text\" placeHolder={values.politicalparties} label=\"expertise\" value={values.politicalparties} onChange={handleChange('politicalparties')} margin=\"normal\"/></div>\n\n              <div className=\"signupinput\" style={{display:\"none\",alignItems:\"center\",justifyContent:\"center\"}}><h5 style={{display:\"none\",marginRight:\"1vw\"}} className=\"ruletext\">\n              Do you receive any passive income from rents, dividends, interest or royalties? We are curious\n              if you are a working class person. </h5>\n              <input style={{display:\"none\"}} id=\"expertise\" type=\"checkbox\" value={false} onChange={handleCheckboxChange('passiveincome')} margin=\"normal\"/></div>\n              <div className=\"signupinput\">\n              <h5 className=\"ruletext\">  Images </h5>\n              <div style={{display:((numImages.length>=1)?\"block\":\"none\")}}  className=\"eventformbox ruletext\">\n              <input id=\"file\" type=\"file\" ref={selectedFile1}/>\n              </div>\n              </div>\n\n              <div style={{display:((numImages.length>=2)?\"block\":\"none\")}} className=\"eventformbox ruletext\">\n              <input style={{width:\"90%\"}} id=\"file\" type=\"file\" ref={selectedFile2}/>\n              </div>\n\n              <div style={{display:((numImages.length>=3)?\"block\":\"none\")}}  className=\"eventformbox ruletext\">\n              <input style={{width:\"90%\"}} id=\"file\" type=\"file\" ref={selectedFile3}/>\n              </div>\n\n              <div style={{display:((numImages.length>=4)?\"block\":\"none\")}}  className=\"eventformbox ruletext\">\n              <input style={{width:\"90%\"}} id=\"file\" type=\"file\" ref={selectedFile4}/>\n              </div>\n\n              <div style={{display:((numImages.length>=5)?\"block\":\"none\")}}  className=\"eventformbox ruletext\">\n              <input style={{width:\"90%\"}} id=\"file\" type=\"file\" ref={selectedFile5}/>\n              <p>Max 5 images</p>\n              </div>\n\n              <div className=\"signupinput\"><h5 style={{marginRight:\"1vw\"}} className=\"ruletext\">Password </h5><input id=\"password\" type=\"password\" placeHolder={values.password} label=\"Password\" value={values.password} onChange={handleChange('password')} margin=\"normal\"/></div>\n              <div className=\"signupinput\"><h5 style={{marginRight:\"1vw\"}} className=\"ruletext\">Confirm Password </h5><input id=\"passwordtwo\" type=\"password\" placeHolder={values.passwordtwo} label=\"Confirm Password\" value={values.passwordtwo} onChange={handleChange('passwordtwo')} margin=\"normal\"/></div>\n              {(!(values.password==values.passwordtwo)&&!(values.passwordtwo==\"\"))&&<h5 style={{marginRight:\"1vw\",color:\"red\"}} className=\"ruletext\">Passwords Do Not Match</h5>}\n              {(values.passworderror&&(!(values.password==values.passwordtwo)&&!(values.passwordtwo==\"\")))&&<h5 style={{marginRight:\"1vw\",color:\"red\"}} className=\"ruletext\">Cannot Submit, Must Fix Errors</h5>}\n              <button onClick={(e) => extraImage(e)}>Add Extra Image</button>\n              <button onClick={(e) => lessImage(e)}>One Less Image</button>\n              <button id=\"submit\" onClick={clickSubmit}>Submit</button>\n              <br/> {\n                values.error && (<Typography component=\"p\" color=\"error\">\n                <Icon color=\"error\" className={classes.error}>error</Icon>\n                {values.error}</Typography>)\n              }\n              </div>\n              <Dialog open={values.open} disableBackdropClick={true}>\n              <DialogTitle>New Account</DialogTitle>\n              <DialogContent>\n              <DialogContentText>\n              New account successfully created.\n              </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n              <Link to=\"/signin\">\n              <button>\n              Sign In\n              </button>\n              </Link>\n              </DialogActions>\n              </Dialog>\n              </div>\n\n            )\n          }\n","import React, {useState} from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Icon from '@material-ui/core/Icon'\nimport { makeStyles } from '@material-ui/core/styles'\nimport auth from './../auth/auth-helper'\nimport {Redirect} from 'react-router-dom'\nimport io from \"socket.io-client\";\nimport {signin} from './api-auth.js'\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing(5),\n    paddingBottom: theme.spacing(2)\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing(2),\n    color: theme.palette.openTitle\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing(2)\n  }\n}))\n\nexport default function Signin(props) {\n  let server = \"http://localhost:5000\";\n  let socket\n  if(process.env.NODE_ENV==\"production\"){\n    socket=io();\n  }\n  if(process.env.NODE_ENV==\"development\"){\n    socket=io(server);\n  }  const classes = useStyles()\n  const [loggingIn, setLoggingIn] = useState(false)\n\n  const [values, setValues] = useState({\n      email: '',\n      password: '',\n      mustenteremail:'',\n      checkyouremail:'',\n      error: '',\n      redirectToReferrer: false\n  })\n\n  const clickSubmit = () => {\n    setLoggingIn(true)\n    const user = {\n      email: values.email || undefined,\n      password: values.password || undefined\n    }\n    console.log(user)\n\n    signin(user).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error})\n        console.error(data.error)\n        setLoggingIn(false)\n      } else {\n        console.log(data)\n        auth.authenticate(data, () => {\n          setValues({ ...values, error: '',redirectToReferrer: true})\n        })\n        socket.emit(\"new user\", data.user.name);\n        setLoggingIn(false)\n      }\n    })\n  }\n\n  async function forgotPassword(){\n    if (!values.email){\n      setValues({...values,mustenteremail:'You must enter your email address so we can send you a password reset link'})\n      setTimeout(() => {\n        setValues({...values,mustenteremail:''})\n      }, 5000)\n    }\n\n    console.log(values.email)\n\n    if (values.email){\n      const options = {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body:''\n      }\n\n      let passwordresettoken=await fetch(\"/groups/getpasswordresettoken/\"+values.email, options\n      ).then(res=>res.json())\n      .then(res => {\n      console.log(\"password reset token result\",res.token)\n      return res.token\n      }).catch(err => {\n      console.error(err);\n      })\n      console.log(\"password reset token\",passwordresettoken)\n\n      let url = \"http://localhost:3000\"\n      if(process.env.NODE_ENV==\"production\"){\n        url=\"http://democratic-social-network.herokuapp.com\"\n      }\n\n          let notification={\n            emails:[values.email],\n            subject:\"Change Password for Democratic Social Network\",\n            message:`To reset your password visit this link ${url}/forgotpassword/${passwordresettoken}`\n          }\n\n          const opt = {\n            method: 'post',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(notification)\n          }\n\n          fetch(\"/groups/sendemailnotification\", opt\n        ) .then(res => {\n          console.log(res)\n        }).catch(err => {\n          console.error(err);\n        })\n\n        setValues({...values,checkyouremail:'We have sent you an email with a password reset link'})\n        setTimeout(() => {\n          setValues({...values,checkyouremail:''})\n        }, 5000)\n    }}\n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value })\n  }\n\n  const {from} = props.location.state || {\n      from: {\n        pathname: '/'\n      }\n  }\n  const {redirectToReferrer} = values\n    if (redirectToReferrer) {\n      return (<Redirect to={from}/>)\n  }\n\n  return (\n      <div className=\"signinform\">\n        <div className=\"innersigninform\">\n          <h4 style={{margin:\"1vw\",textAlign:\"center\"}}>\n            Sign In\n          </h4>\n          <div className=\"signininput\">\n          <h5 className=\"ruletext\">Email </h5><input id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={values.email} onChange={handleChange('email')} margin=\"normal\"/>\n          </div>\n          <div className=\"signininput\">\n          <h5 className=\"ruletext\">Password </h5><input id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.password} onChange={handleChange('password')} margin=\"normal\"/>\n          </div>\n           {\n            values.error && (<Typography component=\"p\" color=\"error\">\n              <Icon color=\"error\" className={classes.error}>error </Icon>\n              {values.error}\n            </Typography>)\n          }\n          {!loggingIn&&<button style={{display:\"inline\"}} id=\"submit\" onClick={clickSubmit}>Submit</button>}\n          {loggingIn&&<h3>Logging in...</h3>}\n          <button style={{display:\"inline\"}} id=\"submit\" onClick={forgotPassword}>Forgot Password</button>\n          {values.mustenteremail&&<p style={{color:\"red\",display:\"block\"}}>{values.mustenteremail}</p>}\n          {values.checkyouremail&&<p style={{color:\"green\",display:\"block\"}}>{values.checkyouremail}</p>}\n\n        </div>\n      </div>\n    )\n}\n","import React, {useRef,useState,useEffect} from 'react'\nimport auth from '../auth/auth-helper'\nconst mongoose = require(\"mongoose\");\n\n\nexport default function Comment(props) {\n  const commentValue = React.useRef('')\n  const [comments, setComments] = useState();\n\n  useEffect(() => {\n\n    fetch(\"/posts/getcomments/\"+props.id)\n    .then(res => {\n      return res.json();\n    }).then(comments => {\n\n      setComments(comments.data)})\n      .catch(err => {\n        console.error(err);\n      })\n    },[props])\n\n\n\n    function deleteComment(e,id) {\n      e.preventDefault()\n\n      var commentscopy=JSON.parse(JSON.stringify(comments))\n      var filteredarray = commentscopy.filter(function( obj ) {\n        return obj._id !== id;\n      });\n      setComments(filteredarray);\n\n\n      const options={\n        method: \"Delete\",\n        body: '',\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"}}\n\n\n          fetch(\"/posts/deletecomment/\"+id, options)\n          .then(response => response.json())\n          .then(json =>console.log(json))\n            .catch(err => {\n              console.error(err);\n            })\n\n          }\n\n          async function handleSubmit(e) {\n            e.preventDefault()\n            var d = new Date();\n            var n = d.getTime();\n            var commentId=mongoose.Types.ObjectId()\n            commentId=commentId.toString()\n\n            const newComment={\n              _id:commentId,\n              postid:props.id,\n              createdby:auth.isAuthenticated().user._id,\n              comment: commentValue.current.value,\n              timecreated:n,\n            }\n\n            var commentscopy=JSON.parse(JSON.stringify(comments))\n            commentscopy.push(newComment)\n            setComments(commentscopy);\n\n\n            const options={\n              method: \"POST\",\n              body: JSON.stringify(newComment),\n              headers: {\n                \"Content-type\": \"application/json; charset=UTF-8\"}}\n\n\n                await fetch(\"/posts/createcomment/\"+commentId, options)\n                .then(response => response.json())\n                .then(json =>console.log(json))\n                  .catch(err => {\n                    console.error(err);\n                  })\n\n                  const optionstwo = {\n                    method: 'put',\n                    headers: {\n                      'Content-Type': 'application/json'\n                    },\n                    body: ''\n                  }\n\n                }\n\n\n                if(comments){\n                  var commentsmapped=comments.map((item,i)=>{\n\n                    return (\n                      <>\n                      <div key={i} className=\"comment\">\n                      <p className=\"commp\" style={{margin:'1vw',fontSize:\"small\"}}>{item.comment}</p>\n                      <div classname=\"comm\">\n                      <p style={{display:\"inline\",margin:'1vw',fontSize:\"small\"}}><strong>Comment by {item.createdby.name}</strong></p>\n                      <button style={{display:\"inline\"}} onClick={(e)=>deleteComment(e,item._id)}>Delete comment?</button>\n                      </div>\n                      </div>\n                      </>\n                    )})}\n\n\n\n\n                    return (\n                      <div className='comments'>\n                      <div className='commentform'>\n                      <div className=\"commentstuff\">\n                      <p style={{display:\"inline\",fontSize:\"small\"}} htmlFor='name'><strong>Comment</strong></p>\n                      <button style={{display:\"inline\"}} onClick={(e) => handleSubmit(e)}>Submit Comment</button>\n                      </div>\n                      <input className='commentinput'\n                      type='text'\n                      style={{overflowY:\"auto\"}}\n                      name='commentValue'\n                      id='commentValue'\n                      ref={commentValue}\n                      />\n\n                      </div>\n                      <div className=\"commentsdisplay\">\n                      {commentsmapped&&commentsmapped}\n                      </div>\n\n                      </div>\n\n                    )}\n","import React, {useState,useRef, useEffect} from 'react'\nimport auth from './../auth/auth-helper'\nimport Comment from './Comment'\nimport io from \"socket.io-client\";\nconst mongoose = require(\"mongoose\");\n\n\nexport default function Newsfeed (props) {\n  const [viewForm, setViewForm] = useState(false);\n  const [viewExplanation, setViewExplanation] = useState(false);\n  const postArea = React.useRef('')\n  const [posts, setPosts] = useState([]);\n  const [group, setGroup] = useState(props.group);\n  const [post, setPost] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [pageNum, setPageNum] = useState([]);\n  const [currentPageData, setCurrentPageData] = useState([]);\n  const [comment, setComment] = useState(\"\");\n  const [preview, setPreview] = useState(\"\");\n  let server = \"http://localhost:5000\";\n  let socket\n\n  if(process.env.NODE_ENV==\"production\"){\n    socket=io();\n  }\n  if(process.env.NODE_ENV==\"development\"){\n    socket=io(server);\n  }\n  useEffect(() => {\n\n    setGroup(props.group)\n    fetch(\"/posts/getposts/\"+props.groupId)\n    .then(res => {\n      return res.json();\n    }).then(posts => {\n\n      let po=posts.data\n      po.reverse()\n      setPosts(po)\n\n\n      let currentpage=po.slice(0,10)\n\n      setCurrentPageData(currentpage)\n\n      let pagenum=Math.ceil(posts.data.length/10)\n\n      let pagenums=[]\n      while(pagenum>0){\n        pagenums.push(pagenum)\n        pagenum--\n      }\n      pagenums.reverse()\n\n      setPageNum(pagenums)\n    }).catch(err => {\n      console.error(err);\n    })\n  },[props])\n\n  useEffect(() => {\n\n    var urlRegex = /(https?:\\/\\/[^ ]*)/;\n    if (post.match(urlRegex)){\n      var url = post.match(urlRegex)[0]\n      getPreview(url)\n    }\n\n\n  },[post])\n\n\n  function sendPostDown(posttosend,postss){\n\n    if(!posttosend.sentdown){\n      let postcopy=JSON.parse(JSON.stringify(postss))\n\n      for (let po of postcopy){\n        if (po._id==posttosend._id.toString()){\n          po.sentdown=true\n        }\n      }\n      setPosts(postcopy)\n      let current=postcopy.slice((page*10-10),page*10)\n\n      setCurrentPageData(current)\n\n      const options = {\n        method: 'put',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: ''\n      }\n\n      fetch(\"/posts/marksentdown/\" + posttosend._id.toString(), options\n    ).then(res => {\n      console.log(res)\n    }).catch(err => {\n      console.error(err);\n    })\n\n\n    let lowergroupids=[]\n    for (let grou of group.groupsbelow){\n\n      if(grou.groupsbelow){\n        lowergroupids.push(...grou.groupsbelow)\n      }\n      lowergroupids.push(grou._id)\n    }\n\n    for (let gr of lowergroupids){\n\n      fetch(\"/posts/sendpostdown/\" + posttosend._id.toString() +\"/\"+ gr, options\n    ).then(res => {\n      console.log(res)\n    }).catch(err => {\n      console.error(err);\n    })\n  }\n}\n}\n\nfunction getId(url) {\n  const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n  const match = url.match(regExp);\n\n  return (match && match[2].length === 11)\n  ? match[2]\n  : null;\n}\n\nfunction decidePage(e,pagenum){\n\n\n  let currentpage=posts.slice((pagenum*10-10),pagenum*10)\n\n  setPage(pagenum)\n  setCurrentPageData(currentpage)\n}\n\nasync function getPreview(url){\n  var data = {key: '567204aab52f43be1f7bbd3573ff4875', q: url}\n\n  if (url.includes(\"youtube\")){\n    const videoId = getId(url);\n    const iframesrc = `http//www.youtube.com/embed/${videoId}`\n    data = {key: '567204aab52f43be1f7bbd3573ff4875', q: iframesrc}\n\n  }\n\n\n  var prev=await fetch('https://api.linkpreview.net', {\n    method: 'POST',\n    mode: 'cors',\n    body: JSON.stringify(data),\n  })\n  .then(res => res.json())\n  .then(response => {return response})\n  .catch(err => {\n    console.error(err);\n  })\n\n  setPreview(prev)\n}\n\n\nfunction handleSubmit(e){\n  e.preventDefault()\n  setUploading(true)\n  setTimeout(() => {\n    setUploading(false)\n  }, 3000)\n  var d = new Date();\n  var n = d.getTime();\n  var postId=mongoose.Types.ObjectId()\n\n  const newPost={\n    _id:postId,\n    post:post,\n    level:group.level,\n    politicalmarketing:[],\n    groupIds:[props.groupId],\n    preview:preview,\n    timecreated:n,\n    createdby:auth.isAuthenticated().user._id\n  }\n let newPostToRender=JSON.parse(JSON.stringify(newPost))\n newPostToRender.createdby=auth.isAuthenticated().user\n  let chatMessage=`created a new post`\n  let userId=auth.isAuthenticated().user._id\n  let userName=auth.isAuthenticated().user.name\n  let nowTime=n\n  let type=\"text\"\n  let groupId=group._id\n  let groupTitle=group.title\n  console.log(groupTitle)\n  socket.emit(\"Input Chat Message\", {\n    chatMessage,\n    userId,\n    userName,\n    nowTime,\n    type,\n    groupId,\n    groupTitle});\n\n    let postscopy=JSON.parse(JSON.stringify(posts))\n    postscopy.reverse()\n    postscopy.push(newPostToRender)\n    postscopy.reverse()\n\n    sendPostNotification(newPost)\n\n\n    const options={\n      method: \"POST\",\n      body: JSON.stringify(newPost),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"}}\n\n        fetch(\"/posts/createpost/\"+postId, options)\n        .then(response => response.json())\n        .then(json =>console.log(json))\n          .catch(err => {\n            console.error(err);\n          })\n          sendPostDown(newPost,postscopy)\n        }\n\n\n        function deletePost(e,id){\n          let post\n          let postscopy=JSON.parse(JSON.stringify(posts))\n          for (let po of postscopy){\n            if(po._id == id){\n              post=po.post\n            }\n          }\n          let filteredarray = postscopy.filter(item=>!(item._id == id));\n          setPosts(filteredarray);\n          let current=filteredarray.slice((page*10-10),page*10)\n\n          setCurrentPageData(current)\n\n          const options={\n            method: \"Delete\",\n            body: '',\n            headers: {\n              \"Content-type\": \"application/json; charset=UTF-8\"}}\n\n              var d = new Date();\n              var n = d.getTime();\n\n\n              let chatMessage=`deleted a post`\n              let userId=auth.isAuthenticated().user._id\n              let userName=auth.isAuthenticated().user.name\n              let nowTime=n\n              let type=\"text\"\n              let groupId=group._id\n              let groupTitle=group.title\n\n              socket.emit(\"Input Chat Message\", {\n                chatMessage,\n                userId,\n                userName,\n                nowTime,\n                type,\n                groupId,\n                groupTitle});\n\n                fetch(\"/posts/deletepost/\"+id, options)\n                .then(response => response.json())\n                .then(json =>console.log(json))\n                  .catch(err => {\n                    console.error(err);\n                  })\n\n                  let us=JSON.parse(JSON.stringify(props.users))\n                  us=us.filter(item=>item.posts)\n                  let emails=us.map(item=>{return item.email})\n\n                  let notification={\n                    emails:emails,\n                    subject:\"Post Deleted\",\n                    message:`${auth.isAuthenticated().user.name} deleted the post called ${post} in the group ${group.title} at level ${group.level}`\n                  }\n\n                  const opt = {\n                    method: 'post',\n                    headers: {\n                      'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(notification)\n                  }\n\n                  fetch(\"/groups/sendemailnotification\", opt\n                ) .then(res => {\n                  console.log(res)\n                }).catch(err => {\n                  console.error(err);\n                })\n\n              }\n\n              function markAsPoliticalMarketing(e,id){\n                console.log(id)\n                let postscopy=JSON.parse(JSON.stringify(posts))\n\n                for (var post of postscopy){\n                  if (post._id==id){\n                    if(!post.politicalmarketing.includes(auth.isAuthenticated().user._id)){\n                      post.politicalmarketing.push(auth.isAuthenticated().user._id)\n                    }\n                    setPosts(postscopy)\n                  }\n                }\n\n                let current=postscopy.slice((page*10-10),page*10)\n                setCurrentPageData(current)\n\n                const options = {\n                  method: 'put',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: ''\n                }\n\n                fetch(\"/posts/markaspoliticalmarketing/\" + id +\"/\"+ auth.isAuthenticated().user._id, options\n              ).catch(err => {\n                console.error(err);\n              })\n              }\n\n              function withdrawMarkAsPoliticalMarketing(e,id){\n                console.log(id)\n                let postscopy=JSON.parse(JSON.stringify(posts))\n                function checkPost(userid) {\n                  return userid!=auth.isAuthenticated().user._id\n                }\n                for (let post of postscopy){\n                  if (post._id==id){\n                    let filteredapproval=post.politicalmarketing.filter(checkPost)\n                    post.politicalmarketing=filteredapproval\n                  }\n                }\n                setPosts(postscopy)\n                let current=postscopy.slice((page*10-10),page*10)\n                setCurrentPageData(current)\n\n                const options = {\n                  method: 'put',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: ''\n                }\n\n                fetch(\"/posts/withdrawmarkaspoliticalmarketing/\" + id +\"/\"+ auth.isAuthenticated().user._id, options\n              ).catch(err => {\n                console.error(err);\n              })\n              }\n\n              function sendPostNotification(item){\n                let postscopy=JSON.parse(JSON.stringify(posts))\n                if(!item.notificationsent){\n\n                  for (var po of postscopy){\n                    if (po._id==item._id){\n                      po.notificationsent=true\n                      }}\n                      setPosts(postscopy)\n                      let current=postscopy.slice((page*10-10),page*10)\n\n                      setCurrentPageData(current)\n\n                      let us=JSON.parse(JSON.stringify(props.users))\n                      us=us.filter(item=>item.posts)\n                      let emails=us.map(item=>{return item.email})\n\n                      let notification={\n                        emails:emails,\n                        subject:\"New Post\",\n                        message:`${auth.isAuthenticated().user.name} wrote a post called ${item.post}  in the group ${group.title} at level ${group.level}`\n                      }\n\n                      const options = {\n                        method: 'post',\n                        headers: {\n                          'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify(notification)\n                      }\n\n                      fetch(\"/groups/sendemailnotification\", options\n                    ) .then(res => {\n                      console.log(res)\n                    }).catch(err => {\n                      console.error(err);\n                    })\n\n                    const optionstwo = {\n                      method: 'put',\n                      headers: {\n                        'Content-Type': 'application/json'\n                      },\n                      body: ''\n                    }\n\n                    fetch(\"/posts/notificationsent/\"+item._id, optionstwo\n                  ) .then(res => {\n                    console.log(res)\n                  }).catch(err => {\n                    console.error(err);\n                  })\n                }\n                setPost(\"\")\n              }\n\n\n\n              function areYouSure(e,item){\n                console.log(item)\n                let postscopy=JSON.parse(JSON.stringify(posts))\n                  for (let post of postscopy){\n                    if (post._id==item._id){\n                      post.areyousure=true\n                    }}\n                    let current=postscopy.slice((page*10-10),page*10)\n                    setPosts(postscopy)\n                    setCurrentPageData(current)\n                  }\n\n                  function areYouNotSure(e,item){\n                    console.log(item)\n                      let postscopy=JSON.parse(JSON.stringify(posts))\n                      for (let post of postscopy){\n                        if (post._id==item._id){\n                          post.areyousure=false\n                        }}\n                        let current=postscopy.slice((page*10-10),page*10)\n                        setPosts(postscopy)\n                        setCurrentPageData(current)\n                      }\n\n                      function viewExpl(e){\n                        e.preventDefault();\n                        setViewExplanation(!viewExplanation)\n                      }\n\n              if(preview){\n                console.log(\"preview\",preview)\n\n                if(preview.url){\n                  var previewmapped=<img src={preview.url} style={{marginLeft:\"10vw\",textAlign:\"center\",maxHeight:\"70vh\",maxWidth:\"70vw\",objectFit:\"contain\"}}></img>\n                }\n              }\n              console.log(\"posts\",currentPageData)\n              var postsmapped=currentPageData.map((item,i)=>{\n                let prev\n                if (item.preview){\n                      if(item.preview.url){\n                         prev=<img key={item._id} style={{position:\"relative\",margin:\"1vw\",display:\"block\",Zindex:\"-1\",Position:\"fixed\",marginLeft:\"10vw\",textAlign:\"center\",maxHeight:\"70vh\",maxWidth:\"70vw\",objectFit:\"contain\"}} src={item.preview.url}></img>\n                      }\n                }\n                let approval=<></>\n                approval=Math.round((item.politicalmarketing.length/group.members.length)*100)\n                let approveenames=[]\n                for (let user of group.members){\n                  for (let approvee of item.politicalmarketing){\n                    if (approvee==user._id){\n                      approveenames.push(user.name)\n                    }\n                  }\n                }\n                if (approval>75){\n                  deletePost(null,item._id)\n                }\n                let width=`${(item.politicalmarketing.length/group.members.length)*100}%`\n                console.log(\"prev\",prev)\n                return (\n                  <>\n                  <div key={item._id} className=\"postbox\">\n                  <div>\n                  <div className=\"postboxform\" style={{overflowX:\"hidden\"}}>\n                  <div style={{display:\"block\",margin:\"1vw\",textAlign:\"right\"}}>\n                  {item.createdby&&<><h5 style={{margin:\"1vw\",display:\"inline\",textAlign:\"center\"}}><strong> Post by {item.createdby.name}</strong></h5>\n                  {(((item.createdby._id==auth.isAuthenticated().user._id)||\n                    group.groupabove.members.includes(auth.isAuthenticated().user._id))&&!item.areyousure)&&\n                    <button className=\"ruletext deletebutton\" onClick={(e)=>areYouSure(e,item)}>Delete Post?</button>}</>}\n                    {item.areyousure&&<button className=\"ruletext deletebutton\" onClick={(e)=>areYouNotSure(e,item)}>Not sure</button>}\n                    {item.areyousure&&<button className=\"ruletext deletebutton\" onClick={(e)=>deletePost(e,item._id)}>Are you sure?</button>}\n                    </div>\n                    <h4 style={{display:\"block\",margin:\"1vw\"}}><strong>Post: </strong>{item.post}</h4>\n                    {prev&&prev}\n\n                    </div>\n                    {(item.level>group.level)&&\n                    <div className=\"postboxform\">\n                    <div style={{width:\"100%\"}}><h5 style={{display:\"inline\"}}><strong>This post has been passed down by a\n                    level {item.level} group.</strong> Does it encourage you to vote or not vote for a particular person?</h5>\n\n                    {!item.politicalmarketing.includes(auth.isAuthenticated().user._id)&&<button className=\"ruletext\" onClick={(e)=>markAsPoliticalMarketing(e,item._id)}>Is this political marketing?</button>}\n                    {item.politicalmarketing.includes(auth.isAuthenticated().user._id)&&<button className=\"ruletext\" onClick={(e)=>withdrawMarkAsPoliticalMarketing(e,item._id)}>This is not political marketing?</button>}\n                    {approveenames&&approveenames.map((item,index)=>{return(<><h4 className=\"ruletext\">{item}{(index<(approveenames.length-2))?\", \":(index<(approveenames.length-1))?\" and \":\".\"}</h4></>)})}\n                    <div className=\"percentagecontainer\"><div style={{width:width}} className=\"percentage\"></div></div>\n                    </div>\n                    </div>}\n                      </div>\n                      <Comment id={item._id}/>\n                      </div>\n                      </>\n                    )})\n                    let inthisgroup\n                    if(group.members){\n                      inthisgroup=group.members.map(item=>item._id)\n                      inthisgroup=inthisgroup.includes(auth.isAuthenticated().user._id)\n                    }\n\n                    return (\n                      <>\n                      {inthisgroup&&<>\n                        <button style={{display:\"block\"}} onClick={(e) => setViewForm(!viewForm)}>View Write Post Form?</button>\n\n                        <div className=\"form\" style={{maxHeight:!viewForm?\"0\":\"1000vw\",overflow:\"hidden\",transition:\"max-height 2s\"}}>\n                        <form style={{display:!viewForm?\"none\":\"block\"}}>\n                        <div>\n                        <label htmlFor='name'>Write Post</label>\n                        {!uploading&&<><button className=\"formsubmitbutton\" onClick={(e) => handleSubmit(e)}>New Post?</button></>}\n                        {uploading&&<h4>Uploading Post...</h4>}\n                        <button onClick={(e) => viewExpl(e)}>View Explanation</button>\n                        </div>\n                        <textarea className=\"posttextarea\" onChange={(e) => setPost(e.target.value)} ref={postArea} id=\"story\" rows=\"5\" cols=\"33\" />\n\n                        {preview&&previewmapped}\n                        <div className=\"leaderexpl\" style={{maxHeight:!viewExplanation?\"0\":\"2000vw\",overflow:\"hidden\"}}>\n                        {group.level>0&&<p>Posts made in higher groups are immediately passed down to all groups below them.\n                          Remember that <strong>you cannot promote, advertise or endorse candidates in lower groups in any way</strong>.\n                          If you think a post contains this kind of marketing, you can click the button to mark it. If a 75%\n                          majority in any group agrees on this, the post is deleted. If elected candidates repeatedly\n                          break this rule, it is recommended to withdraw your vote from them and give it to someone else. Groups\n                          must be entirely responsible for choosing their own leaders. We want a genuine meritocracy and not an\n                          oligarchy in which a small minority group pre-appproves candidates that are acceptable to themselves.\n                          We want genuine democracy and not a democracy where people only get to choose between a range of\n                          options decided by an oligarchy. We also don't want a system where only the very wealthy can afford\n                          to run political campaigns. Actually, we shouldn't have any political marketing campaigns at all.\n                          Ideally, people should be politically conscious enough to actively go and do their own research\n                          about who the leaders should be, instead of passively complying with what the political propoganda suggests.\n                          We want a political system grounded in the authority of knowledge, wisdom and moral integrity, instead\n                          of coercive or exploitative power. We don't want people to use any kind of authority to create and\n                          impose rules that reinforce or propogate their own power. That would be an abuse of authority.\n                          We need leaders who will try to lead the group in a direction that is in the best interests of the group\n                          and not one's who will take advantage of the society for their own benefit.\n\n                          Posts are very useful for sharing information between groups and for higher level groups to\n                          try to explain why they have created certain rules, events, polls or restrictions. The mass media\n                          should be used for sharing important information and not for misleading people with propoganda. On\n                          the democratic social network, any user can visit any group and see their discussions. In order to prevent\n                          chaotic, disorderly conversations with too many people, you cannot directly participate in all discussions,\n                          but you can at least see them. This fact, combined with immediate recall of unpopular representatives\n                          means that there is a much greater motivation for elected leaders to consult, discuss\n                          and explain their decisions with the people effected by them or demonstrate their own trustworthyness.\n\n                          This is quite different from and elitist political system. In an oligarchy, the masses are excluded\n                          from group decision making because the rulers believe that most people are stupid, weak, immoral and irresponsible.\n                          In a genuine, socialistic democracy, authority is distributed evenly so that, while you may not be able\n                          to vote on all issues, you can be involved in making choices about things that are relevant to you and\n                          you have the expertise to understand. Our modern world is extremely complicated, even the biggest genuises\n                          can only be experts in a tiny fraction of all knowledge the human race collective has. There will always\n                          be many issues that we just don't know anything about and there is no benefit in us sharing our views.\n                          </p>}\n                          </div>\n                        </form>\n\n                        </div>\n                        </>}\n\n                        {pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\n                        {(pageNum.length>1&&pageNum&&posts)&&pageNum.map((item,index)=>{\n                          return (<>\n                            <button style={{display:\"inline\",opacity:(index+1==page)?\"0.5\":\"1\"}} onClick={(e) => decidePage(e,item)}>{item}</button>\n                            </>)\n                          })}\n                          {postsmapped}\n                          <br/>\n\n                          <div style={{marginBottom:\"5vw\"}}>\n                          {pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\n                          {(pageNum.length>1&&pageNum&&posts)&&pageNum.map((item,index)=>{\n                            return (<>\n                              <button style={{display:\"inline\",opacity:(index+1==page)?\"0.5\":\"1\"}} onClick={(e) => decidePage(e,item)}>{item}</button>\n                              </>)\n                            })}\n                            </div>\n                            </>\n                          )\n                        }\n","import React, {useRef,useState,useEffect} from 'react'\nimport auth from '../auth/auth-helper'\nimport Axios from 'axios'\nimport io from \"socket.io-client\";\nconst mongoose = require(\"mongoose\");\n\n\nexport default function CreateEventForm(props) {\n  const [viewForm, setViewForm] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [coordError, setCoordError] = useState(false);\n  const [level, setLevel] = useState(props.level);\n  const titleValue = React.useRef('')\n  const descriptionValue = React.useRef('')\n  const locationValue = React.useRef('')\n  const startTimeValue = React.useRef(0)\n  const endTimeValue = React.useRef(0)\n  const selectedFile1 = React.useRef(null)\n  const [toggle, setToggle] = useState(false);\n  const [numberOfImages, setNumberOfImages]=useState(1)\n\n  useEffect(()=>{\n\n    setLevel(props.level,\"level\")\n  },[props])\n\n\n  function addImages(){\n    var numberplusone=numberOfImages+1\n    setNumberOfImages(numberplusone)\n  }\n\n  function lessImages(){\n    var numberminusone=numberOfImages-1\n    setNumberOfImages(numberminusone);\n  }\n\n\n  async function handleSubmit(e) {\nconsole.log(\"submitting\")\n    e.preventDefault()\n    setUploading(true)\n    var d = new Date();\n    var n = d.getTime();\n    var eventId=mongoose.Types.ObjectId()\n    eventId=eventId.toString()\n\n\n    let coords=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${locationValue.current.value}.json?access_token=pk.eyJ1IjoianVsaWFuYnVsbCIsImEiOiJja25zbXJibW0wNHgwMnZsaHJoaDV6MTg4In0.qPBGW4XMJcsZSUCrQej8Zw`)\n      .then(response => response.json())\n      .then(data =>{\n        console.log(data)\n        return data['features'][0]['center']\n      })\n      .catch(err => {\n        console.error(err);\n      })\n\n\n\n      if(!coords){\n        setCoordError(true)\n      }else{\n        setCoordError(false)\n      }\n\n\n      if(coords){\n        let imageids=[]\n        if(selectedFile1.current.files[0]){\n          const formData = new FormData();\n          formData.append('file', selectedFile1.current.files[0]);\n          formData.append(\"upload_preset\", \"jvm6p9qv\");\n          await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\n          .then(response => {\n            console.log(response.data.public_id)\n            imageids.push(response.data.public_id)\n          })\n          .catch(err => {\n            console.error(err);\n          })\n        }\n\n        const newEvent={\n          _id:eventId,\n          title: titleValue.current.value,\n          groupIds:[props.groupId],\n          level:level,\n          starttime:String(startTimeValue.current.value),\n          endtime:String(endTimeValue.current.value),\n          description:descriptionValue.current.value,\n          createdby:auth.isAuthenticated().user._id,\n          location:locationValue.current.value,\n          coordinates:[coords[1],coords[0]],\n          notificationsent:false,\n          approvalnotificationsent:false,\n          images:imageids,\n          timecreated:n,\n          approval:[auth.isAuthenticated().user._id]\n        }\n        var newEventToRender=JSON.parse(JSON.stringify(newEvent))\n\n        newEventToRender.createdby=auth.isAuthenticated().user\n        console.log(\"new event\",newEventToRender)\n\n          props.updateEvents(newEventToRender)\n\n          const options={\n            method: \"POST\",\n            body: JSON.stringify(newEvent),\n            headers: {\n              \"Content-type\": \"application/json; charset=UTF-8\"}}\n\n\n              await fetch(\"/events/createevent/\"+eventId, options)\n              .then(response => response.json()).then(json => console.log(json))\n                .then(res=>console.log(res))\n                .catch(err => {\n                  console.error(err);\n                })\n              }\n              setUploading(false)\n            }\n\n            return (\n              <>\n              <button className=\"formbutton\" style={{display:\"block\"}} onClick={(e) => setViewForm(!viewForm)}>View Create Event Form?</button>\n              <div className='form' style={{maxHeight:!viewForm?\"0\":\"100vw\",overflow:\"hidden\",transition:\"max-height 2s\"}}>\n              <form>\n              <div className=\"eventformbox\">\n              <label style={{display:\"block\"}} htmlFor='name'>Title</label>\n              <input\n              className=\"posttextarea\"\n              style={{width:\"80vw\"}}\n              type='text'\n              name='titleValue'\n              id='titleValue'\n              ref={titleValue}\n              />\n              </div>\n              <div className=\"eventformbox\">\n              <label htmlFor='name'>Description</label>\n              <input\n              className=\"posttextarea\"\n              style={{width:\"80vw\"}}\n              type='text'\n              name='descriptionValue'\n              id='descriptionValue'\n              ref={descriptionValue}\n              />\n              </div>\n              <div className=\"eventformbox\">\n              <label htmlFor='name'>Location</label>\n              <input\n              className=\"posttextarea\"\n              type='text'\n              name='locationValue'\n              style={{width:\"80vw\"}}\n              id='locationValue'\n              ref={locationValue}\n              />\n              {coordError&&<p style={{display:\"block\",color:\"red\"}}>Not a valid location</p>}\n              <label htmlFor='name'>Start Time</label>\n              <input\n              type='datetime-local'\n              name='startTimValue'\n              style={{width:\"80vw\",overflow:\"hidden\"}}\n              id='startTimeValue'\n              ref={startTimeValue}\n              />\n              <label htmlFor='name'>End Time</label>\n              <input\n              type='datetime-local'\n              name='endTimeValue'\n              style={{width:\"80vw\",overflow:\"hidden\"}}\n              id='endTimeValue'\n              ref={endTimeValue}\n              />\n              </div>\n              <div className=\"eventformbox\">\n              <label htmlFor='name'>Image</label>\n\n              <input id=\"file\" type=\"file\" ref={selectedFile1}/>\n              </div>\n              {!uploading&&<button className=\"formsubmitbutton\" onClick={(e) => handleSubmit(e)}>Submit Event?</button>}\n              {uploading&&<h3>uploading!!!!!</h3>}\n              </form>\n              </div>\n\n              </>\n            )}\n","import React, { Component } from 'react';\r\nimport CreateEventForm from './CreateEventForm'\r\nimport {Image} from 'cloudinary-react'\r\nimport io from \"socket.io-client\";\r\nimport auth from './../auth/auth-helper'\r\nimport AwesomeSlider from 'react-awesome-slider';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport 'react-awesome-slider/dist/styles.css';\r\nimport { MapContainer, TileLayer,Circle} from 'react-leaflet'\r\nconst mongoose = require(\"mongoose\");\r\nconst MILLISECONDS_IN_A_DAY=86400000\r\nconst MILLISECONDS_IN_A_WEEK=604800000\r\n\r\nexport default class Events extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      location:\"\",\r\n      title:\"\",\r\n      users:props.users,\r\n      group:props.group,\r\n      socket:props.socket,\r\n      level:0,\r\n      events:[],\r\n      page:1,\r\n      pageNum:[],\r\n      currentPageData:[],\r\n      redirect: false,\r\n      updating:false\r\n    }\r\n    this.updateEvents= this.updateEvents.bind(this)\r\n    this.eventApprovedNotification=this.eventApprovedNotification.bind(this)\r\n    this.areYouSure=this.areYouSure.bind(this)\r\n    this.areYouNotSure=this.areYouNotSure.bind(this)\r\n    this.sendEventNotification=this.sendEventNotification.bind(this)\r\n    this.approveofevent=this.approveofevent.bind(this)\r\n    this.deleteEvent=this.deleteEvent.bind(this)\r\n    this.withdrawapproveofevent=this.withdrawapprovalofevent.bind(this)\r\n  }\r\n\r\n\r\n  componentDidMount(){\r\n    // let server = \"http://localhost:5000\";\r\n    // if(process.env.NODE_ENV==\"production\"){\r\n    //   this.socket=io();\r\n    // }\r\n    // if(process.env.NODE_ENV==\"development\"){\r\n    //   this.socket=io(server);\r\n    // }\r\n    this.getEvents()\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.socket !== this.props.socket) {\r\n      this.setState({socket:nextProps.socket})\r\n    }\r\n    if (nextProps.users !== this.props.users) {\r\n      this.setState({users:nextProps.users})\r\n    }\r\n    if (nextProps.group !== this.props.group) {\r\n      this.setState({group:nextProps.group})\r\n    }\r\n  }\r\n\r\n  decidePage(e,pagenum){\r\n    let currentpage=this.state.events.slice((pagenum*10-10),pagenum*10)\r\n    this.setState({page:pagenum,currentPageData:currentpage})\r\n  }\r\n\r\n  async getEvents(){\r\n    await fetch(`/events/getevents/`+this.props.groupId)\r\n    .then(response => response.json())\r\n    .then(data=>{\r\n      console.log(data)\r\n      let events=data\r\n      events.reverse()\r\n      this.setState({events:events})\r\n\r\n      let currentpage=events.slice(0,10)\r\n\r\n      this.setState({currentPageData:currentpage})\r\n      let pagenum=Math.ceil(data.length/10)\r\n\r\n      let pagenums=[]\r\n      while(pagenum>0){\r\n        pagenums.push(pagenum)\r\n        pagenum--\r\n      }\r\n      pagenums.reverse()\r\n\r\n      this.setState({pageNum:pagenums})\r\n    }).catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n\r\n\r\n  updateEvents(newevent){\r\n    let eventscopy=JSON.parse(JSON.stringify(this.state.events))\r\n    eventscopy.reverse()\r\n    eventscopy.push(newevent)\r\n    eventscopy.reverse()\r\n    this.setState({ events:eventscopy})\r\n    let current=eventscopy.slice((this.state.page*10-10),this.state.page*10)\r\n    this.setState({currentPageData:current})\r\n  }\r\n\r\n  async sendEventDown(ev){\r\n    let optionsone = {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: ''\r\n    }\r\n\r\n    fetch(\"/events/marksentdown/\" + ev._id, optionsone\r\n  ).then(res => {\r\n    console.log(res)\r\n  }).catch(err => {\r\n    console.error(err);\r\n  })\r\n\r\n\r\n  let lowergroupids=[]\r\n  for (let group of this.state.group.groupsbelow){\r\n\r\n    if(group.groupsbelow){\r\n      lowergroupids.push(...group.groupsbelow)\r\n    }\r\n    lowergroupids.push(group._id)\r\n  }\r\n\r\n  for (let gr of lowergroupids){\r\n\r\n    fetch(\"/events/sendeventdown/\"+ev._id+\"/\"+gr,  optionsone)\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n}\r\n\r\n\r\n deleteEvent(e,item){\r\n  let eventscopy=JSON.parse(JSON.stringify(this.state.events))\r\n  function checkEvent(event) {\r\n    return event._id!=item._id\r\n  }\r\n  var d = new Date();\r\n  var n = d.getTime();\r\n\r\n  let chatMessage=`An event called ${item.title} has been deleted from this group`\r\n  let userId=auth.isAuthenticated().user._id\r\n  let userName=auth.isAuthenticated().user.name\r\n  let nowTime=n\r\n  let type=\"text\"\r\n  let groupId=this.state.group._id\r\n  let groupTitle=this.state.group.title\r\n\r\n  this.state.socket.emit(\"Input Chat Message\", {\r\n    chatMessage,\r\n    userId,\r\n    userName,\r\n    nowTime,\r\n    type,\r\n    groupId,\r\n    groupTitle});\r\n\r\n    var filteredapproval=eventscopy.filter(checkEvent)\r\n\r\n    this.setState({events:filteredapproval})\r\n    let current=filteredapproval.slice((this.state.page*10-10),this.state.page*10)\r\n\r\n    this.setState({currentPageData:current})\r\n\r\n    let userscopy=JSON.parse(JSON.stringify(this.state.users))\r\n    userscopy=userscopy.filter(item=>item.events)\r\n    let emails=userscopy.map(item=>{return item.email})\r\n\r\n\r\n    let notification={\r\n      emails:emails,\r\n      subject:\"Event Deleted\",\r\n      message:`The event called ${item.title} has been deleted in the group called\r\n      ${this.state.group.title} at level ${this.state.group.level}.`\r\n    }\r\n\r\n    const opt = {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(notification)\r\n    }\r\n\r\n    fetch(\"/groups/sendemailnotification\", opt\r\n  ) .then(res => {\r\n    console.log(res)\r\n  }).catch(err => {\r\n    console.error(err);\r\n  })\r\n\r\n  const options = {\r\n    method: 'delete',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(item)\r\n  }\r\n\r\n   fetch(\"/events/\"+item._id, options)\r\n .then(res => {\r\n   console.log(res)\r\n })\r\n  .catch(err => {\r\n    console.error(err);\r\n  })\r\n}\r\n\r\n\r\n\r\napproveofevent(e,id){\r\n  let d = new Date();\r\n  let n = d.getTime();\r\n  let eventscopy=JSON.parse(JSON.stringify(this.state.events))\r\n  function checkEvent() {\r\n    return id!==auth.isAuthenticated().user._id\r\n  }\r\n  for (var ev of eventscopy){\r\n    if (ev._id==id){\r\n\r\n      if(!ev.approval.includes(auth.isAuthenticated().user._id)){\r\n        ev.approval.push(auth.isAuthenticated().user._id)\r\n      }\r\n    }\r\n\r\n    let votesfrommembers=[]\r\n    let memberids=this.state.group.members.map(item=>item._id)\r\n\r\n    for (let vote of ev.approval){\r\n      if (memberids.includes(vote)){\r\n        votesfrommembers.push(vote)\r\n      }\r\n    }\r\n    ev.approval=votesfrommembers\r\n\r\n\r\n    let approval=Math.round((ev.approval.length/this.state.users.length)*100)\r\n\r\n    if ((approval>75)&&(this.state.group.level>0)&&(ev.sentdown==false)){\r\n\r\n      ev.sentdown=true\r\n      this.sendEventDown(ev)\r\n    }\r\n\r\n    if (approval>75&&!ev.approvalnotificationsent){\r\n      this.eventApprovedNotification(ev)\r\n    }\r\n\r\n    if (approval<75&&(n-ev.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n      this.deleteEvent(null,ev)\r\n    }\r\n    if(approval>=10&&!ev.notificationsent){\r\n      this.sendEventNotification(ev)\r\n    }\r\n  }\r\n\r\n  this.setState({events:eventscopy})\r\n  let current=eventscopy.slice((this.state.page*10-10),this.state.page*10)\r\n\r\n  this.setState({currentPageData:current})\r\n  const options = {\r\n    method: 'put',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: ''\r\n  }\r\n\r\n\r\n  fetch(\"/events/approveofevent/\" + id +\"/\"+ auth.isAuthenticated().user._id, options\r\n).then(res => {\r\n  console.log(res)\r\n}).catch(err => {\r\n  console.error(err);\r\n})\r\n\r\n}\r\n\r\n\r\nwithdrawapprovalofevent(e,id){\r\n  let d = new Date();\r\n  let n = d.getTime();\r\n  let eventscopy=JSON.parse(JSON.stringify(this.state.events))\r\n  function checkEvent(userid) {\r\n    return userid!=auth.isAuthenticated().user._id\r\n  }\r\n  for (var ev of eventscopy){\r\n\r\n    if (ev._id==id){\r\n      var filteredapproval=ev.approval.filter(checkEvent)\r\n      ev.approval=filteredapproval\r\n    }\r\n    let approval=Math.round((ev.approval.length/this.state.users.length)*100)\r\n\r\n\r\n    if (approval<75&&(n-ev.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n      this.deleteEvent(null,ev)\r\n    }\r\n\r\n  }\r\n  this.setState({events:eventscopy})\r\n  let current=eventscopy.slice((this.state.page*10-10),this.state.page*10)\r\n\r\n  this.setState({currentPageData:current})\r\n  const options = {\r\n    method: 'put',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: ''\r\n  }\r\n\r\n  fetch(\"/events/withdrawapprovalofevent/\" + id +\"/\"+ auth.isAuthenticated().user._id, options\r\n).then(res => {\r\n  console.log(res)\r\n}).catch(err => {\r\n  console.error(err);\r\n})\r\n\r\n}\r\n\r\n\r\n\r\n eventApprovedNotification(item){\r\n  console.log(item)\r\n  if(item.approvalnotificationsent==false){\r\n    let eventscopy=JSON.parse(JSON.stringify(this.state.events))\r\n    for (let ev of eventscopy){\r\n      console.log(ev._id,item._id)\r\n      if (ev._id==item._id){\r\n        ev.approvalnotificationsent=true\r\n      }}\r\nconsole.log(eventscopy)\r\n      this.setState({events:eventscopy})\r\n      let current=eventscopy.slice((this.state.page*10-10),this.state.page*10)\r\n      this.setState({currentPageData:current})\r\n\r\n      let d = new Date();\r\n      let n = d.getTime();\r\n      let chatMessage=`An event called ${item.title} has been approved for this group, with 75% attendance`\r\n      let userId=auth.isAuthenticated().user._id\r\n      let userName=auth.isAuthenticated().user.name\r\n      let nowTime=n\r\n      let type=\"text\"\r\n      let groupId=this.state.group._id\r\n      let groupTitle=this.state.group.title\r\n\r\n      this.state.socket.emit(\"Input Chat Message\", {\r\n        chatMessage,\r\n        userId,\r\n        userName,\r\n        nowTime,\r\n        type,\r\n        groupId,\r\n        groupTitle\r\n      });\r\n\r\n\r\n      let userscopy=JSON.parse(JSON.stringify(this.state.users))\r\n      userscopy=userscopy.filter(user=>user.eventsapproved)\r\n      let emails=userscopy.map(item=>{return item.email})\r\n      let notification={\r\n        emails:emails,\r\n        subject:\"New Event Approved\",\r\n        message:`An event called ${item.title} has reached 75% attendance in the group called ${this.state.group.title} at level ${this.state.group.level}`\r\n      }\r\n\r\n      const options = {\r\n        method: 'post',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(notification)\r\n      }\r\n\r\n      fetch(\"/groups/sendemailnotification\", options\r\n    ) .then(res => {\r\n      console.log(res)\r\n    }).catch(err => {\r\n      console.error(err);\r\n    })\r\n\r\n    const optionstwo = {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: ''\r\n    }\r\n\r\n  fetch(\"/events/approvalnotificationsent/\"+item._id, optionstwo\r\n  ) .then(res => {\r\n    console.log(res)\r\n  }).catch(err => {\r\n    console.error(err);\r\n  })\r\n}\r\n}\r\n\r\nareYouSure(e,item){\r\n  console.log(item)\r\n    let eventscopy=JSON.parse(JSON.stringify(this.state.events))\r\n    console.log(eventscopy)\r\n    for (let ev of eventscopy){\r\n      if (ev._id==item._id){\r\n        ev.areyousure=true\r\n      }}\r\n      console.log(eventscopy)\r\n\r\n      let current=eventscopy.slice((this.state.page*10-10),this.state.page*10)\r\n      this.setState({events:eventscopy,currentPageData:current})\r\n    }\r\n\r\n    areYouNotSure(e,item){\r\n      console.log(item)\r\n        let eventscopy=JSON.parse(JSON.stringify(this.state.events))\r\n        console.log(eventscopy)\r\n        for (let ev of eventscopy){\r\n          if (ev._id==item._id){\r\n            ev.areyousure=false\r\n          }}\r\n          console.log(eventscopy)\r\n          let current=eventscopy.slice((this.state.page*10-10),this.state.page*10)\r\n          this.setState({events:eventscopy,currentPageData:current})\r\n        }\r\n\r\nsendEventNotification(item){\r\n  console.log(item)\r\n  if(item.notificationsent==false){\r\n    let eventscopy=JSON.parse(JSON.stringify(this.state.events))\r\n    console.log(eventscopy)\r\n    for (let ev of eventscopy){\r\n      if (ev._id==item._id){\r\n        ev.notificationsent=true\r\n        console.log(\"updated event\",ev)\r\n      }}\r\n      console.log(eventscopy)\r\n\r\n      let current=eventscopy.slice((this.state.page*10-10),this.state.page*10)\r\n      this.setState({events:eventscopy,currentPageData:current})\r\n\r\n      let d = new Date();\r\n      let n = d.getTime();\r\n      let chatMessage=`An event called ${item.title} has been suggested for this group`\r\n      let userId=auth.isAuthenticated().user._id\r\n      let userName=auth.isAuthenticated().user.name\r\n      let nowTime=n\r\n      let type=\"text\"\r\n      let groupId=this.state.group._id\r\n      let groupTitle=this.state.group.title\r\n\r\n      this.state.socket.emit(\"Input Chat Message\", {\r\n        chatMessage,\r\n        userId,\r\n        userName,\r\n        nowTime,\r\n        type,\r\n        groupId,\r\n        groupTitle});\r\n\r\n      let userscopy=JSON.parse(JSON.stringify(this.state.users))\r\n      userscopy=userscopy.filter(user=>user.events)\r\n      let emails=userscopy.map(item=>{return item.email})\r\n      let notification={\r\n        emails:emails,\r\n        subject:\"New Event Suggestion\",\r\n        message:`In the group called ${this.state.group.title} at level ${this.state.group.level}, ${item.createdby.name} suggested the event: ${item.title}`\r\n      }\r\n\r\n      const options = {\r\n        method: 'post',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(notification)\r\n      }\r\n\r\n      fetch(\"/groups/sendemailnotification\", options\r\n    ) .then(res => {\r\n      console.log(res)\r\n    }).catch(err => {\r\n      console.error(err);\r\n    })\r\n\r\n    const optionstwo = {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: ''\r\n    }\r\n\r\n    fetch(\"/events/notificationsent/\"+item._id, optionstwo\r\n  ) .then(res => {\r\n    console.log(res)\r\n  }).catch(err => {\r\n    console.error(err);\r\n  })\r\n}\r\n}\r\n\r\n\r\nrender() {\r\n\r\n  var d = new Date();\r\n  var n = d.getTime();\r\n\r\n  var eventscomponent=<h3>no events</h3>\r\n  if (this.state.users&&this.state.events){\r\n    if(this.state.events.length>0){\r\n    eventscomponent=this.state.currentPageData.map(item => {\r\n\r\n      let approval=<></>\r\n      let votesfrommembers=[]\r\n      let memberids=this.state.group.members.map(item=>item._id)\r\n\r\n      for (let vote of item.approval){\r\n        if (memberids.includes(vote)){\r\n          votesfrommembers.push(vote)\r\n        }\r\n      }\r\n      item.approval=votesfrommembers\r\n      approval=Math.round((item.approval.length/this.state.users.length)*100)\r\n\r\n      let attendeenames=[]\r\n      for (let user of this.state.users){\r\n        for (let attendee of item.approval){\r\n          if (attendee==user._id){\r\n            attendeenames.push(user.name)\r\n          }\r\n        }\r\n      }\r\n      let width=`${(item.approval.length/this.state.users.length)*100}%`\r\n      if (approval<75&&(n-item.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n        this.deleteEvent(null,item)\r\n      }\r\n      let starttime=item.starttime.split('T')\r\n      starttime=`Date: ${starttime[0]}, Time: ${starttime[1]}`\r\n      let endtime=item.endtime.split('T')\r\n      endtime=`Date: ${endtime[0]}, Time: ${endtime[1]}`\r\n      return(\r\n        <>\r\n        <div key={item._id} className=\"eventbox\" style={{marginBottom:\"1vw\"}}>\r\n        <div className=\"eventcol1\">\r\n        {item.title&&<h3>Title: {item.title}</h3>}\r\n        {item.description&&<h4>Description: {item.description}</h4>}\r\n        {item.starttime&&<h4>Start: {starttime}, End: {endtime}</h4>}\r\n        {this.state.users&&<h4 className=\"ruletext\">{item.approval.length} people are attending this event. {item.approval.length>0&&<>Attendees=</>}</h4>}\r\n        {attendeenames&&attendeenames.map((item,index)=>{return(<><h4 className=\"ruletext\">{item}{(index<(attendeenames.length-2))?\", \":(index<(attendeenames.length-1))?\" and \":\".\"}</h4></>)})}\r\n        <div className=\"percentagecontainer\"><div style={{width:width}} className=\"percentage\"></div></div>\r\n        {!item.approval.includes(auth.isAuthenticated().user._id)&&<button className=\"ruletext approvalbutton\" id={item.title} onClick={(e)=>this.approveofevent(e,item._id)}>Attend this event?</button>}\r\n        {item.approval.includes(auth.isAuthenticated().user._id)&&<button className=\"ruletext approvalbutton\" id={item.title} onClick={(e)=>this.withdrawapprovalofevent(e,item._id)}>Don't want to attend anymore?</button>}\r\n        {this.state.group.groupabove&&<>\r\n        {item.createdby&&<>\r\n        {((item.createdby._id==auth.isAuthenticated().user._id||this.state.group.groupabove.members.includes(auth.isAuthenticated().user._id))&&approval<75&&!item.areyousure)&&\r\n          <button className=\"ruletext deletebutton\" id={item.title} onClick={(e)=>this.areYouSure(e,item)}>Delete?</button>}</>}\r\n          </>}\r\n          {item.areyousure&&<button className=\"ruletext deletebutton\" id={item.title} onClick={(e)=>this.areYouNotSure(e,item)}>Not sure</button>}\r\n          {item.areyousure&&<button className=\"ruletext deletebutton\" id={item.title} onClick={(e)=>this.deleteEvent(e,item)}>Are you sure?</button>}\r\n          </div>\r\n          {(item.images||item.coordinates)&&<div className=\"eventimagemapcontainer\">\r\n          {item.images&&<div className=\"eventcol2\">\r\n          <Image style={{width:\"100%\",overflow:\"hidden\"}} cloudName=\"julianbullmagic\" publicId={item.images[0]} />\r\n          </div>}\r\n          <div className=\"eventcol3\">\r\n          <div className=\"eventcol3inner\">\r\n          {item.coordinates&&<MapContainer center={[item.coordinates[0],item.coordinates[1]]} zoom={13} scrollWheelZoom={false}>\r\n          <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <Circle center={[item.coordinates[0],item.coordinates[1]]} radius={100} />\r\n          </MapContainer>}\r\n          </div>\r\n          </div>\r\n          </div>}\r\n          </div>\r\n          </>\r\n\r\n        )})\r\n      }\r\n      }\r\n\r\n      let inthisgroup=this.state.group.members.map(item=>item._id)\r\n      inthisgroup=inthisgroup.includes(auth.isAuthenticated().user._id)\r\n\r\n      return (\r\n        <>\r\n        <div style={{marginBottom:\"20vw\"}}>\r\n        {inthisgroup&&<h2>Propose an Event</h2>}\r\n        {inthisgroup&&<CreateEventForm updateEvents={this.updateEvents} groupId={this.props.groupId} level={this.state.group.level}/>}\r\n        <h2><strong>Group Events </strong></h2>\r\n        {this.state.pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\r\n        {(this.state.pageNum.length>1&&this.state.pageNum&&this.state.events)&&this.state.pageNum.map((item,index)=>{\r\n          return (<>\r\n            <button style={{display:\"inline\",opacity:(index+1==this.state.page)?\"0.5\":\"1\"}} onClick={(e) => this.decidePage(e,item)}>{item}</button>\r\n            </>)\r\n          })}\r\n          {this.state.currentPageData&&eventscomponent}\r\n          {this.state.pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\r\n          {(this.state.pageNum.length>1&&this.state.pageNum.length>1&&this.state.pageNum&&this.state.events)&&this.state.pageNum.map((item,index)=>{\r\n            return (<>\r\n              <button style={{display:\"inline\",opacity:(index+1==this.state.page)?\"0.5\":\"1\"}} onClick={(e) => this.decidePage(e,item)}>{item}</button>\r\n              </>)\r\n            })}\r\n            </div>\r\n            </>\r\n          );\r\n        }\r\n      }\r\n","import React, {useRef,useState} from 'react'\nimport auth from '../auth/auth-helper'\nimport io from \"socket.io-client\";\nconst mongoose = require(\"mongoose\");\n\n\nexport default function CreateRuleForm(props) {\n  const ruleValue = React.useRef('')\n  const explanationValue = React.useRef('')\n  const [viewForm, setViewForm] = useState(false);\n  const [toggle, setToggle] = useState(false);\n  let server = \"http://localhost:5000\";\n  let socket\n  if(process.env.NODE_ENV==\"production\"){\n    socket=io();\n  }\n  if(process.env.NODE_ENV==\"development\"){\n    socket=io(server);\n\n  }\n\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n    let d = new Date();\n    let n = d.getTime();\n    let ruleId=mongoose.Types.ObjectId()\n    ruleId=ruleId.toString()\n\n    const newRule={\n      _id:ruleId,\n      rule: ruleValue.current.value,\n      groupIds:[props.groupId],\n      level:props.level,\n      createdby:auth.isAuthenticated().user._id,\n      explanation:explanationValue.current.value,\n      notificationsent:false,\n      ratificationnotificationsent:false,\n      timecreated:n,\n      approval:[auth.isAuthenticated().user._id]\n    }\n    console.log(\"NEW RULE\",newRule)\n\n    const newRuleToRender=JSON.parse(JSON.stringify(newRule))\n    newRuleToRender.createdby=auth.isAuthenticated().user\n\n\n\n      props.updateRules(newRuleToRender)\n      const options={\n        method: \"POST\",\n        body: JSON.stringify(newRule),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"}}\n\n\n          await fetch(\"/rules/createrule/\"+ruleId, options)\n          .then(response => response.json())\n          .then(json => console.log(json))\n          .catch(err => {\n            console.error(err);\n          })\n        }\n\n\n        return (\n          <>\n          <button className=\"formbutton\" style={{display:\"block\"}} onClick={(e) => setViewForm(!viewForm)}>View Create Rule Form?</button>\n          <div className='form'  style={{maxHeight:!viewForm?\"0\":\"100vw\",overflow:\"hidden\",transition:\"max-height 2s\"}}>\n          <form className='search-form'>\n          <div className=\"eventformbox\">\n          <label htmlFor='name'>Rule</label>\n          <input\n          className=\"posttextarea\"\n          type='text'\n          name='ruleValue'\n          id='ruleValue'\n          ref={ruleValue}\n          style={{width:\"95%\"}}\n          />\n          </div>\n          <div className=\"eventformbox\">\n          <label htmlFor='name'>Explanation</label>\n          <textarea\n          className=\"posttextarea\"\n          rows=\"4\"\n          type='text'\n          name='explanationValue'\n          id='explanationValue'\n          ref={explanationValue}\n\n          />\n          </div>\n          <button className=\"formsubmitbutton\" onClick={(e) => handleSubmit(e)}>Submit Rule</button>\n          </form>\n          </div>\n          </>\n        )}\n","import React, { Component } from 'react';\r\nimport {Image} from 'cloudinary-react'\r\nimport CreateRuleForm from './CreateRuleForm'\r\nimport auth from './../auth/auth-helper'\r\nimport io from \"socket.io-client\";\r\nconst mongoose = require(\"mongoose\");\r\n\r\nlet leaders=[]\r\n\r\nexport default class Leaders extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    for (let user of props.users){\r\n      if(props.group.groupabove){\r\n        if (props.group.groupabove.members.includes(user._id)){\r\n\r\n          leaders.push(user)\r\n        }\r\n      }\r\n    }\r\n    leaders=[...new Set(leaders)]\r\n    let userscopy=props.users\r\n    userscopy=userscopy.sort(() => Math.random() - 0.5);\r\n    userscopy=userscopy.sort(() => Math.random() - 0.5);\r\n    this.state = {\r\n      users:userscopy,\r\n      viewexplanation:false,\r\n      group:props.group,\r\n      leaders:leaders,\r\n      redirect: false,\r\n      updating:false,\r\n      participate:props.participate\r\n    }\r\n  }\r\n\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    let userscopy=JSON.parse(JSON.stringify(nextProps.users))\r\nuserscopy=userscopy.sort(() => Math.random() - 0.5);\r\nuserscopy=userscopy.sort(() => Math.random() - 0.5);\r\n\r\n    if (nextProps.users !== this.props.users) {\r\n\r\n      this.setState({\r\n        users:userscopy\r\n      });\r\n    }\r\n\r\n    if (nextProps.group !== this.props.group) {\r\n\r\n      this.setState({\r\n        group:nextProps.group\r\n      });\r\n    }\r\n    for (let user of this.state.users){\r\n      if(this.state.group.groupabove){\r\n        if (this.state.group.groupabove.members.includes(user._id)){\r\n          leaders.push(user)\r\n        }\r\n      }\r\n    }\r\n\r\n    leaders=[...new Set(leaders)]\r\n\r\n    this.setState({leaders:leaders})\r\n  }\r\n\r\n\r\n  approveofuser(e,id){\r\n\r\n    var userscopy=JSON.parse(JSON.stringify(this.state.users))\r\n    let vote=`${this.state.group.title},${this.state.group.level},${auth.isAuthenticated().user._id}`\r\n    let numreps=Math.round(userscopy.length/25)\r\n\r\n    for (let user of userscopy){\r\n      let votesfrommembers=[]\r\n      let memberids=this.state.group.members.map(item=>item._id)\r\n\r\n      for (let vote of user.votes){\r\n        let splitvote=vote.split(\",\")\r\n        if (memberids.includes(splitvote[2])){\r\n          votesfrommembers.push(vote)\r\n        }\r\n      }\r\n      user.votes=votesfrommembers\r\n      let splitvote=`${this.state.group.title},${this.state.group.level}`\r\n      if(!user.votes){\r\n        user.votes=[]\r\n      }\r\n      if (user.votes){\r\n        user.votes=user.votes.filter(item=>item.startsWith(splitvote))\r\n      }\r\n    }\r\n\r\n    for (let user of userscopy){\r\n      if (user._id==id){\r\n        if(!user.votes.includes(vote)){\r\n          user.votes.push(vote)\r\n          let splitvote=vote.split(',')\r\n          splitvote.pop()\r\n          splitvote.join(\",\")\r\n          user.votes=user.votes.filter(item=>item.startsWith(splitvote))\r\n        }\r\n      }\r\n    }\r\n    userscopy = [...new Set(userscopy)];\r\n    let unsorted=JSON.parse(JSON.stringify(userscopy))\r\n    userscopy.sort((a, b) => (a.votes.length < b.votes.length) ? 1 : -1)\r\n\r\n    let leaders=userscopy.slice(0,numreps)\r\n    this.setState({leaders:leaders})\r\n\r\n\r\n    const options = {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: ''\r\n    }\r\n\r\n\r\n    this.setState({users:unsorted})\r\n\r\n\r\n    fetch(\"/leaders/voteforleader/\" + id +\"/\"+ vote, options\r\n  ).then(res => {\r\n    console.log(res)\r\n  }).catch(err => {\r\n    console.error(err);\r\n  })\r\n\r\n  for (let user of this.state.users){\r\n    if (this.state.group.groupabove.members.includes(user._id)){\r\n      leaders.push(user)\r\n    }\r\n  }\r\n  leaders=[...new Set(leaders)]\r\n\r\n  this.setState({leaders:leaders})\r\n\r\n}\r\n\r\n\r\nwithdrawapprovalofuser(e,id){\r\n  var userscopy=JSON.parse(JSON.stringify(this.state.users))\r\n  let numreps=Math.round(userscopy.length/25)\r\n\r\n  let vote=`${this.state.group.title},${this.state.group.level},${auth.isAuthenticated().user._id}`\r\n\r\n  for (var user of userscopy){\r\n    let votesfrommembers=[]\r\n    let memberids=this.state.group.members.map(item=>item._id)\r\n\r\n    for (let vote of user.votes){\r\n      let splitvote=vote.split(\",\")\r\n      if (memberids.includes(splitvote[2])){\r\n        votesfrommembers.push(vote)\r\n      }\r\n    }\r\n    user.votes=votesfrommembers\r\n    if (user._id==id){\r\n      var filteredapproval=user.votes.filter(voted=>!(voted==vote))\r\n      filteredapproval = [...new Set(filteredapproval)];\r\n      user.votes=filteredapproval\r\n    }\r\n  }\r\n\r\n  this.setState({users:userscopy})\r\n\r\n  const options = {\r\n    method: 'put',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: ''\r\n  }\r\n\r\n  fetch(\"/leaders/withdrawvoteforleader/\" + id +\"/\"+ vote, options\r\n) .then(res => {\r\nconsole.log(res)\r\n}).catch(err => {\r\n  console.error(err);\r\n})\r\n}\r\n\r\n\r\n\r\n\r\n\r\nrender(props) {\r\n\r\n  let userscomponent\r\n  if (this.state.users){\r\n\r\n    userscomponent=this.state.users.map(item => {\r\n      let splitvote=`${this.state.group.title},${this.state.group.level}`\r\n\r\n      if(!item.votes){\r\n        item.votes=[]\r\n      }\r\n\r\n      if(item.votes){\r\n        item.votes=item.votes.filter(item=>item.startsWith(splitvote))\r\n        item.votes = [...new Set(item.votes)];\r\n\r\n        let votesfrommembers=[]\r\n        let memberids=this.state.group.members.map(item=>item._id)\r\n\r\n        for (let vote of item.votes){\r\n          let splitvote=vote.split(\",\")\r\n          if (memberids.includes(splitvote[2])){\r\n            votesfrommembers.push(vote)\r\n          }\r\n        }\r\n        item.votes=votesfrommembers\r\n      }\r\n      let vote=`${this.state.group.title},${this.state.group.level},${auth.isAuthenticated().user._id}`\r\n      let votees=[]\r\n      if(item.votes.length>0){\r\n        for (let vote of item.votes){\r\n          let splitvote=vote.split(',')\r\n\r\n          for (let user of this.state.users){\r\n            if (user._id==splitvote[2]){\r\n              votees.push(user.name)\r\n              votees = [...new Set(votees)];\r\n            }\r\n          }\r\n        }\r\n      }\r\n      let width=`${(item.votes.length/this.state.group.members.length)*100}%`\r\n\r\n      console.log(\"width\",width,item.votes)\r\n\r\n      return(\r\n        <>\r\n        <div key={item._id} className=\"rule\">\r\n        <h3 className=\"ruletext\">{item.name}  </h3>\r\n        {(!item.votes.includes(vote))&&<button style={{display:'inline'}} className=\"ruletext\" onClick={(e)=>this.approveofuser(e,item._id)}>Vote For This Person?</button>}\r\n        {(item.votes.includes(vote))&&<button style={{display:'inline'}} className=\"ruletext\" onClick={(e)=>this.withdrawapprovalofuser(e,item._id)}>Withdraw Vote?</button>}\r\n        {votees.length>0&&<p style={{display:'inline'}}>People who voted: </p>}\r\n        {votees&&votees.map((item,index)=>{return(<><p style={{display:'inline'}}>{item}{(index<(votees.length-2))?\", \":(index<(votees.length-1))?\" and \":\".\"}</p></>)})}\r\n        <div className=\"percentagecontainer\"><div style={{width:width}} className=\"percentage\"></div></div>\r\n        </div>\r\n        </>\r\n      )})\r\n    }\r\n\r\n    let inthisgroup=this.state.group.members.map(item=>item._id)\r\n    inthisgroup=inthisgroup.includes(auth.isAuthenticated().user._id)\r\n\r\n    return (\r\n      <>\r\n      <div style={{marginBottom:\"20vw\"}}>\r\n      <br />\r\n      <h2>Group Leaders</h2>\r\n      {this.state.group.level==2&&<h4>The highest level group, Australia, has no singular leader, prime minister, president or chancellor</h4>}\r\n\r\n      {this.state.leaders.length>0&&this.state.leaders.map(item=><><div className=\"leader\"><h3 style={{margin:\"0.5vw\"}}>{item.name}</h3></div></>)}\r\n      {this.state.leaders.length==0&&<h4>No leaders</h4>}\r\n      <button onClick={(e) => this.setState({viewexplanation:!this.state.viewexplanation})}>View Explanation</button>\r\n      <div className=\"leaderexpl\" style={{maxHeight:!this.state.viewexplanation?\"0\":\"300vw\",overflow:\"hidden\"}}>\r\n        {this.state.users.length<13&&<><p>Each group larger than 25 members will have two representatives, one male and the other female.\r\n          If all members are only one sex, they cannot choose any representatives.\r\n          If the group is smaller than 25 members large, you can still vote for people in this group. These votes will be recorded in the database and counted if the group\r\n         should become large enough. We have a sorting algorithm that ensures\r\n          all people outside of the two main sex groups are proportionally represented, however male and female\r\n          are the largest ones and will mostly be chosen (purely based on population size). Most capitalist\r\n          parliaments or congresses are less than a third female, giving hugely disproportionate and unfair\r\n          representation to men. If we hope to reduce the gender pay gap, high cost of childcare, the disproportionate\r\n          amount of unpaid housework, rates of teenage pregnancy and many other distinctly female problems,\r\n          a more humanistic political system is needed.</p></>\r\n        }\r\n        Representatives from higher level groups are not allowed to nominate or endorse candidates in lower level groups.\r\n        This helps to ensure a genuine grassroots organization. There are no election campaigns on this\r\n        web application. However, you can explain your skills, qualifications and experience on your profile page and others\r\n        can inspect this. Each candidate will be assessed on their merits by the people they represent. We don't\r\n        want an oligarchy to limit or influence the choice of candidates.\r\n        You could also post a resume in your groups for other members to look at and evalutate your credentials. This\r\n        is intended to create a genuine meritocracy, the choice of leaders or experts should be purely based on their skill, experience,\r\n        trustworthyness, moral integrity and\r\n        knowledge. It should have nothing to do with how much money people have to spend on a political marketing campaigns or how much control they have over the media.\r\n        In order to prevent a situation where people get selected simply because they were first to get any votes, all elected leaders\r\n        must receive at least 75% approval from their group and the most popular members above this threshold can become representatives.\r\n        When you choose who to vote for, try to priortise their actual credentials instead of whether or not you like them personally.\r\n        The democratic social network tries to prevent demagoguery. This is a phenomenon where people gain influence simply with charm\r\n        and charisma, while they may not actual have the competence for leadership. A demagogue is sort of like a sociopath,\r\n        very manipulative and cunning, but the term\r\n        refers particularly to political leaders. It is nice if leaders are likeable and friendly, but\r\n        this should not be the priority. A real leader tells you what you need to hear, not just what you want to hear.\r\n        Only two leaders are chosen from each group, however there may be many members who happen to all be\r\n        equally and most popular. For this reason, every three months, two leaders are chosen randomly from this\r\n        group.\r\n        </div>\r\n      <hr/>\r\n      {inthisgroup&&<><h3>Vote for Members</h3>\r\n        {this.state.users.length<1&&<h4>No members</h4>}\r\n        {userscomponent}</>}\r\n        </div>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n","import React, { Component } from 'react';\r\nimport {Image} from 'cloudinary-react'\r\nimport CreateRuleForm from './CreateRuleForm'\r\nimport auth from './../auth/auth-helper'\r\nimport io from \"socket.io-client\";\r\nconst mongoose = require(\"mongoose\");\r\n\r\nconst MILLISECONDS_IN_A_DAY=86400000\r\nconst MILLISECONDS_IN_A_WEEK=604800000\r\n\r\nexport default class Rules extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      users:props.users,\r\n      rules: [],\r\n      group:props.group,\r\n      page:1,\r\n      pageNum:[],\r\n      currentPageData:[],\r\n      redirect: false,\r\n      viewexplanation:false,\r\n      updating:false,\r\n      socket:props.socket,\r\n      participate:props.participate\r\n    }\r\n    this.updateRules= this.updateRules.bind(this)\r\n    this.sendRuleNotification= this.sendRuleNotification.bind(this)\r\n    this.approveofrule=this.approveofrule.bind(this)\r\n    this.ruleApprovedNotification=this.ruleApprovedNotification.bind(this)\r\n    this.areYouSure=this.areYouSure.bind(this)\r\n    this.areYouNotSure=this.areYouNotSure.bind(this)\r\n    let socket\r\n  }\r\n\r\n  componentDidMount(props){\r\n    // let server = \"http://localhost:5000\";\r\n    // if(process.env.NODE_ENV==\"production\"){\r\n    //   socket=io();\r\n    // }\r\n    // if(process.env.NODE_ENV==\"development\"){\r\n    //   socket=io(server);\r\n    // }\r\n    this.getRules()\r\n  }\r\n\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.socket !== this.props.socket) {\r\n      this.setState({socket:nextProps.socket})\r\n    }\r\n    if (nextProps.users !== this.props.users) {\r\n      this.setState({users:nextProps.users})\r\n    }\r\n    if (nextProps.group !== this.props.group) {\r\n      this.setState({group:nextProps.group})\r\n    }\r\n  }\r\n\r\n\r\n  decidePage(e,pagenum){\r\n\r\n    let currentpage=this.state.rules.slice((pagenum*10-10),pagenum*10)\r\n\r\n    this.setState({page:pagenum,currentPageData:currentpage})\r\n  }\r\n\r\n  async getRules(){\r\n    await fetch(`/rules/getrules/`+this.props.groupId)\r\n    .then(response => response.json())\r\n    .then(data=>{\r\n\r\n      let rules=data\r\n      rules.reverse()\r\n      this.setState({rules:rules})\r\n\r\n\r\n      let currentpage=rules.slice(0,10)\r\n\r\n      this.setState({currentPageData:currentpage})\r\n\r\n      let pagenum=Math.ceil(data.length/10)\r\n\r\n      let pagenums=[]\r\n      while(pagenum>0){\r\n        pagenums.push(pagenum)\r\n        pagenum--\r\n      }\r\n      pagenums.reverse()\r\n\r\n      this.setState({pageNum:pagenums})\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n\r\n  updateRules(newrule){\r\n    var rulescopy=JSON.parse(JSON.stringify(this.state.rules))\r\n    rulescopy.reverse()\r\n    rulescopy.push(newrule)\r\n    rulescopy.reverse()\r\n    let current=rulescopy.slice((this.state.page*10-10),this.state.page*10)\r\n    this.setState({ rules:rulescopy,currentPageData:current})\r\n  }\r\n\r\n\r\n\r\n\r\n  async deleteRule(event,item){\r\n\r\n    var rulescopy=JSON.parse(JSON.stringify(this.state.rules))\r\n    function checkRule(rule) {\r\n      return rule._id!=item._id\r\n    }\r\n\r\n    var filteredapproval=rulescopy.filter(checkRule)\r\n    let current=filteredapproval.slice((this.state.page*10-10),this.state.page*10)\r\n    this.setState({ rules:filteredapproval,currentPageData:current})\r\n\r\n    const optionstwo = {\r\n      method: 'delete',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: ''\r\n    }\r\n\r\n     fetch(\"/rules/\"+item._id, optionstwo)\r\n    .then(res => {\r\n      console.log(\"res.data\",res.data)\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n\r\n    let d = new Date();\r\n    let n = d.getTime();\r\n\r\n\r\n    let chatMessage=`The rule ${item.rule} has been deleted.`\r\n    let userId=auth.isAuthenticated().user._id\r\n    let userName=auth.isAuthenticated().user.name\r\n    let nowTime=n\r\n    let type=\"text\"\r\n    let groupId=this.state.group._id\r\n    let groupTitle=this.state.group.title\r\n\r\n    this.state.socket.emit(\"Input Chat Message\", {\r\n      chatMessage,\r\n      userId,\r\n      userName,\r\n      nowTime,\r\n      type,\r\n      groupId,\r\n      groupTitle\r\n    });\r\n      let userscopy=JSON.parse(JSON.stringify(this.state.users))\r\n      userscopy=userscopy.filter(item=>item.rules)\r\n      let emails=userscopy.map(item=>{return item.email})\r\n\r\n\r\n\r\n      let notification={\r\n        emails:emails,\r\n        subject:\"Rule Deleted\",\r\n        message:`In the group called ${this.state.group.title} at level ${this.state.group.level}, The rule ${item.rule} has been deleted\r\n        because of lack of support`\r\n      }\r\n\r\n      const options = {\r\n        method: 'post',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(notification)\r\n      }\r\n\r\n      await fetch(\"/groups/sendemailnotification\", options\r\n    ) .then(res => {\r\n      console.log(\"res.data\",res.data)\r\n    }).catch(error => {\r\n      console.error(error);\r\n    })\r\n  }\r\n\r\n\r\n  approveofrule(e,id){\r\n\r\n    let d = new Date();\r\n    let n = d.getTime();\r\n    var rulescopy=JSON.parse(JSON.stringify(this.state.rules))\r\n    function checkRule() {\r\n      return id!==auth.isAuthenticated().user._id\r\n    }\r\n\r\n\r\n    for (var rule of rulescopy){\r\n      let votesfrommembers=[]\r\n      let memberids=this.state.group.members.map(item=>item._id)\r\n\r\n      for (let vote of rule.approval){\r\n        if (memberids.includes(vote)){\r\n          votesfrommembers.push(vote)\r\n        }\r\n      }\r\n      rule.approval=votesfrommembers\r\n\r\n      if (rule._id==id){\r\n\r\n        if(!rule.approval.includes(auth.isAuthenticated().user._id)){\r\n          rule.approval.push(auth.isAuthenticated().user._id)\r\n\r\n\r\n          let approval=(rule.approval.length/this.state.users.length)*100\r\n\r\n          if (approval>75){\r\n            this.ruleApprovedNotification(rule)\r\n          }\r\n\r\n          if (approval<75&&(n-rule.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n            this.deleteRule(null,rule)\r\n          }\r\n          if(approval>=10&&!rule.notificationsent){\r\n            this.sendRuleNotification(rule)\r\n          }\r\n\r\n\r\n          if ((approval>75)&&(this.state.group.level>0)&&(rule.sentdown==false)){\r\n\r\n\r\n            rule.sentdown=true\r\n            this.sendRuleDown(rule)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState({rules:rulescopy})\r\n    let current=rulescopy.slice((this.state.page*10-10),this.state.page*10)\r\n\r\n    this.setState({currentPageData:rulescopy})\r\n\r\n    let options = {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: ''\r\n    }\r\n\r\n    fetch(\"/rules/approveofrule/\" + id +\"/\"+ auth.isAuthenticated().user._id, options\r\n  ).then(res => {\r\n\r\n  }).catch(err => {\r\n    console.error(err);\r\n  })\r\n}\r\n\r\nasync sendRuleDown(rule){\r\n  let optionsone = {\r\n    method: 'put',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: ''\r\n  }\r\n\r\n  fetch(\"/rules/marksentdown/\" + rule._id, optionsone\r\n).then(res => {\r\n  console.log(res)\r\n}).catch(err => {\r\n  console.error(err);\r\n})\r\n\r\n\r\nlet lowergroupids=[]\r\nfor (let group of this.state.group.groupsbelow){\r\n\r\n  if(group.groupsbelow){\r\n    lowergroupids.push(...group.groupsbelow)\r\n  }\r\n  lowergroupids.push(group._id)\r\n}\r\n\r\nfor (let gr of lowergroupids){\r\n\r\n  fetch(\"/rules/sendruledown/\"+rule._id+\"/\"+gr,  optionsone)\r\n  .catch(err => {\r\n    console.error(err);\r\n  })\r\n}\r\n}\r\n\r\n\r\nwithdrawapprovalofrule(e,id){\r\n  let d = new Date();\r\n  let n = d.getTime();\r\n  var rulescopy=JSON.parse(JSON.stringify(this.state.rules))\r\n  function checkRule(userid) {\r\n    return userid!=auth.isAuthenticated().user._id\r\n  }\r\n  for (var rule of rulescopy){\r\n    if (rule._id==id){\r\n      var filteredapproval=rule.approval.filter(checkRule)\r\n      rule.approval=filteredapproval\r\n    }\r\n    let approval=(rule.approval.length/this.state.users.length)*100\r\n\r\n\r\n    if(approval>=10&&!rule.notificationsent){\r\n      this.sendRuleNotification(rule)\r\n    }\r\n\r\n    if (approval<75&&(n-rule.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n      this.deleteRule(null,rule)\r\n    }\r\n  }\r\n\r\n  this.setState({rules:rulescopy})\r\n  let current=rulescopy.slice((this.state.page*10-10),this.state.page*10)\r\n\r\n  this.setState({currentPageData:current})\r\n\r\n  const options = {\r\n    method: 'put',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: ''\r\n  }\r\n\r\n  fetch(\"/rules/withdrawapprovalofrule/\" + id +\"/\"+ auth.isAuthenticated().user._id, options\r\n) .then(res => {\r\n  console.log(res)\r\n}).catch(err => {\r\n  console.error(err);\r\n})\r\n\r\n}\r\n\r\nsendRuleNotification(item){\r\n  if(!item.notificationsent){\r\n    var rulescopy=JSON.parse(JSON.stringify(this.state.rules))\r\n    for (var rule of rulescopy){\r\n      if (rule._id==item._id){\r\n        rule.notificationsent=true\r\n      }}\r\n      this.setState({rules:rulescopy})\r\n      let current=rulescopy.slice((this.state.page*10-10),this.state.page*10)\r\n      this.setState({currentPageData:current})\r\n\r\n\r\n      let userscopy=JSON.parse(JSON.stringify(this.state.users))\r\n      userscopy=userscopy.filter(user=>user.rules)\r\n      let emails=userscopy.map(item=>{return item.email})\r\n\r\n\r\n\r\n      let d = new Date();\r\n      let n = d.getTime();\r\n      let chatMessage=`Rule suggested: ${item.rule}`\r\n      let userId=auth.isAuthenticated().user._id\r\n      let userName=auth.isAuthenticated().user.name\r\n      let nowTime=n\r\n      let type=\"text\"\r\n      let groupId=this.state.group._id\r\n      let groupTitle=this.state.group.title\r\n\r\n      this.state.socket.emit(\"Input Chat Message\", {\r\n        chatMessage,\r\n        userId,\r\n        userName,\r\n        nowTime,\r\n        type,\r\n        groupId,\r\n        groupTitle});\r\n\r\n\r\n        let notification={\r\n          emails:emails,\r\n          subject:\"New Rule Suggestion\",\r\n          message:`In the group called ${this.state.group.title} at level ${this.state.group.level},${item.createdby.name} suggested the rule: ${item.rule}`\r\n        }\r\n\r\n        const options = {\r\n          method: 'post',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(notification)\r\n        }\r\n\r\n        fetch(\"/groups/sendemailnotification\", options\r\n      ) .then(res => {\r\n        console.log(res)\r\n      }).catch(err => {\r\n        console.error(err);\r\n      })\r\n\r\n      const optionstwo = {\r\n        method: 'put',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: ''\r\n      }\r\n\r\n      fetch(\"/rules/notificationsent/\"+item._id, optionstwo\r\n    ) .then(res => {\r\n\r\n    }).catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n}\r\n\r\n\r\nruleApprovedNotification(item){\r\n\r\n  let rulescopy=JSON.parse(JSON.stringify(this.state.rules))\r\n\r\n  if(!item.ratificationnotificationsent){\r\n    for (let pol of rulescopy){\r\n      if (pol._id==item._id){\r\n        pol.ratificationnotificationsent=true\r\n      }}\r\n      let d = new Date();\r\n      let n = d.getTime();\r\n      let chatMessage=`Rule approved by 75%: ${item.rule}`\r\n      let userId=auth.isAuthenticated().user._id\r\n      let userName=auth.isAuthenticated().user.name\r\n      let nowTime=n\r\n      let type=\"text\"\r\n      let groupId=this.state.group._id\r\n      let groupTitle=this.state.group.title\r\n\r\n\r\n      this.state.socket.emit(\"Input Chat Message\", {\r\n        chatMessage,\r\n        userId,\r\n        userName,\r\n        nowTime,\r\n        type,\r\n        groupId,\r\n        groupTitle});\r\n\r\n\r\n        this.setState({rules:rulescopy})\r\n        let current=rulescopy.slice((this.state.page*10-10),this.state.page*10)\r\n        this.setState({currentPageData:current})\r\n\r\n        let userscopy=JSON.parse(JSON.stringify(this.state.users))\r\n        userscopy=userscopy.filter(user=>user.rulesapproved)\r\n        let emails=userscopy.map(item=>{return item.email})\r\n\r\n        let notification={\r\n          emails:emails,\r\n          subject:\"A rule has been approved by the group\",\r\n          message:`The group called ${this.state.group.title} has a new rule: ${item.rule}`\r\n        }\r\n\r\n        const options = {\r\n          method: 'post',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(notification)\r\n        }\r\n\r\n        fetch(\"/groups/sendemailnotification\", options\r\n      ) .then(res => {\r\n\r\n      }).catch(err => {\r\n        console.error(err);\r\n      })\r\n\r\n      const optionstwo = {\r\n        method: 'put',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: ''\r\n      }\r\n\r\n      fetch(\"/rules/ruleratificationnotificationsent/\"+item._id, optionstwo\r\n    ) .then(res => {\r\n\r\n    }).catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n}\r\n\r\n\r\nareYouSure(e,item){\r\n  console.log(item)\r\n    let rulescopy=JSON.parse(JSON.stringify(this.state.rules))\r\n    console.log(rulescopy)\r\n    for (let rule of rulescopy){\r\n      if (rule._id==item._id){\r\n        rule.areyousure=true\r\n      }}\r\n      console.log(rulescopy)\r\n\r\n      let current=rulescopy.slice((this.state.page*10-10),this.state.page*10)\r\n      this.setState({rules:rulescopy,currentPageData:current})\r\n    }\r\n\r\n    areYouNotSure(e,item){\r\n      console.log(item)\r\n        let rulescopy=JSON.parse(JSON.stringify(this.state.rules))\r\n        console.log(rulescopy)\r\n        for (let rule of rulescopy){\r\n          if (rule._id==item._id){\r\n            rule.areyousure=false\r\n          }}\r\n          console.log(rulescopy)\r\n          let current=rulescopy.slice((this.state.page*10-10),this.state.page*10)\r\n          this.setState({rules:rulescopy,currentPageData:current})\r\n        }\r\n\r\nrender(props) {\r\n\r\n  var d = new Date();\r\n  var n = d.getTime();\r\n\r\n  let rulescomponent=<h3>no rules</h3>\r\n  if (this.state.rules){\r\n    if(this.state.rules.length>0){\r\n    rulescomponent=this.state.currentPageData.map(item => {\r\n      let approval=<></>\r\n\r\n      let votesfrommembers=[]\r\n      let memberids=this.state.group.members.map(item=>item._id)\r\n\r\n      for (let vote of item.approval){\r\n        if (memberids.includes(vote)){\r\n          votesfrommembers.push(vote)\r\n        }\r\n      }\r\n    item.approval=votesfrommembers\r\n\r\n      if(this.state.users){\r\n        approval=Math.round((item.approval.length/this.state.users.length)*100)\r\n      }\r\n\r\n      let approveenames=[]\r\n      for (let user of this.state.users){\r\n        for (let approvee of item.approval){\r\n          if (approvee==user._id){\r\n            approveenames.push(user.name)\r\n          }\r\n        }\r\n      }\r\n      if (approval<75&&(n-item.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n        this.deleteRule(null,item)\r\n      }\r\n      let width=`${(item.approval.length/this.state.users.length)*100}%`\r\n\r\n      return(\r\n        <>\r\n        <div key={item._id} className=\"rule\">\r\n        {item.createdby&&<>\r\n        <h3 className=\"ruletext\">{item.rule}{!item.rule.endsWith(\".\")&&<>,</>} Suggested by {item.createdby.name}</h3>\r\n        {this.state.group.groupabove&&<>\r\n        {(((item.createdby._id==auth.isAuthenticated().user._id)||this.state.group.groupabove.members.includes(auth.isAuthenticated().user._id))&&approval<75&&!item.areyousure)&&\r\n          <button className=\"ruletext deletebutton\" id={item.title} onClick={(e)=>this.areYouSure(e,item)}>Delete Rule?</button>}</>}\r\n          {item.areyousure&&<button className=\"ruletext deletebutton\" id={item.title} onClick={(e)=>this.areYouNotSure(e,item)}>Not sure</button>}\r\n          {item.areyousure&&<button className=\"ruletext deletebutton\" id={item.title} onClick={(e)=>this.deleteRule(e,item)}>Are you sure?</button>}\r\n        </>}\r\n          {(this.state.group.level==item.level)&&<>\r\n            {(!item.approval.includes(auth.isAuthenticated().user._id))&&<button className=\"ruletext approvalbutton\" onClick={(e)=>this.approveofrule(e,item._id)}>Approve this rule?</button>}\r\n            {(item.approval.includes(auth.isAuthenticated().user._id))&&<button className=\"ruletext approvalbutton\" onClick={(e)=>this.withdrawapprovalofrule(e,item._id)}>Withdraw Approval?</button>}</>}\r\n\r\n            <h4 className=\"ruletext\">  {item.explanation}{item.explanation&&<>,</>}  </h4>\r\n            <h4 className=\"ruletext\">Rule Level {item.level}</h4>\r\n            {(this.state.group.level==item.level)&&<>\r\n              {this.state.users&&<h4 className=\"ruletext\">, {approval}% of members approve this rule, {item.approval.length}/{this.state.users.length}. {approveenames.length>0&&<h4 style={{display:\"inline\"}}>Approvees=</h4>}</h4>}\r\n              {approveenames&&approveenames.map((item,index)=>{return(<><h4 className=\"ruletext\">{item}{(index<(approveenames.length-2))?\", \":(index<(approveenames.length-1))?\" and \":\".\"}</h4></>)})}\r\n              <div className=\"percentagecontainer\"><div style={{width:width}} className=\"percentage\"></div></div>\r\n              </>}\r\n              </div>\r\n              </>\r\n            )})\r\n          }}\r\n\r\n          let inthisgroup=this.state.group.members.map(item=>item._id)\r\n          inthisgroup=inthisgroup.includes(auth.isAuthenticated().user._id)\r\n\r\n          return (\r\n            <>\r\n            <div style={{marginBottom:\"20vw\"}}>\r\n            {inthisgroup&&<h2>Propose a Rule</h2>}\r\n            {inthisgroup&&<CreateRuleForm updateRules={this.updateRules} groupId={this.props.groupId} level={this.state.group.level}/>}\r\n            <button onClick={(e) => this.setState({viewexplanation:!this.state.viewexplanation})}>View Explanation</button>\r\n            <div className=\"leaderexpl\" style={{maxHeight:!this.state.viewexplanation?\"0\":\"300vw\",overflow:\"hidden\"}}>\r\n            <p>Rules that have less than 75% approval and are more than a week old will be deleted. There are some rules you cannot\r\n            directly vote on because they have been approved by representatives of a larger group.\r\n            If you disagree, consult with your\r\n            elected representatives and they may be able to convince you, otherwize you can withdraw your vote from them.\r\n            We live in a very complicated modern world, you cannot be expected to understand everything or even most things, but we can try\r\n            to create circumstances that encourage trust between representatives and their constituency. Democracy book tries to achieve this\r\n            by having fairly small groups, encouraging a closer relationship between elected delegates and their people.\r\n            You may have important information that the delegate can pass onto the representative assembly. It is important that rules for\r\n            larger groups be created by responsible leaders who have consulted with their people, thoroughly discussed the issue and tried\r\n            to arrive at the most informed decision that as many people as possible are happy but also occasionally using authority to\r\n            overule people if absolutely necessary. Coercion is always inferior to persuasion. People comply and follow a rule much more\r\n            willingly and enthusiastically if they understand and agree with it or trust the people who created it.\r\n            Force should only be used to impose rules in dangerous or dire circumstances where persuasion has failed.\r\n            </p>\r\n            </div>\r\n            <h2>Group Rules</h2>\r\n            {this.state.pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\r\n            {(this.state.pageNum.length>1&&this.state.pageNum&&this.state.rules)&&this.state.pageNum.map((item,index)=>{\r\n              return (<>\r\n                <button style={{display:\"inline\",opacity:(index+1==this.state.page)?\"0.5\":\"1\"}} onClick={(e) => this.decidePage(e,item)}>{item}</button>\r\n                </>)\r\n              })}\r\n              {rulescomponent}\r\n              {this.state.pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\r\n              {(this.state.pageNum.length>1&&this.state.pageNum&&this.state.rules)&&this.state.pageNum.map((item,index)=>{\r\n                return (<>\r\n                  <button style={{display:\"inline\",opacity:(index+1==this.state.page)?\"0.5\":\"1\"}} onClick={(e) => this.decidePage(e,item)}>{item}</button>\r\n                  </>)\r\n                })}\r\n                </div>\r\n                </>\r\n              );\r\n            }\r\n          }\r\n","import React, {useState, useEffect, useRef} from 'react'\r\nimport auth from './../auth/auth-helper'\r\nconst mongoose = require(\"mongoose\");\r\nconst MILLISECONDS_IN_A_DAY=86400000\r\nconst MILLISECONDS_IN_A_WEEK=604800000\r\n\r\nexport default function Poll (props) {\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [poll, setPoll] = useState(props.poll);\r\n  const [sure, setSure] = useState(false);\r\n  const [group, setGroup] = useState(props.group);\r\n  const pollsuggestion = React.useRef('')\r\n\r\n  useEffect(() => {\r\n    fetch(\"/polls/getsuggestions/\"+props.poll._id)\r\n    .then(res => {\r\n      return res.json();\r\n    }).then(suggestions => {\r\n\r\n      setSuggestions(suggestions.data)})\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n    },[])\r\n\r\n\r\n\r\n    function sendPollDown(){\r\n\r\n\r\n      if(!poll.sentdown){\r\n        var pollcopy=JSON.parse(JSON.stringify(poll))\r\n\r\n        pollcopy.sentdown=true\r\n\r\n        setPoll(pollcopy)\r\n\r\n        let allmembers=[]\r\n        for (let g of group.groupsbelow){\r\n          allmembers.push(g.members)\r\n          for (let gr of g.groupsbelow){\r\n            allmembers.push(gr.members)\r\n          }}\r\n\r\n          const options = {\r\n            method: 'put',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(allmembers)\r\n          }\r\n\r\n\r\n\r\n          fetch(\"/polls/marksentdown/\" + poll._id, options\r\n        ).then(res => {\r\n          console.log(res)\r\n        }).catch(err => {\r\n          console.error(err);\r\n        })\r\n\r\n\r\n        let lowergroupids=[]\r\n        for (let grou of group.groupsbelow){\r\n\r\n          if(grou.groupsbelow){\r\n            lowergroupids.push(...grou.groupsbelow)\r\n          }\r\n          lowergroupids.push(grou._id)\r\n        }\r\n\r\n        for (let gr of lowergroupids){\r\n\r\n          fetch(\"/polls/sendpolldown/\" + poll._id +\"/\"+ gr, options\r\n        ).then(res => {\r\n          console.log(res)\r\n        }).catch(err => {\r\n          console.error(err);\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  function approveOfSendingPollDown(e,pollId){\r\n    var pollcopy=JSON.parse(JSON.stringify(poll))\r\n\r\n    let approval=0\r\n\r\n    if(!pollcopy.approval.includes(auth.isAuthenticated().user._id)){\r\n      pollcopy.approval.push(auth.isAuthenticated().user._id)\r\n    }\r\n\r\n    let votesfrommembers=[]\r\n    let memberids=group.members.map(item=>item._id)\r\n\r\n    for (let vote of pollcopy.approval){\r\n      if (memberids.includes(vote)){\r\n        votesfrommembers.push(vote)\r\n      }\r\n    }\r\n    pollcopy.approval=votesfrommembers\r\n\r\n    if(group.members.length>0){\r\n      approval=Math.round((pollcopy.approval.length/group.members.length)*100)\r\n    }\r\n\r\n    if (approval>75){\r\n      sendPollDown()\r\n    }\r\n    setPoll(pollcopy)\r\n    const options = {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: ''\r\n    }\r\n\r\n    fetch(\"/polls/approveofsendingpolldown/\" + pollId +\"/\"+ auth.isAuthenticated().user._id, options\r\n  ).then(res => {\r\n    console.log(res)\r\n  }).catch(err => {\r\n    console.error(err);\r\n  })\r\n}\r\n\r\nfunction withdrawApprovalOfSendingPollDown(e,pollId){\r\n  var pollcopy=JSON.parse(JSON.stringify(poll))\r\n\r\n  function checkPoll(userid) {\r\n    return userid!=auth.isAuthenticated().user._id\r\n  }\r\n\r\n  var filteredapproval=pollcopy.approval.filter(checkPoll)\r\n  pollcopy.approval=filteredapproval\r\n\r\n  setPoll(pollcopy)\r\n\r\n  const options = {\r\n    method: 'put',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: ''\r\n  }\r\n\r\n  fetch(\"/polls/withdrawapprovalofsendingpolldown/\" + pollId +\"/\"+ auth.isAuthenticated().user._id, options\r\n).then(res => {\r\n  console.log(res)\r\n}).catch(err => {\r\n  console.error(err);\r\n})\r\n}\r\n\r\n\r\nfunction handleSubmit(e){\r\n  e.preventDefault()\r\n  var d = new Date();\r\n  var n = d.getTime();\r\n  var pollSuggestionId=mongoose.Types.ObjectId()\r\n\r\n  let newPollSuggestion={\r\n    _id:pollSuggestionId,\r\n    suggestion:pollsuggestion.current.value,\r\n    pollid:props.poll._id,\r\n    timecreated:n,\r\n    approval:[auth.isAuthenticated().user._id],\r\n    createdby:auth.isAuthenticated().user._id\r\n  }\r\nlet newPollSuggestionToRender=JSON.parse(JSON.stringify(newPollSuggestion))\r\nnewPollSuggestionToRender.createdby=auth.isAuthenticated().user\r\n\r\n\r\n  var suggestionscopy=JSON.parse(JSON.stringify(suggestions))\r\n  suggestionscopy.reverse()\r\n  suggestionscopy.push(newPollSuggestionToRender)\r\n  suggestionscopy.reverse()\r\n\r\n  setSuggestions(suggestionscopy)\r\n\r\n  const options={\r\n    method: \"POST\",\r\n    body: JSON.stringify(newPollSuggestion),\r\n    headers: {\r\n      \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n\r\n      fetch(\"/polls/createpollsuggestion/\"+pollSuggestionId, options)\r\n      .then(response => response.json())\r\n      .then(json =>console.log(json))\r\n        .catch(err => {\r\n          console.error(err);\r\n        })\r\n      }\r\n\r\n\r\n      function deletePollSuggestion(e,item) {\r\n        var suggestionscopy=JSON.parse(JSON.stringify(suggestions))\r\n        var filteredarray =suggestionscopy.filter(function( obj ) {\r\n          return obj._id !== item._id;\r\n        });\r\n        setSuggestions(filteredarray);\r\n\r\n        const options={\r\n          method: \"Delete\",\r\n          body: '',\r\n          headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n\r\n            fetch(\"/polls/deletesuggestion/\"+item._id, options)\r\n            .then(response => response.json())\r\n            .then(json =>console.log(json))\r\n              .catch(err => {\r\n                console.error(err);\r\n              })\r\n            }\r\n\r\n\r\n            function approveofsuggestion(e,id){\r\n              console.log(id)\r\n              var suggestionscopy=JSON.parse(JSON.stringify(suggestions))\r\n              function checkSuggestion() {\r\n                return id!==auth.isAuthenticated().user._id\r\n              }\r\n              for (var suggestion of suggestionscopy){\r\n                let votesfrommembers=[]\r\n                let memberids=group.members.map(item=>item._id)\r\n\r\n                for (let vote of suggestion.approval){\r\n                  if (memberids.includes(vote)){\r\n                    votesfrommembers.push(vote)\r\n                  }\r\n                }\r\n                suggestion.approval=votesfrommembers\r\n\r\n                if (suggestion._id==id){\r\n                  if(!suggestion.approval.includes(auth.isAuthenticated().user._id)){\r\n                    suggestion.approval.push(auth.isAuthenticated().user._id)\r\n                  }\r\n                  setSuggestions(suggestionscopy)\r\n                }\r\n              }\r\n              if(suggestions.length>=3&&!props.poll.notificationsent){\r\n                props.sendPollNotification(props.poll)\r\n              }\r\n\r\n              setSuggestions(suggestionscopy)\r\n              const options = {\r\n                method: 'put',\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                },\r\n                body: ''\r\n              }\r\n\r\n              fetch(\"/polls/approveofsuggestion/\" + id +\"/\"+ auth.isAuthenticated().user._id, options\r\n            ).catch(err => {\r\n              console.error(err);\r\n            })\r\n          }\r\n\r\n\r\n          function withdrawapprovalofsuggestion(e,id){\r\n            console.log(id)\r\n            var suggestionscopy=JSON.parse(JSON.stringify(suggestions))\r\n            function checkSuggestion(userid) {\r\n              return userid!=auth.isAuthenticated().user._id\r\n            }\r\n            for (var suggestion of suggestionscopy){\r\n              if (suggestion._id==id){\r\n                var filteredapproval=suggestion.approval.filter(checkSuggestion)\r\n                suggestion.approval=filteredapproval\r\n              }\r\n            }\r\n            setSuggestions(suggestionscopy)\r\n\r\n            const options = {\r\n              method: 'put',\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              },\r\n              body: ''\r\n            }\r\n\r\n            fetch(\"/polls/withdrawapprovalofsuggestion/\" + id +\"/\"+ auth.isAuthenticated().user._id, options\r\n          ).catch(err => {\r\n            console.error(err);\r\n          })\r\n        }\r\n\r\n\r\n        function areYouSure(e,item){\r\n          console.log(item)\r\n            let suggestionscopy=JSON.parse(JSON.stringify(suggestions))\r\n            console.log(suggestionscopy)\r\n            for (let suggest of suggestionscopy){\r\n              if (suggest._id==item._id){\r\n                suggest.areyousure=true\r\n              }}\r\n              console.log(suggestionscopy)\r\n              setSuggestions(suggestionscopy)\r\n            }\r\n\r\n            function areYouNotSure(e,item){\r\n              console.log(item)\r\n              let suggestionscopy=JSON.parse(JSON.stringify(suggestions))\r\n                console.log(suggestionscopy)\r\n                for (let suggest of suggestionscopy){\r\n                  if (suggest._id==item._id){\r\n                    suggest.areyousure=false\r\n                  }}\r\n                  console.log(suggestionscopy)\r\n                  setSuggestions(suggestionscopy)\r\n                }\r\n\r\n                function areYouSur(e){\r\n                      setSure(true)\r\n                    }\r\n\r\n                    function areYouNotSur(e){\r\n                          setSure(false)\r\n                        }\r\n\r\n        let suggestionsmapped=<></>\r\n        if(suggestions&&props.users){\r\n\r\n          var d = new Date();\r\n          var n = d.getTime();\r\n\r\n\r\n          if(suggestions.length>=3&&!props.poll.notificationsent){\r\n\r\n            props.sendPollNotification(props.poll)\r\n          }\r\n\r\n          suggestionsmapped=suggestions.map(item=>{\r\n            let approval=<></>\r\n\r\n            let votesfrommembers=[]\r\n            let memberids=group.members.map(item=>item._id)\r\n\r\n            for (let vote of item.approval){\r\n              if (memberids.includes(vote)){\r\n                votesfrommembers.push(vote)\r\n              }\r\n            }\r\n            item.approval=votesfrommembers\r\n            approval=Math.round((item.approval.length/group.members.length)*100)\r\n\r\n\r\n            let approveenames=[]\r\n            for (let user of group.members){\r\n              for (let approvee of item.approval){\r\n                if (approvee==user._id){\r\n                  approveenames.push(user.name)\r\n                }\r\n              }\r\n            }\r\n\r\n            let width=`${(item.approval.length/props.users.length)*100}%`\r\n\r\n            return (<>\r\n              <div key={item._id} className=\"pollbox\">\r\n              <h5 className=\"ruletext\">{item.suggestion}, suggested by {item.createdby.name}, </h5>\r\n              <h5 className=\"ruletext\">{approval}% of members in this group approve this suggestion, {item.approval.length}/{group.members.length}</h5>\r\n              {group.groupabove&&<>\r\n              {(((item.createdby._id==auth.isAuthenticated().user._id)||group.groupabove.members.includes(auth.isAuthenticated().user._id))&&approval<75&&!item.areyousure)&&\r\n                <button className=\"ruletext deletebutton\" onClick={(e)=>areYouSure(e,item)}>Delete Suggestion?</button>}\r\n                {item.areyousure&&<button className=\"ruletext deletebutton\" onClick={(e)=>areYouNotSure(e,item)}>Not sure</button>}\r\n                {item.areyousure&&<button className=\"ruletext deletebutton\" onClick={(e)=>deletePollSuggestion(e,item)}>Are you sure?</button>}\r\n                </>}\r\n                {!item.approval.includes(auth.isAuthenticated().user._id)&&<button className=\"ruletext\" onClick={(e)=>approveofsuggestion(e,item._id)}>Approve this suggestion?</button>}\r\n                {item.approval.includes(auth.isAuthenticated().user._id)&&<button className=\"ruletext\" onClick={(e)=>withdrawapprovalofsuggestion(e,item._id)}>Withdraw Approval?</button>}\r\n                {approveenames&&approveenames.map((item,index)=>{return(<><h4 className=\"ruletext\">{item}{(index<(approveenames.length-2))?\", \":(index<(approveenames.length-1))?\" and \":\".\"}</h4></>)})}\r\n                <div className=\"percentagecontainer\"><div style={{width:width}} className=\"percentage\"></div></div>\r\n                {(poll&&group.level>poll.level)&&<p>This poll has been passed down by a higher group, all of it's children groups can vote on this question</p>}\r\n                </div>\r\n                </>)})\r\n              }\r\n              let approval=<></>\r\n              let votesfrommembers=[]\r\n              let memberids=group.members.map(item=>item._id)\r\n              var pollcopy=JSON.parse(JSON.stringify(poll))\r\n\r\n              for (let vote of pollcopy.approval){\r\n                if (memberids.includes(vote)){\r\n                  votesfrommembers.push(vote)\r\n                }\r\n              }\r\n              pollcopy.approval=votesfrommembers\r\n              if(group.members){\r\n                approval=Math.round((pollcopy.approval.length/group.members.length)*100)\r\n              }\r\n\r\n              let approveenames=[]\r\n              for (let user of group.members){\r\n                for (let approvee of pollcopy.approval){\r\n                  if (approvee==user._id){\r\n                    approveenames.push(user.name)\r\n                  }\r\n                }\r\n              }\r\n              let width=`${(pollcopy.approval.length/group.members.length)*100}%`\r\n\r\n              return (\r\n                <>\r\n                <div>\r\n                <div className=\"pollbox\">\r\n                <h3 className=\"ruletext\">{props.poll.pollquestion}  </h3>\r\n                {props.poll.createdby&&<>\r\n                  <h5 className=\"ruletext\">Poll Created By {props.poll.createdby.name}</h5>\r\n                  {group.groupabove&&<>\r\n                {(((props.poll.createdby._id==auth.isAuthenticated().user._id)||group.groupabove.members.includes(auth.isAuthenticated().user._id))&&!sure)&&\r\n                  <button className=\"ruletext deletebutton\" onClick={(e)=>areYouSur(e)}>Delete Poll?</button>}</>}\r\n                  {sure&&<button className=\"ruletext deletebutton\" onClick={(e)=>areYouNotSur(e)}>Not sure</button>}\r\n                  {sure&&<button className=\"ruletext deletebutton\" onClick={(e)=>props.deletePoll(e,props.poll)}>Are you sure?</button>}\r\n                  </>}\r\n                  <form>\r\n                  <div>\r\n                  <h5 className=\"ruletext\">Create Poll Suggestion</h5>\r\n                  <button className=\"pollsuggestionbutton\" className=\"ruletext\" onClick={(e) => handleSubmit(e)}>New Poll Suggestion?</button>\r\n                  <textarea style={{width:\"75vw\"}} ref={pollsuggestion} id=\"story\" rows=\"2\" />\r\n                  </div>\r\n                  </form>\r\n                  </div>\r\n                  <div>\r\n                  {suggestionsmapped}\r\n\r\n                  {(group.level==poll.level)&&<>\r\n                    <div className=\"pollbox\">\r\n                      {group.level>0&&<>\r\n                      <h5 className=\"ruletext\">Send Down?</h5>\r\n                      {(!poll.approval.includes(auth.isAuthenticated().user._id))&&<button onClick={(e)=>approveOfSendingPollDown(e,poll._id)}>Send poll down to children groups?</button>}\r\n                      {(poll.approval.includes(auth.isAuthenticated().user._id))&&<button onClick={(e)=>withdrawApprovalOfSendingPollDown(e,poll._id)}>Don't send poll down to children groups?</button>}\r\n                      {group.members&&<h4 className=\"ruletext\">{approval}% of members want to send this poll to lower groups, {poll.approval.length}/{group.members.length}. {poll.approval.length>0&&<h4 style={{display:'inline'}}>Approvees=</h4>}</h4>}\r\n                      {approveenames&&approveenames.map((item,index)=>{return(<><h4 className=\"ruletext\">{item}{(index<(approveenames.length-2))?\", \":(index<(approveenames.length-1))?\" and \":\".\"}</h4></>)})}\r\n                      <div className=\"percentagecontainer\"><div style={{width:width}} className=\"percentage\"></div></div></>}</div>\r\n                      </>}\r\n                      </div>\r\n                      </div>\r\n                      </>\r\n                    )\r\n                  }\r\n","import React, {useState, useEffect, useRef} from 'react'\r\nimport auth from './../auth/auth-helper'\r\nimport Comment from '../post/Comment'\r\nimport Poll from './Poll'\r\nimport io from \"socket.io-client\";\r\nconst mongoose = require(\"mongoose\");\r\nconst MILLISECONDS_IN_A_DAY=86400000\r\nconst MILLISECONDS_IN_A_WEEK=604800000\r\n\r\nexport default function Jury(props) {\r\n  const [viewForm, setViewForm] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(props.users[`${props.users.length-1}`]);\r\n  const [group, setGroup] = useState(props.group);\r\n  const [allGroups, setAllGroups] = useState([props.group])\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [restriction, setRestriction] = useState('cannot post');\r\n  const [uploadComplete, setUploadComplete] = useState(false);\r\n  const [isShown,setIsShown]=useState(false)\r\n  const [leaderCreatingRestriction,setLeaderCreatingRestriction]=useState(false)\r\n  const [explanation, setExplanation] = useState('');\r\n  const [duration, setDuration] = useState(0);\r\n  const [restrictionPolls, setRestrictionPolls] = useState([]);\r\n  const [comment, setComment] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [socket,setSocket] = useState(props.socket);\r\n  const [pageNum, setPageNum] = useState([]);\r\n  const [currentPageData, setCurrentPageData] = useState([]);\r\n  const pollquestion = React.useRef('')\r\n  // let server = \"http://localhost:5000\";\r\n  // let socket\r\n  // if(process.env.NODE_ENV==\"production\"){\r\n  //   socket=io();\r\n  // }\r\n  // if(process.env.NODE_ENV==\"development\"){\r\n  //   socket=io(server);\r\n  // }\r\n  useEffect(()=>{\r\n    setSocket(props.socket)\r\n    setGroup(props.group)\r\n    let allgroups=[]\r\n    if(props.group.groupsbelow){\r\n      allgroups.push(props.group._id)\r\n      for (let group of props.group.groupsbelow){\r\n        if(group._id){\r\n          allgroups.push(group._id)\r\n        }else{\r\n          allgroups.push(group)\r\n        }\r\n        if (group.groupsbelow){\r\n          for (let grou of group.groupsbelow){\r\n            if(grou._id){\r\n              allgroups.push(grou._id)\r\n            }else{\r\n              allgroups.push(grou)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    allgroups=allgroups.filter(group=>group)\r\n    allgroups=[...new Set(allgroups)]\r\n    console.log(\"allgroups\",allgroups)\r\n    setSelectedUser(props.users[`${props.users.length-1}`])\r\n    setAllGroups(allgroups)\r\n  },[props])\r\n\r\n  useEffect(() => {\r\n\r\n    fetch(\"/polls/getrestrictionpolls/\"+props.groupId)\r\n    .then(res => {\r\n      return res.json();\r\n    }).then(restrictionpolls => {\r\n\r\n      let po=restrictionpolls.data\r\n      po.reverse()\r\n      setRestrictionPolls(po)\r\n\r\n      let currentpage=po.slice(0,10)\r\n\r\n      setCurrentPageData(currentpage)\r\n      let pagenum=Math.ceil(restrictionpolls.data.length/10)\r\n\r\n      let pagenums=[]\r\n      while(pagenum>0){\r\n        pagenums.push(pagenum)\r\n        pagenum--\r\n      }\r\n      pagenums.reverse()\r\n\r\n      setPageNum(pagenums)\r\n    }).catch(err => {\r\n      console.error(err);\r\n    })\r\n  },[])\r\n\r\n\r\n  function decidePage(e,pagenum){\r\n\r\n    let currentpage=restrictionPolls.slice((pagenum*10-10),pagenum*10)\r\n\r\n    setPage(pagenum)\r\n    setCurrentPageData(currentpage)\r\n  }\r\n\r\n\r\n\r\n  async function leaderCreateRestriction(e){\r\n    setLeaderCreatingRestriction(true)\r\n    e.preventDefault()\r\n\r\n    var d = new Date();\r\n    var n = d.getTime();\r\n\r\n    let chatMessage=`created a restriction for ${selectedUser.name}`\r\n    let userId=auth.isAuthenticated().user._id\r\n    let userName=auth.isAuthenticated().user.name\r\n    let nowTime=n\r\n    let type=\"text\"\r\n    let groupTitle=group.title\r\n    let groupId=group._id\r\n\r\n\r\n    socket.emit(\"Input Chat Message\", {\r\n      chatMessage,\r\n      userId,\r\n      userName,\r\n      nowTime,\r\n      type,\r\n      groupId,\r\n      groupTitle});\r\n\r\n      let rest=[]\r\n\r\n      if(selectedUser.restrictions){\r\n        for (let r of selectedUser.restrictions){\r\n          let concatenated=`${r.restriction}${r.duration}`\r\n          rest.push(concatenated)\r\n        }\r\n      }\r\n      let currentrest=`${restriction}${duration}`\r\n\r\n\r\n      if(!rest.includes(currentrest)){\r\n\r\n\r\n        var d = new Date();\r\n        var n = d.getTime();\r\n\r\n        var restrictionId=mongoose.Types.ObjectId()\r\n        restrictionId=restrictionId.toString()\r\n        const newRestriction={\r\n          _id:restrictionId,\r\n          usertorestrict:selectedUser._id,\r\n          restriction:restriction,\r\n          createdby:auth.isAuthenticated().user._id,\r\n          explanation:explanation,\r\n          groupId:props.groupId,\r\n          groupIds:allGroups,\r\n          duration:duration,\r\n          timecreated:n\r\n        }\r\n\r\n        const options = {\r\n          method: 'post',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(newRestriction)\r\n        }\r\n\r\n        var restrictionid= await fetch(\"/groups/createuserrrestriction\", options\r\n      ).then(res => {\r\n        return res.json()\r\n      }).catch(err => {\r\n        console.error(err);\r\n      })\r\n\r\n      const optionstwo = {\r\n        method: 'put',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: ''\r\n      }\r\n\r\n      let updateduser=await fetch(\"/groups/addrestrictiontouser/\" + selectedUser._id +\"/\"+ restrictionid.data._id, optionstwo\r\n    ).then(res => {\r\n      return res.json()\r\n    }).catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n  setLeaderCreatingRestriction(false)\r\n  setUploadComplete(true)\r\n  setTimeout(() => {\r\n    setUploadComplete(false)\r\n  }, 5000)\r\n}\r\n\r\n\r\nfunction handleSubmit(e){\r\n  e.preventDefault()\r\n\r\n  var d = new Date();\r\n  var n = d.getTime();\r\n  var restrictionPollId=mongoose.Types.ObjectId()\r\n\r\n  const newRestrictionPoll={\r\n    _id:restrictionPollId,\r\n    usertorestrict: selectedUser._id,\r\n    usertorestrictname: selectedUser.name,\r\n    explanation:explanation,\r\n    groupId:props.groupId,\r\n    groupIds:allGroups,\r\n    restriction: restriction,\r\n    duration:duration,\r\n    approval: [auth.isAuthenticated().user._id],\r\n    timecreated:n,\r\n    createdby:auth.isAuthenticated().user._id\r\n  }\r\n\r\n  let newRestrictionPollToRender=JSON.parse(JSON.stringify(newRestrictionPoll))\r\n  newRestrictionPollToRender.usertorestrict=selectedUser\r\n\r\n  newRestrictionPollToRender.createdby=auth.isAuthenticated().user\r\n  let restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n  restrictionpollscopy.reverse()\r\n  restrictionpollscopy.push(newRestrictionPollToRender)\r\n  restrictionpollscopy.reverse()\r\n  setRestrictionPolls(restrictionpollscopy);\r\n  let current=restrictionpollscopy.slice((page*10-10),page*10)\r\n  setCurrentPageData(current)\r\n\r\n  const options={\r\n    method: \"POST\",\r\n    body: JSON.stringify(newRestrictionPoll),\r\n    headers: {\r\n      \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n      fetch(\"/polls/createrestrictionpoll/\"+restrictionPollId, options)\r\n      .then(response => response.json())\r\n      .then(json =>console.log(json))\r\n      .catch(err => {\r\n        console.error(err);\r\n      })\r\n    }\r\nfunction delRestPoll(e,item){\r\n  var restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n  var filteredarray = restrictionpollscopy.filter(function( obj ) {\r\n    return obj._id !== item._id;\r\n  });\r\n  setRestrictionPolls(filteredarray);\r\n\r\n  let current=filteredarray.slice((page*10-10),page*10)\r\n\r\n  setCurrentPageData(current)\r\n}\r\n\r\n    function deleteRestrictionPoll(e,item) {\r\n\r\n      deleteRestriction(item)\r\n      var restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n\r\n\r\n      var d = new Date();\r\n      var n = d.getTime();\r\n\r\n\r\n      let chatMessage=`deleted a restriction poll for ${item.usertorestrict.name} ${item.restriction} for ${item.duration} days`\r\n      let userId=auth.isAuthenticated().user._id\r\n      let userName=auth.isAuthenticated().user.name\r\n      let nowTime=n\r\n      let type=\"text\"\r\n      let groupTitle=group.title\r\n      let groupId=group._id\r\n\r\n      socket.emit(\"Input Chat Message\", {\r\n        chatMessage,\r\n        userId,\r\n        userName,\r\n        nowTime,\r\n        type,\r\n        groupId,\r\n        groupTitle});\r\n\r\n\r\n        const options={\r\n          method: \"Delete\",\r\n          body: '',\r\n          headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n\r\n            fetch(\"/polls/deleterestrictionpoll/\"+item._id, options)\r\n            .then(json =>console.log(json))\r\n            .catch(err => {\r\n              console.error(err);\r\n            })\r\n\r\n          }\r\n\r\n\r\n          async function deleteRestriction(item) {\r\n            let restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n            let chatMessage=`The restriction, ${item.restriction} for ${item.duration} days, has been deleted for ${item.usertorestrict.name}`\r\n            let userId=auth.isAuthenticated().user._id\r\n            let userName=auth.isAuthenticated().user.name\r\n            let nowTime=n\r\n            let type=\"text\"\r\n            let groupTitle=group.title\r\n            let groupId=group._id\r\n\r\n            socket.emit(\"Input Chat Message\", {\r\n              chatMessage,\r\n              userId,\r\n              userName,\r\n              nowTime,\r\n              type,\r\n              groupId,\r\n              groupTitle});\r\n\r\n\r\n              setRestrictionPolls(restrictionpollscopy)\r\n              let current=restrictionpollscopy.slice((page*10-10),page*10)\r\n\r\n              setCurrentPageData(current)\r\n\r\n              let userscopy=JSON.parse(JSON.stringify(props.users))\r\n\r\n\r\n              userscopy=userscopy.filter(user=>user.restriction)\r\n\r\n              let emails=userscopy.map(item=>{return item.email})\r\n\r\n              let notification={\r\n                emails:emails,\r\n                subject:\"Restriction Deleted\",\r\n                message:`The restriction ${item.restriction} for ${item.duration} in the group ${group.title} at level ${group.level}\r\n                has been deleted for ${item.usertorestrict.name}`\r\n              }\r\n\r\n              const options = {\r\n                method: 'post',\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(notification)\r\n              }\r\n\r\n              fetch(\"/groups/sendemailnotification\", options\r\n            ) .then(res => {\r\n              console.log(res)\r\n            }).catch(err => {\r\n              console.error(err);\r\n            })\r\n\r\n            const opt={\r\n              method: \"Delete\",\r\n              body: JSON.stringify(item),\r\n              headers: {\r\n                \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n                let rest=await fetch(\"/groups/deleterestriction\", opt)\r\n                .then(res=>res.json())\r\n                .then(json => {return json.data})\r\n                .catch(err => {\r\n                  console.error(err);\r\n                })\r\n                console.log(\"returned restriction\",rest)\r\n                if(rest){\r\n                  const opttwo={\r\n                    method: \"Put\",\r\n                    body: '',\r\n                    headers: {\r\n                      \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n                      await fetch(\"/groups/removerestrictionfromuser/\"+rest._id+\"/\"+item.usertorestrict._id, opttwo)\r\n                      .then(json =>{return json})\r\n                      .catch(err => {\r\n                        console.error(err);\r\n                      })\r\n                }\r\n                  }\r\n\r\n\r\n              function handleMemberChange(event){\r\n\r\n                for (let user of props.users){\r\n\r\n                  if(user._id===event.target.value){\r\n                    console.log(selectedUser)\r\n                    setSelectedUser(user)\r\n                    console.log(user)\r\n                  }\r\n                }\r\n              }\r\n\r\n              function handleRestrictionChange(event){\r\n\r\n                setRestriction(event.target.value)\r\n              }\r\n\r\n              function handleExplanationChange(event){\r\n\r\n                setExplanation(event.target.value)\r\n              }\r\n\r\n              function handleDurationChange(event){\r\n\r\n                setDuration(event.target.value)\r\n              }\r\n\r\n              function appr(e,item){\r\n                let restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n\r\n                for (let restriction of restrictionpollscopy){\r\n                  let votesfrommembers=[]\r\n                  let memberids=group.members.map(item=>item._id)\r\n\r\n                  for (let vote of restriction.approval){\r\n                    if (memberids.includes(vote)){\r\n                      votesfrommembers.push(vote)\r\n                    }\r\n                  }\r\n                  restriction.approval=votesfrommembers\r\n                    let approval\r\n                  if (restriction._id==item._id){\r\n\r\n                    if(!restriction.approval.includes(auth.isAuthenticated().user._id)){\r\n                      restriction.approval.push(auth.isAuthenticated().user._id)\r\n                    }\r\n                    approval=Math.round((restriction.approval.length/group.members.length)*100)\r\n\r\n                    console.log(\"appr restriction\",approval)\r\n\r\n                    setRestrictionPolls(restrictionpollscopy)\r\n                    let current=restrictionpollscopy.slice((page*10-10),page*10)\r\n                    setCurrentPageData(current)}}\r\n              }\r\n\r\n             function approve(e,item){\r\n                let restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n\r\n                for (let restriction of restrictionpollscopy){\r\n                  let votesfrommembers=[]\r\n                  let memberids=group.members.map(item=>item._id)\r\n\r\n                  for (let vote of restriction.approval){\r\n                    if (memberids.includes(vote)){\r\n                      votesfrommembers.push(vote)\r\n                    }\r\n                  }\r\n                  restriction.approval=votesfrommembers\r\n                    let approval\r\n                  if (restriction._id==item._id){\r\n                    if(!restriction.approval.includes(auth.isAuthenticated().user._id)){\r\n                      restriction.approval.push(auth.isAuthenticated().user._id)\r\n                    }\r\n\r\n                    approval=Math.round((restriction.approval.length/group.members.length)*100)\r\n\r\n                    let d = new Date();\r\n                    let n = d.getTime();\r\n\r\n\r\n                    console.log(\"approving restriction\",approval)\r\n\r\n                    if(approval>=10&&!restriction.notificationsent){\r\n                      sendRestrictionPollNotification(restriction)\r\n                    }\r\n                    if (approval<75&&(n-restriction.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n                      deleteRestrictionPoll(null,restriction)\r\n                    }\r\n                  }\r\n\r\n                  let restricteduser={}\r\n                  for (let user of props.users){\r\n\r\n                    if(user._id==restriction.usertorestrict._id){\r\n                      restricteduser=user\r\n\r\n                      let rest=[]\r\n                      if(restricteduser.restrictions){\r\n                        for (let r of restricteduser.restrictions){\r\n                          let concatenated=`${r.restriction}${r.duration}`\r\n                          rest.push(concatenated)\r\n                        }\r\n                      }\r\n                      let currentrest=`${restriction.restriction}${restriction.duration}`\r\n\r\n\r\n                      if(!rest.includes(currentrest)&&approval>75){\r\n                        sendRestrictionPollApprovedNotification(restriction)\r\n                        createRestriction()\r\n\r\n                        async function createRestriction(){\r\n                        var d = new Date();\r\n                        var n = d.getTime();\r\n\r\n                        let restrictionId=mongoose.Types.ObjectId()\r\n                        restrictionId=restrictionId.toString()\r\n                        const newRestriction={\r\n                          _id:restrictionId,\r\n                          usertorestrict:restriction.usertorestrict._id,\r\n                          restriction:restriction.restriction,\r\n                          explanation:restriction.explanation,\r\n                          groupIds:allGroups,\r\n                          duration:restriction.duration,\r\n                          timecreated:n\r\n                        }\r\n\r\n                        const options = {\r\n                          method: 'post',\r\n                          headers: {\r\n                            'Content-Type': 'application/json'\r\n                          },\r\n                          body: JSON.stringify(newRestriction)\r\n                        }\r\n\r\n                        let restrictionid= await fetch(\"/groups/createuserrrestriction\", options\r\n                      ).then(res => {\r\n                        return res.json()\r\n                      }).catch(err => {\r\n                        console.error(err);\r\n                      })\r\n\r\n                      const optionstwo = {\r\n                        method: 'put',\r\n                        headers: {\r\n                          'Content-Type': 'application/json'\r\n                        },\r\n                        body: ''\r\n                      }\r\n\r\n                      await fetch(\"/groups/addrestrictiontouser/\" + restriction.usertorestrict._id +\"/\"+ restrictionid.data._id, optionstwo\r\n                    ).then(res => {\r\n                      return res.json()\r\n                    }).catch(err => {\r\n                      console.error(err);\r\n                    })\r\n                  }\r\n                  }\r\n                }\r\n                }\r\n                          }\r\n\r\n            const options = {\r\n              method: 'put',\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              },\r\n              body: ''\r\n            }\r\n\r\n            fetch(\"/polls/approveofrestriction/\" + item._id +\"/\"+ auth.isAuthenticated().user._id, options\r\n          ).then(res => {\r\n            console.log(res)\r\n          }).catch(err => {\r\n            console.error(err);\r\n          })\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        function withdrawapproval(e,item){\r\n          let restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n          function checkRestriction(userid) {\r\n            return userid!=auth.isAuthenticated().user._id\r\n          }\r\n          for (let restriction of restrictionpollscopy){\r\n            let votesfrommembers=[]\r\n            let memberids=group.members.map(item=>item._id)\r\n\r\n            for (let vote of restriction.approval){\r\n              if (memberids.includes(vote)){\r\n                votesfrommembers.push(vote)\r\n              }\r\n            }\r\n            restriction.approval=votesfrommembers\r\n            if (restriction._id==item._id){\r\n\r\n              let filteredapproval=restriction.approval.filter(checkRestriction)\r\n              restriction.approval=filteredapproval\r\n            }\r\n            let d = new Date();\r\n            let n = d.getTime();\r\n\r\n            let approval=0\r\n\r\n            if(props.users){\r\n              approval=Math.round((restriction.approval.length/props.users.length)*100)\r\n            }\r\n\r\n            if (approval<75&&(n-restriction.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n              deleteRestrictionPoll(null,restriction)\r\n            }\r\n          }\r\n          setRestrictionPolls(restrictionpollscopy)\r\n          let current=restrictionpollscopy.slice((page*10-10),page*10)\r\n\r\n          setCurrentPageData(current)\r\n          const options = {\r\n            method: 'put',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: ''\r\n          }\r\n\r\n          fetch(\"/polls/withdrawapprovalofrestriction/\" + item._id +\"/\"+ auth.isAuthenticated().user._id, options\r\n        ).then(res => {\r\n          console.log(res)\r\n        }).catch(err => {\r\n          console.error(err);\r\n        })\r\n      }\r\n\r\n\r\n\r\n      function sendRestrictionPollNotification(item){\r\n        if(!item.notificationsent){\r\n          var restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n          for (let pol of restrictionpollscopy){\r\n            if (pol._id==item._id){\r\n              pol.notificationsent=true\r\n            }}\r\n\r\n            let chatMessage=`The restriction, ${item.restriction} for ${item.duration} days, has been suggested for ${selectedUser.name}`\r\n            let userId=auth.isAuthenticated().user._id\r\n            let userName=auth.isAuthenticated().user.name\r\n            let nowTime=n\r\n            let type=\"text\"\r\n            let groupTitle=group.title\r\n            let groupId=group._id\r\n\r\n            socket.emit(\"Input Chat Message\", {\r\n              chatMessage,\r\n              userId,\r\n              userName,\r\n              nowTime,\r\n              type,\r\n              groupId,\r\n              groupTitle});\r\n\r\n\r\n              setRestrictionPolls(restrictionpollscopy)\r\n              let current=restrictionpollscopy.slice((page*10-10),page*10)\r\n\r\n              setCurrentPageData(current)\r\n\r\n              let userscopy=JSON.parse(JSON.stringify(props.users))\r\n\r\n\r\n              userscopy=userscopy.filter(user=>user.restriction)\r\n\r\n              let emails=userscopy.map(item=>{return item.email})\r\n\r\n              let notification={\r\n                emails:emails,\r\n                subject:\"New Restriction Suggestion In Group Jury\",\r\n                message:`${item.createdby.name} suggested a restriction ${item.restriction} for ${item.usertorestrict.name} in the group ${group.title} at level ${group.level}`\r\n              }\r\n\r\n              const options = {\r\n                method: 'post',\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(notification)\r\n              }\r\n\r\n              fetch(\"/groups/sendemailnotification\", options\r\n            ) .then(res => {\r\n              console.log(res)\r\n            }).catch(err => {\r\n              console.error(err);\r\n            })\r\n\r\n            const optionstwo = {\r\n              method: 'put',\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              },\r\n              body: ''\r\n            }\r\n\r\n            fetch(\"/polls/restrictionnotificationsent/\"+item._id, optionstwo\r\n          ) .then(res => {\r\n            console.log(res)\r\n          }).catch(err => {\r\n            console.error(err);\r\n          })\r\n        }\r\n      }\r\n\r\n\r\n      function sendRestrictionPollApprovedNotification(item){\r\n\r\n        let restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n\r\n        if(!item.ratificationnotificationsent){\r\n          for (let pol of restrictionpollscopy){\r\n            if (pol._id==item._id){\r\n              pol.ratificationnotificationsent=true\r\n            }}\r\n\r\n            setRestrictionPolls(restrictionpollscopy)\r\n            let current=restrictionpollscopy.slice((page*10-10),page*10)\r\n\r\n            setCurrentPageData(current)\r\n\r\n            let userscopy=JSON.parse(JSON.stringify(props.users))\r\n\r\n            let chatMessage=`The restriction, ${item.restriction} for ${item.duration} days, has been approved for ${item.usertorestrict.name}`\r\n            let userId=auth.isAuthenticated().user._id\r\n            let userName=auth.isAuthenticated().user.name\r\n            let nowTime=n\r\n            let type=\"text\"\r\n            let groupTitle=group.title\r\n            let groupId=group._id\r\n\r\n            socket.emit(\"Input Chat Message\", {\r\n              chatMessage,\r\n              userId,\r\n              userName,\r\n              nowTime,\r\n              type,\r\n              groupId,\r\n              groupTitle});\r\n\r\n              userscopy=userscopy.filter(user=>user.restrictionsapproved)\r\n              let emails=userscopy.map(item=>{return item.email})\r\n\r\n              let notification={\r\n                emails:emails,\r\n                subject:\"A restriction has been approved by group jury\",\r\n                message:`The restriction, ${item.restriction} for ${item.duration} days, has been approved for ${item.usertorestrict.name}\r\n                in the group ${group.title} at level ${group.level}`\r\n              }\r\n\r\n              const options = {\r\n                method: 'post',\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(notification)\r\n              }\r\n\r\n              fetch(\"/groups/sendemailnotification\", options\r\n            ) .then(res => {\r\n              console.log(res)\r\n            }).catch(err => {\r\n              console.error(err);\r\n            })\r\n\r\n            const optionstwo = {\r\n              method: 'put',\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              },\r\n              body: ''\r\n            }\r\n\r\n            fetch(\"/polls/restrictionratificationnotificationsent/\"+item._id, optionstwo\r\n          ) .then(res => {\r\n            console.log(res)\r\n          }).catch(err => {\r\n            console.error(err);\r\n          })\r\n        }\r\n      }\r\n\r\n\r\n      function areYouSure(e,item){\r\n        console.log(item)\r\n        let restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n        console.log(restrictionpollscopy)\r\n        for (let poll of restrictionpollscopy){\r\n          if (poll._id==item._id){\r\n            poll.areyousure=true\r\n          }}\r\n          console.log(restrictionpollscopy)\r\n          let current=restrictionpollscopy.slice((page*10-10),page*10)\r\n          setRestrictionPolls(restrictionpollscopy)\r\n          setCurrentPageData(current)\r\n        }\r\n\r\n        function areYouNotSure(e,item){\r\n          console.log(item)\r\n          let restrictionpollscopy=JSON.parse(JSON.stringify(restrictionPolls))\r\n          console.log(restrictionpollscopy)\r\n          for (let poll of restrictionpollscopy){\r\n            if (poll._id==item._id){\r\n              poll.areyousure=false\r\n            }}\r\n            console.log(restrictionpollscopy)\r\n            let current=restrictionpollscopy.slice((page*10-10),page*10)\r\n            setRestrictionPolls(restrictionpollscopy)\r\n            setCurrentPageData(current)\r\n          }\r\n\r\n          function searchMembers(e){\r\n            setSearchTerm(e.target.value)\r\n          }\r\n\r\n      var d = new Date();\r\n      var n = d.getTime();\r\n\r\n      var restrictionpollsmapped=currentPageData.map((item,i)=>{\r\n        let approval=<></>\r\n        let votesfrommembers=[]\r\n        let memberids=group.members.map(item=>item._id)\r\n\r\n        for (let vote of item.approval){\r\n          if (memberids.includes(vote)){\r\n            votesfrommembers.push(vote)\r\n          }\r\n        }\r\n        item.approval=votesfrommembers\r\n\r\n        if(props.users){\r\n          approval=Math.round((item.approval.length/props.users.length)*100)\r\n        }\r\n\r\n        let approveenames=[]\r\n        for (let user of props.users){\r\n          for (let approvee of item.approval){\r\n            if (approvee==user._id){\r\n              approveenames.push(user.name)\r\n            }\r\n          }\r\n        }\r\n        let width=`${(item.approval.length/props.users.length)*100}%`\r\n        if (approval<75&&(n-item.timecreated)>MILLISECONDS_IN_A_WEEK){\r\n          deleteRestrictionPoll(null,item)\r\n        }\r\n\r\n        return (\r\n          <>\r\n          <div key={item._id} className=\"postbox\">\r\n          <div className=\"juryboxform\">\r\n          <h4 className=\"ruletext\"><strong>Restriction:</strong> {item.restriction} for {item.duration} days, </h4>\r\n          <h4 className=\"ruletext\"><strong>User to Restrict:</strong> {item.usertorestrictname} ,</h4>\r\n          <h4 className=\"ruletext\"><strong>Created By:</strong> {item.createdby.name} ,</h4>\r\n          {props.users&&<h4 className=\"ruletext\">{approval}% of members approve this restriction, {item.approval.length}/{props.users.length}</h4>}\r\n          {(item.approval.length>0)&&<h4 className=\"ruletext\">, approvees=</h4>}\r\n          {approveenames&&approveenames.map((item,index)=>{return(<h4 className=\"ruletext\"> {item}{(index<(approveenames.length-2))?\", \":(index<(approveenames.length-1))?\" and \":\".\"}</h4>)})}\r\n          {!item.approval.includes(auth.isAuthenticated().user._id)&&<button style={{margin:\"0.5vw\"}} className=\"ruletext\" onClick={(e)=>{approve(e,item);appr(e,item);}}>Approve?</button>}\r\n          {item.approval.includes(auth.isAuthenticated().user._id)&&<button style={{margin:\"0.5vw\"}} className=\"ruletext\" onClick={(e)=>withdrawapproval(e,item)}>Withdraw Approval?</button>}\r\n          {group.groupabove&&<>\r\n            {(((item.createdby&&(item.createdby._id==auth.isAuthenticated().user._id))||group.groupabove.members.includes(auth.isAuthenticated().user._id))&&!item.areyousure)&&\r\n              <button className=\"ruletext deletebutton\" onClick={(e)=>areYouSure(e,item)}>Delete Restriction Poll?</button>}\r\n            </>}\r\n            {item.areyousure&&<button className=\"ruletext deletebutton\" onClick={(e)=>areYouNotSure(e,item)}>Not sure</button>}\r\n            {item.areyousure&&<button className=\"ruletext deletebutton\" onClick={(e)=>{deleteRestrictionPoll(e,item);delRestPoll(e,item);}}>Are you sure?</button>}\r\n            <h4 style={{margin:\"0vw\",marginBottom:\"0.5vw\"}}><strong>Explanation:</strong> {item.explanation} </h4>\r\n            <div className=\"percentagecontainer\"><div style={{width:width}} className=\"percentage\"></div></div>\r\n            </div>\r\n            <Comment id={item._id}/>\r\n            </div>\r\n            </>\r\n          )})\r\n\r\n          let allusers=[]\r\n          if(group.level>0){\r\n            for (let grou of group.groupsbelow){\r\n              if(grou.members){\r\n                allusers.push(...grou.members)\r\n              }\r\n              if(grou.groupsbelow){\r\n                for (let gr of grou.groupsbelow){\r\n                  if (gr.members){\r\n                    allusers.push(...gr.members)\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }else{\r\n\r\n            allusers.push(...group.members)\r\n          }\r\n          let alluserscopy=JSON.parse(JSON.stringify(allusers))\r\n          let usernames=[]\r\n          allusers=[]\r\n          for (let user of alluserscopy){\r\n            if (!usernames.includes(user.name)){\r\n              usernames.push(user.name)\r\n              allusers.push(user)\r\n            }\r\n          }\r\n          if (searchTerm){\r\n            allusers=allusers.filter(user=>user.name.toLowerCase().includes(searchTerm.toLowerCase()))\r\n          }\r\n          console.log(\"all users\",allusers)\r\n\r\n          let inthisgroup=group.members.map(item=>item._id)\r\n          inthisgroup=inthisgroup.includes(auth.isAuthenticated().user._id)\r\n          console.log(\"props.users[0]\",props.users,props.users[`${props.users.length-1}`])\r\n          return (\r\n            <>\r\n            <div style={{marginBottom:\"20vw\"}}>\r\n            {inthisgroup&&<><button style={{display:\"block\"}} onClick={(e) => setViewForm(!viewForm)}>View Restriction Poll Form?</button>\r\n            <div className=\"juryform\" style={{maxHeight:!viewForm?\"0\":\"300vw\",overflow:\"hidden\",transition:\"max-height 2s\"}}>\r\n            <form>\r\n            <div className=\"eventformbox\" >\r\n            <h3>Propose a punishment for a member</h3>\r\n            </div>\r\n            <div className=\"eventformbox\">\r\n            {(group.level>1)&&<><input style={{width:\"30vw\",margin:'1vw'}} type='text' onChange={(e) => searchMembers(e)}/>\r\n            <p htmlFor=\"duration\">Search for users then select from the drop down menu below</p></>}\r\n            <select name=\"room\" id=\"room\" onChange={(e) => handleMemberChange(e)}>\r\n            {allusers&&allusers.map(item=>{return (\r\n              <option key={item._id} value={item._id}>{item.name}</option>\r\n            )})}\r\n            </select>\r\n            <p htmlFor=\"room\"> Members</p>\r\n            </div>\r\n            <div className=\"eventformbox\">\r\n            <select id=\"restriction\" onChange={(e) => handleRestrictionChange(e)}>\r\n            <option value=\"cannot post\">cannot post</option>\r\n            <option value=\"cannot create polls\">cannot create polls</option>\r\n            <option value=\"cannot suggest rules or vote for rules\">cannot suggest rules or vote for rules</option>\r\n            <option value=\"cannot use chat\">cannot use chat</option>\r\n            <option value=\"cannot vote for leaders\">cannot vote for leaders</option>\r\n            <option value=\"cannot see events\">cannot see events</option>\r\n            <option value=\"cannot vote in jury\">cannot vote in jury</option>\r\n            <option value=\"remove from group\">remove from group</option>\r\n            </select>\r\n            <p htmlFor=\"room\"> Choose a punishment</p>\r\n\r\n            </div>\r\n            <div className=\"eventformbox\">\r\n            <input type='text' name='duration' id='duration' onChange={(e) => handleDurationChange(e)}/>\r\n            <p htmlFor=\"duration\"> How many days?</p>\r\n            </div>\r\n            <div className=\"eventformbox\">\r\n            <input type='text' name='explanation' id='explanation' onChange={(e) => handleExplanationChange(e)}/>\r\n            <p htmlFor=\"room\"> Explanation</p>\r\n\r\n            <div className=\"restrictionexplanation\">\r\n            <p style={{display:\"block\"}} htmlFor=\"duration\">\r\n            Explain why you think this restriction should be imposed? Which rule or rules have been broken?\r\n            What is your evidence? Why do you think this punishment is proportionate to the crime? Avoid\r\n            enforcing rules that have not been agreed on and made explicit in the group rules tab. People\r\n            will not follow a rule if they don't even know it exists. A rule might seem like common sense\r\n            to you, but to someone of a different background, culture, nationality, religion or ethnicity,\r\n            it might not.\r\n            </p>\r\n            </div>\r\n            </div>\r\n            <button className=\"formsubmitbutton\" style={{margin:\"0.5vw\"}} onClick={(e) => handleSubmit(e)}>New Restriction Poll</button>\r\n            {group.groupabove&&<>\r\n              {group.groupabove.members.includes(auth.isAuthenticated().user._id)&&\r\n                <div style={{margin:\"0.5vw\",display:\"inline\"}}>\r\n                {!leaderCreatingRestriction&&<button style={{margin:\"0.5vw\",display:\"inline\"}} onClick={(e) => leaderCreateRestriction(e)}>Create Restriction Immediately</button>}\r\n                {leaderCreatingRestriction&&<h3 style={{margin:\"0.5vw\",display:\"inline\"}}>Uploading Restriction!!!</h3>}\r\n                {uploadComplete&&<h2 style={{margin:\"0.5vw\",display:\"inline\"}}>Upload Complete</h2>}\r\n                <p style={{margin:\"0.5vw\"}}>You are an group leader, you can create restrictions to enforce the rules. However, unless you are dealing with\r\n                a very serious issue and speed is vital, it is probably better to just propose a restriction poll for the jury to decide on. If you change your\r\n                mind about this punishment, you can visit the users profile by clicking on the button with their name at the top of the group page. If the user has\r\n                any restrictions they will be visible here and you can delete ones you have created</p>\r\n                </div>}\r\n              </>}\r\n              <p style={{margin:\"0.5vw\"}}>Restriction polls are activated at 75% approval. They can be deleted before their\r\n              duration has ended if the creator or a leader deletes them. Restrictions are also deleted if they are more\r\n              than a week old and they have less than 75% approval</p>\r\n              </form>\r\n              </div></>}\r\n\r\n\r\n\r\n              {pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\r\n              {(pageNum.length>1&&pageNum&&restrictionPolls)&&pageNum.map((item,index)=>{\r\n                return (<>\r\n                  <button style={{display:\"inline\",opacity:(index+1==page)?\"0.5\":\"1\"}} onClick={(e) => decidePage(e,item)}>{item}</button>\r\n                  </>)\r\n                })}\r\n                {restrictionpollsmapped}\r\n                <p style={{display:isShown?\"block\":\"none\"}}>\r\n                If you punish too severely, you are getting revenge.\r\n                You are also trying to assert dominance and control, you become the bad guy. The best kind of revenge is to succeed and prosper without\r\n                the need to dominate and control others. Revenge leads to a pointless race to the bottom of people just trying to destroy each other.\r\n                The only lesson that revenge teaches people is that might makes right, revenge can ony encourage more unethical behaviour, or destroy\r\n                the spirit and confidence of the person it is inflicted onto.\r\n\r\n                We live in a very unfair world and this puts huge pressure on people to behave in immoral ways. This makes us wonder that if we don't\r\n                dominate others, they might end up dominating us. Try to take this into account when imposing restrictions on rule breakers. Try\r\n                your best to explain the rules and to not make prejudiced judgments about people. Maybe they have just been surrounded by\r\n                untrustworthy domineering people their whole lives,  making it very difficult for them to choose to behave ethically. It is\r\n                much easier to behave in a moral way if you are surrounded by trustworthy people and you know they will reciprocate and follow\r\n                the golden rule of \"treat others how you would like to be treated\" with you. People's lives are very complicated and our personal\r\n                circumstances, advantages and disadvantages, vary hugely.\r\n                People are much more likey to agree to follow a rule if they understand and agree with it and if the rules are enforced\r\n                in the spirit that nobody is perfect.\r\n                </p>\r\n                {pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\r\n                {(pageNum.length>1&&pageNum&&restrictionPolls)&&pageNum.map((item,index)=>{\r\n                  return (<>\r\n                    <button style={{display:\"inline\",opacity:(index+1==page)?\"0.5\":\"1\"}} onClick={(e) => decidePage(e,item)}>{item}</button>\r\n                    </>)\r\n                  })}\r\n                  </div>\r\n                  </>\r\n                )\r\n              }\r\n","import React, {useState, useEffect, useRef} from 'react'\r\nimport auth from './../auth/auth-helper'\r\nimport Comment from '../post/Comment'\r\nimport Poll from './Poll'\r\nimport io from \"socket.io-client\";\r\nconst mongoose = require(\"mongoose\");\r\nconst MILLISECONDS_IN_A_DAY=86400000\r\nconst MILLISECONDS_IN_A_WEEK=604800000\r\n\r\nexport default function Polls (props) {\r\n  const [viewForm, setViewForm] = useState(false);\r\n  const [admin, setAdmin] = useState(false);\r\n  const [polls, setPolls] = useState([]);\r\n  const [socket,setSocket] = useState([]);\r\n  const [group, setGroup] = useState(props.group);\r\n  const [poll, setPoll] = useState(\"\");\r\n  const [comment, setComment] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [pageNum, setPageNum] = useState([]);\r\n  const [currentPageData, setCurrentPageData] = useState([]);\r\n  const pollquestion = React.useRef('')\r\n\r\n  // let server = \"http://localhost:5000\";\r\n  // let socket\r\n  // if(process.env.NODE_ENV==\"production\"){\r\n  //   socket=io();\r\n  // }\r\n  // if(process.env.NODE_ENV==\"development\"){\r\n  //   socket=io(server);\r\n  // }\r\n\r\n  useEffect(()=>{\r\n    if(props.group.groupabove){\r\n      if (props.group.groupabove.members.includes(auth.isAuthenticated().user._id)){\r\n        setAdmin(true)\r\n      }\r\n    }\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    setSocket(props.socket)\r\n    if(props.group.groupabove){\r\n      if (props.group.groupabove.members.includes(auth.isAuthenticated().user._id)){\r\n        setAdmin(true)\r\n      }\r\n    }\r\n    setGroup(props.group)\r\n\r\n    fetch(\"/polls/getpolls/\"+props.groupId)\r\n    .then(res => {\r\n      return res.json();\r\n    }).then(polls => {\r\n\r\n      let po=polls.data\r\n      po.reverse()\r\n      setPolls(po)\r\n\r\n      let currentpage=po.slice(0,10)\r\n\r\n      setCurrentPageData(currentpage)\r\n\r\n      let pagenum=Math.ceil(polls.data.length/10)\r\n\r\n      let pagenums=[]\r\n      while(pagenum>0){\r\n        pagenums.push(pagenum)\r\n        pagenum--\r\n      }\r\n      pagenums.reverse()\r\n\r\n      setPageNum(pagenums)\r\n    })\r\n  },[props])\r\n\r\n\r\n\r\n  function decidePage(e,pagenum){\r\n\r\n\r\n    let currentpage=polls.slice((pagenum*10-10),pagenum*10)\r\n\r\n    setPage(pagenum)\r\n    setCurrentPageData(currentpage)\r\n  }\r\n\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault()\r\n    var d = new Date();\r\n    var n = d.getTime();\r\n    var pollId=mongoose.Types.ObjectId()\r\n\r\n    const newPoll={\r\n      _id:pollId,\r\n      pollquestion:pollquestion.current.value,\r\n      approval:[],\r\n      level:group.level,\r\n      groupIds:[group._id],\r\n      suggestions:[],\r\n      timecreated:n,\r\n      createdby:auth.isAuthenticated().user._id\r\n    }\r\n\r\n    const newPollToRender=JSON.parse(JSON.stringify(newPoll))\r\n    newPollToRender.createdby=auth.isAuthenticated().user\r\n\r\n\r\n\r\n    var d = new Date();\r\n    var n = d.getTime();\r\n\r\n\r\n    let chatMessage=`created a poll called ${pollquestion.current.value}`\r\n    let userId=auth.isAuthenticated().user._id\r\n    let userName=auth.isAuthenticated().user.name\r\n    let nowTime=n\r\n    let type=\"text\"\r\n    let groupId=group._id\r\n    let groupTitle=group.title\r\n\r\n    socket.emit(\"Input Chat Message\", {\r\n      chatMessage,\r\n      userId,\r\n      userName,\r\n      nowTime,\r\n      type,\r\n      groupId,\r\n      groupTitle});\r\n\r\n      var pollscopy=JSON.parse(JSON.stringify(polls))\r\n      pollscopy.reverse()\r\n      pollscopy.push(newPollToRender)\r\n      pollscopy.reverse()\r\n      setPolls(pollscopy)\r\n\r\n      let current=pollscopy.slice((page*10-10),page*10)\r\n      setCurrentPageData(current)\r\n\r\n      const options={\r\n        method: \"POST\",\r\n        body: JSON.stringify(newPoll),\r\n        headers: {\r\n          \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n\r\n          fetch(\"/polls/createpoll/\"+pollId, options)\r\n          .then(response => response.json())\r\n          .then(json =>console.log(json))\r\n            .catch(err => {\r\n              console.error(err);\r\n            })\r\n\r\n          }\r\n\r\n\r\n          function deletePoll(e,item) {\r\n            console.log(item)\r\n            var pollscopy=JSON.parse(JSON.stringify(polls))\r\n            var filteredarray = pollscopy.filter(function( obj ) {\r\n              return obj._id !== item._id;\r\n            });\r\n            setPolls(filteredarray);\r\n\r\n            let current=filteredarray.slice((page*10-10),page*10)\r\n            setCurrentPageData(current)\r\n\r\n            var d = new Date();\r\n            var n = d.getTime();\r\n\r\n            let chatMessage=`deleted a poll called ${item.pollquestion}`\r\n            let userId=auth.isAuthenticated().user._id\r\n            let userName=auth.isAuthenticated().user.name\r\n            let nowTime=n\r\n            let type=\"text\"\r\n            let groupId=group._id\r\n            let groupTitle=group.title\r\n\r\n            socket.emit(\"Input Chat Message\", {\r\n              chatMessage,\r\n              userId,\r\n              userName,\r\n              nowTime,\r\n              type,\r\n              groupId,\r\n              groupTitle});\r\n\r\n              let userscopy=JSON.parse(JSON.stringify(group.members))\r\n              userscopy=userscopy.filter(item=>item.polls)\r\n              let emails=userscopy.map(item=>{return item.email})\r\n                  let notification={\r\n                    emails:emails,\r\n                    subject:\"Poll Deleted\",\r\n                    message:`The poll called ${item.pollquestion} has been deleted in the group called\r\n                    ${group.title} at level ${group.level}.`\r\n                  }\r\n\r\n                  const opt = {\r\n                    method: 'post',\r\n                    headers: {\r\n                      'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify(notification)\r\n                  }\r\n\r\n                  fetch(\"/groups/sendemailnotification\", opt\r\n                ) .then(res => {\r\n                  console.log(res)\r\n                }).catch(err => {\r\n                  console.error(err);\r\n                })\r\n\r\n              const options={\r\n                method: \"Delete\",\r\n                body: '',\r\n                headers: {\r\n                  \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n\r\n                  fetch(\"/polls/deletepoll/\"+item._id, options)\r\n                  .then(response => response.json())\r\n                  .then(json =>console.log(json))\r\n                    .catch(err => {\r\n                      console.error(err);\r\n                    })\r\n\r\n                  }\r\n\r\n\r\n\r\n\r\n                  function sendPollEmailNotification(item){\r\n\r\n                    let pollscopy=JSON.parse(JSON.stringify(polls))\r\n                    for (let pol of pollscopy){\r\n                      if(pol._id==item._id){\r\n                        pol.notificationsent=true\r\n                      }\r\n                    }\r\n\r\n                    setPolls(pollscopy)\r\n                    let current=pollscopy.slice((page*10-10),page*10)\r\n\r\n                    setCurrentPageData(current)\r\n\r\n                    if(!item.notificationsent){\r\n\r\n                      let userscopy=JSON.parse(JSON.stringify(props.users))\r\n                      userscopy=userscopy.filter(user=>user.polls)\r\n                      let emails=userscopy.map(item=>{return item.email})\r\n\r\n                      let notification={\r\n                        emails:emails,\r\n                        subject:\"New Poll\",\r\n                        message:`In the group called ${group.title} at level ${group.level}, ${item.createdby.name} created the poll: ${item.pollquestion}`\r\n                      }\r\n\r\n                      const options = {\r\n                        method: 'post',\r\n                        headers: {\r\n                          'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify(notification)\r\n                      }\r\n\r\n                      fetch(\"/groups/sendemailnotification\", options\r\n                    ) .then(res => {\r\n                      console.log(res)\r\n                    }).catch(err => {\r\n                      console.error(err);\r\n                    })\r\n\r\n                    const optionstwo = {\r\n                      method: 'put',\r\n                      headers: {\r\n                        'Content-Type': 'application/json'\r\n                      },\r\n                      body: ''\r\n                    }\r\n\r\n                    fetch(\"/polls/notificationsent/\"+item._id, optionstwo\r\n                  ) .then(res => {\r\n                    console.log(res)\r\n                  }).catch(err => {\r\n                    console.error(err);\r\n                  })\r\n                }\r\n              }\r\n\r\n                      function areYouSure(e,item){\r\n                        console.log(item)\r\n                          let pollscopy=JSON.parse(JSON.stringify(polls))\r\n                          console.log(pollscopy)\r\n                          for (let poll of pollscopy){\r\n                            if (poll._id===poll._id){\r\n                              poll.areyousure=true\r\n                            }}\r\n                            console.log(pollscopy)\r\n                            let current=pollscopy.slice((page*10-10),page*10)\r\n                            setPolls(pollscopy)\r\n                            setCurrentPageData(current)\r\n                          }\r\n\r\n                          function areYouNotSure(e,item){\r\n                            console.log(item)\r\n                              let pollscopy=JSON.parse(JSON.stringify(polls))\r\n                              console.log(pollscopy)\r\n                              for (let poll of pollscopy){\r\n                                if (poll._id===item._id){\r\n                                  poll.areyousure=false\r\n                                }}\r\n                                console.log(pollscopy)\r\n                                let current=pollscopy.slice((page*10-10),page*10)\r\n                                setPolls(pollscopy)\r\n                                setCurrentPageData(current)\r\n                              }\r\n\r\n\r\n              var pollsmapped=currentPageData.map((item,i)=>{\r\n\r\n                return (\r\n                  <>\r\n                  <div key={item._id} className=\"postbox\">\r\n                  <Poll poll={item} key={item._id} users={props.users} deletePoll={deletePoll} sendPollNotification={sendPollEmailNotification} group={group}/>\r\n                  <Comment id={item._id}/>\r\n                  </div>\r\n                  </>\r\n                )})\r\n                let inthisgroup=group.members.map(item=>item._id)\r\n                inthisgroup=inthisgroup.includes(auth.isAuthenticated().user._id)\r\n                return (\r\n                  <>\r\n                  <div style={{marginBottom:\"20vw\"}}>\r\n                  {inthisgroup&&<><button className=\"formbutton\" style={{display:\"block\"}} onClick={(e) => setViewForm(!viewForm)}>View Create Poll Form?</button>\r\n                  <div className=\"form\" style={{maxHeight:!viewForm?\"0\":\"100vw\",overflow:\"hidden\",transition:\"max-height 2s\"}}>\r\n                  <form style={{display:!viewForm?\"none\":\"block\"}}>\r\n                  <div className=\"pollform\">\r\n                  <label htmlFor='name'>Create Poll, write a question then suggest possible answers</label>\r\n                  <button className=\"formsubmitbutton\" onClick={(e) => handleSubmit(e)}>New Poll?</button>\r\n                  </div>\r\n                  <textarea className=\"posttextarea\" ref={pollquestion} id=\"story\" rows=\"5\"/>\r\n                  </form>\r\n                  </div></>}\r\n\r\n                  {pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\r\n                  {(pageNum.length>1&&pageNum&&polls)&&pageNum.map((item,index)=>{\r\n                    return (<>\r\n                      <button style={{display:\"inline\",opacity:(index+1==page)?\"0.5\":\"1\"}} onClick={(e) => decidePage(e,item)}>{item}</button>\r\n                      </>)\r\n                    })}\r\n                    {pollsmapped}\r\n                    {pageNum.length>1&&<h4 style={{display:\"inline\"}}>Choose Page</h4>}\r\n                    {(pageNum.length>1&&pageNum&&polls)&&pageNum.map((item,index)=>{\r\n                      return (<>\r\n                        <button style={{display:\"inline\",opacity:(index+1==page)?\"0.5\":\"1\"}} onClick={(e) => decidePage(e,item)}>{item}</button>\r\n                        </>)\r\n                      })}\r\n                      </div>\r\n                      </>\r\n                    )\r\n                  }\r\n","import React, { Component } from 'react';\r\nimport auth from './../auth/auth-helper'\r\nimport { MapContainer, TileLayer,Circle, Marker, Popup} from 'react-leaflet'\r\nimport {Link,BrowserRouter} from \"react-router-dom\";\r\nimport {Image} from 'cloudinary-react'\r\n\r\n\r\n\r\nclass GroupDetails extends Component {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      group:props.group\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.group !== this.props.group) {\r\n      this.setState({\r\n        group:nextProps.group\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  render(){\r\n\r\n\r\n    return (\r\n      <React.Fragment>\r\n      <div className=\"details\">\r\n      <div className=\"detailscol1\">\r\n      <h2>Group Details</h2>\r\n      {this.state.group.title&&<p><strong>Group Title: </strong> {this.state.group.title}</p>}\r\n      {this.state.group.location&&<p><strong>Location: </strong> {this.state.group.location}</p>}\r\n      <p><strong>Level: </strong> {this.state.group.level}</p>\r\n      {this.state.group.description&&<p><strong>Description: </strong> {this.state.group.description}</p>}\r\n      {this.state.group.groupabove&&<p><strong>Group Above: </strong></p>}\r\n      {this.state.group.groupabove&&\r\n        <><BrowserRouter style={{display:\"inline\"}} forceRefresh={true}><Link className=\"gotogroup\" exact to={\"/groups/\" + this.state.group.groupabove._id}><button style={{color:\"white\",padding:\"0.5vw\"}}>{this.state.group.groupabove.title}</button></Link></BrowserRouter></>}\r\n        {(this.state.group.groupsbelow&&(this.state.group.level>0))&&<p><strong>Groups Below: </strong></p>}\r\n\r\n        {(this.state.group.groupsbelow&&(this.state.group.level>0))&&this.state.group.groupsbelow.map((item,index)=>\r\n          {return <BrowserRouter forceRefresh={true} style={{display:\"inline\"}}><Link className=\"gotogroup\" exact to={\"/groups/\" + item._id}><button><p style={{color:\"white\",display:\"inline\"}}>{item.title}</p></button></Link></BrowserRouter>})}\r\n          {(this.state.group.centroid&&this.state.group.groupsbelow&&this.state.group.type==\"localgroup\")&&<p style={{color:\"white\"}}>All the small circles on the map roughly show the spread of members of this whole group. The different colours\r\n          represent each of the groups that are children of this group. The small spots do not actually show the locations\r\n          of members but approximately show the area covered by each group.</p>}\r\n          </div>\r\n          <br/>\r\n          <div className=\"detailscol2\">\r\n          {(this.state.group.images&&this.state.group.images.length>0)&&<Image className=\"detailsimg\"\r\n          cloudName=\"julianbullmagic\" publicId={this.state.group.images[0]} />}\r\n          </div>\r\n          </div>\r\n          </React.Fragment>\r\n        );\r\n      }\r\n    }\r\n\r\n    export default GroupDetails;\r\n","import React, { Component } from 'react';\nimport {Link} from \"react-router-dom\";\nimport auth from './../auth/auth-helper'\nimport Newsfeed from './../post/Newsfeed'\nimport Events from './Events'\nimport Leaders from './Leaders'\nimport Rules from './Rules'\nimport Jury from './Jury'\nimport Polls from './Polls'\nimport GroupDetails from './GroupDetails'\nimport ChatPage from \"./../ChatPage/ChatPage\"\nimport Kmeans from 'node-kmeans';\nimport {Image} from 'cloudinary-react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\nimport io from \"socket.io-client\";\nimport {Redirect} from 'react-router-dom'\nconst mongoose = require(\"mongoose\");\n\n\nclass GroupPage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading:false,\n      location:\"\",\n      centroid:\"\",\n      title:\"\",\n      allmembers:[],\n      allgroupsbelow:[],\n      error:'',\n      higherlevelgroup:'',\n      newLowerGroupIds:[],\n      id:'',\n      inthisgroup:false,\n      members:[],\n      level:0,\n      group:{},\n      users:[],\n      associatedlocalgroups:[],\n      redirect: false,\n      updating:false,\n      cannotpost:false,\n      cannotusechat:false,\n      cannotseeevents:false,\n      cannotvoteforleaders:false,\n      cannotparticipateingrouppurchases:false,\n      removefromgroup:false,\n      cannotcreatepolls:false,\n      cannotsuggestrulesorvoteforrules:false,\n      cannotseegigleads:false,\n      cannotvoteinjury:false\n    }\n    this.updateUser=this.updateUser.bind(this)\n    this.join=this.join.bind(this)\n    let socket\n  }\n\n\n\n  componentDidMount(){\n    this.getGroupData()\n    let server = \"http://localhost:5000\";\n    if(process.env.NODE_ENV==\"production\"){\n      this.socket=io();\n    }\n    if(process.env.NODE_ENV==\"development\"){\n      this.socket=io(server);\n    }\n  }\n\n  updateUser(updatedUser){\nconsole.log(\"updateing user\",updatedUser)\n    this.setState({user:updatedUser})\n\n    let restrictions=updatedUser.restrictions\n\n    for (let restriction of restrictions){\n\n      if((restriction.restriction==\"cannot post\")&&(restriction.groupIds.includes(this.props.match.params.groupId))){\n        this.setState({cannotpost:true})\n      }\n      if((restriction.restriction==\"cannot use chat\")&&(restriction.groupIds.includes(this.props.match.params.groupId))){\n        this.setState({cannotusechat:true})\n      }\n      if((restriction.restriction==\"cannot vote for leaders\")&&(restriction.groupIds.includes(this.props.match.params.groupId))){\n        this.setState({cannotvoteforleaders:true})\n      }\n      if((restriction.restriction==\"cannot see events\")&&(restriction.groupIds.includes(this.props.match.params.groupId))){\n        this.setState({cannotseeevents:true})\n      }\n      if((restriction.restriction==\"remove from group\")&&(restriction.groupIds.includes(this.props.match.params.groupId))){\n        this.setState({removefromgroup:true})\n      }\n      if((restriction.restriction==\"cannot create polls\")&&(restriction.groupIds.includes(this.props.match.params.groupId))){\n        this.setState({cannotcreatepolls:true})\n      }\n      if((restriction.restriction==\"cannot suggest rules or vote for rules\")&&(restriction.groupIds.includes(this.props.match.params.groupId))){\n        this.setState({cannotsuggestrulesorvoteforrules:true})\n      }\n\n      if((restriction.restriction==\"cannot vote in jury\")&&(restriction.groupIds.includes(this.props.match.params.groupId))){\n        this.setState({cannotvoteinjury:true})\n      }\n    }}\n\n    async getGroupData(){\n      let user=await fetch(`/groups/getuser/`+auth.isAuthenticated().user._id)\n      .then(response => response.json())\n      .catch(error=>console.error(error))\n      this.updateUser(user.data)\n\n      await fetch(`/groups/findgroup/`+this.props.match.params.groupId)\n      .then(response => response.json())\n      .then(data=>{\n\n        let activeusers=data['data'][0]['members']\n        activeusers=activeusers.filter(user=>user.active)\n\n        this.setState({\n          users:activeusers,\n          group:data['data'][0],\n          level:data['data'][0]['level'],\n          loading:true\n        })\n      })\n      .catch(err => {\n        console.error(err);\n      })\n    }\n\n        leave(e){\n          var memberscopy=JSON.parse(JSON.stringify(this.state.users))\n          var filteredarray = memberscopy.filter(function( obj ) {\n            return obj._id !== auth.isAuthenticated().user._id;\n          });\n          let groupcopy=JSON.parse(JSON.stringify(this.state.group))\n          groupcopy.members=filteredarray\n          this.setState({users:filteredarray,group:groupcopy});\n\n          const options = {\n            method: 'put',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: ''\n          }\n\n          fetch(\"/groups/leave/\"+this.props.match.params.groupId+\"/\"+ auth.isAuthenticated().user._id, options\n        )  .then(res => {\n          console.log(res)\n        }).catch(err => {\n          console.error(err);\n        })\n      }\n\n      async join(e){\n        let levelzerogroups=this.state.user.groupstheybelongto.filter(item=>item.level==0)\n        if(levelzerogroups>=3){\n          this.setState({error:`You have already joined the maximum number of level zero groups. You cannot have more than three, you must leave another\n            group before you can join this one. To leave a group, visit it's page and press the leave group button near the top.`})\n            setTimeout(() => {\n              this.setState({error:\"\"});\n            }, 8000)\n          }\n\n          if(levelzerogroups<3){\n            let d = new Date();\n            let n = d.getTime();\n            let chatMessage=`has joined this group`\n            let userId=auth.isAuthenticated().user._id\n            let userName=auth.isAuthenticated().user.name\n            let nowTime=n\n            let type=\"text\"\n            let groupId=this.state.group._id\n            let groupTitle=this.state.group.title\n            this.socket.emit(\"Input Chat Message\", {\n              chatMessage,\n              userId,\n              userName,\n              nowTime,\n              type,\n              groupId,\n              groupTitle});\n\n            let userscopy=JSON.parse(JSON.stringify(this.state.users))\n            userscopy=userscopy.filter(user=>user.newmembers)\n            let emails=userscopy.map(item=>{return item.email})\n            let notification={\n              emails:emails,\n              subject:\"New member\",\n              message:`There is a new member called ${auth.isAuthenticated().user.name} in the group called ${this.state.group.title} at level ${this.state.group.level}, `\n            }\n\n            const opt = {\n              method: 'post',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(notification)\n            }\n\n            fetch(\"/groups/sendemailnotification\", opt\n          ) .then(res => {\n        console.log(res)\n          }).catch(err => {\n            console.error(err);\n          })\n\n            const options = {\n              method: 'put',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: ''\n            }\n            let memberscopy=JSON.parse(JSON.stringify(this.state.users))\n            memberscopy.push(auth.isAuthenticated().user)\n            let groupcopy=JSON.parse(JSON.stringify(this.state.group))\n            groupcopy.members=memberscopy\n\n            this.setState({users:memberscopy,members:memberscopy,group:groupcopy,error:``});\n            fetch(\"/groups/join/\"+this.props.match.params.groupId+\"/\"+ auth.isAuthenticated().user._id, options\n          )  .then(res => {\n\n          }).catch(err => {\n            console.error(err);\n          })\n        }\n      }\n\n\n\n\n  render() {\n    let joinOrLeave=<></>\n\nif(auth.isAuthenticated()){\n    let memberids=this.state.users.map(item=>{return item._id})\n\n    if(this.state.level==0){\n      if(memberids.includes(auth.isAuthenticated().user._id)){\n        joinOrLeave=<><button className=\"leavebutton\" style={{display:\"block\"}} onClick={(e)=>this.leave(e)}>Leave Group?</button></>\n      }else{\n        joinOrLeave=<><button className=\"joinbutton\" style={{display:\"block\"}} onClick={(e)=>this.join(e)}>Join Group?</button></>\n      }\n    }\n}\n    return (\n      <>\n      <div style={{width:\"100vw\",overflowX:\"hidden\"}}>\n      {!auth.isAuthenticated()&&<Redirect to='/'/>}\n      {this.state.removefromgroup&&<h2 style={{margin:\"5vw\",width:\"90vw\"}}>You have been removed from this group. See your profile page\n        for an explanation</h2>}\n      {!this.state.removefromgroup&&<>\n        {auth.isAuthenticated()&&<>\n        {this.state.loading&&<>\n          <Tabs className=\"tabs\">\n          <h1 style={{margin:\"0.5vw\"}}>{this.state.group.title}</h1>\n          <h4 style={{margin:\"0.5vw\"}} className=\"activemembers\">Members</h4>\n          {this.state.users&&this.state.users.map(item=>{return(\n            <><button style={{display:\"inline\"}}><Link to={\"/singleuser/\" + item._id}>{item.name}</Link></button></>\n          )})}\n          {(this.state.users.length<=50)&&joinOrLeave}\n          {this.state.error&&<p className=\"toomanygroupserror\" style={{color:\"red\"}}>{this.state.error}</p>}\n          {(this.state.users.length>50)&&<h4 style={{margin:\"0.5vw\"}} className=\"activemembers\">This group is full, the maximum number of members in all groups is 50</h4>}\n\n          <TabList>\n          {!this.state.cannotpost&&<Tab><div className=\"news\">News</div></Tab>}\n          <Tab>Group Details</Tab>\n          {(auth.isAuthenticated().user.cool&&!this.state.cannotvoteforleaders)&&<Tab><div className=\"leaders\">Leaders</div></Tab>}\n          {!this.state.cannotcreatepolls&&<Tab><div className=\"polls\">Polls</div></Tab>}\n          {!this.state.cannotsuggestrulesorvoteforrules&&<Tab><div className=\"rules\">Rules</div></Tab>}\n          {!this.state.cannotseeevents&&<Tab><div className=\"events\">Events</div></Tab>}\n          {!this.state.cannotvoteinjury&&<Tab><div className=\"jury\">Jury</div></Tab>}\n          </TabList>\n\n          {!this.state.cannotpost&&<TabPanel>\n            <Newsfeed socket={this.socket} users={this.state.users} groupId={this.props.match.params.groupId} groupTitle={this.state.group.title} group={this.state.group}/>\n            </TabPanel>}\n            <TabPanel>\n            <GroupDetails users={this.state.users} group={this.state.group}/>\n            </TabPanel>\n            {(auth.isAuthenticated().user.cool&&!this.state.cannotvoteforleaders)&&<TabPanel>\n              <Leaders socket={this.socket} users={this.state.users} group={this.state.group}/>\n              </TabPanel>}\n              {!this.state.cannotcreatepolls&&<TabPanel>\n                <Polls socket={this.socket} users={this.state.users} groupId={this.props.match.params.groupId} group={this.state.group}/>\n                </TabPanel>}\n                {!this.state.cannotsuggestrulesorvoteforrules&&<TabPanel>\n                  <Rules socket={this.socket} users={this.state.users} groupId={this.props.match.params.groupId} group={this.state.group}/>\n                  </TabPanel>}\n                  {!this.state.cannotseeevents&&<TabPanel>\n                    <Events socket={this.socket} users={this.state.users} groupId={this.props.match.params.groupId} group={this.state.group}/>\n                    </TabPanel>}\n                    {!this.state.cannotvoteinjury&&<TabPanel>\n                      <Jury socket={this.socket} users={this.state.users} groupId={this.props.match.params.groupId} updateUser={this.updateUser} group={this.state.group}/>\n                      </TabPanel>}\n                      </Tabs>\n\n                      {(this.state.users&&!this.state.cannotusechat)&&<ChatPage users={this.state.users} grouptitle={this.state.group.title} groupId={this.props.match.params.groupId}/>}</>\n                    }</>}\n                    </>}\n                    </div>\n                    </>\n\n                  );\n                }\n              }\n\n\n\n              export default GroupPage;\n","import React, { useState, useEffect, useRef} from 'react'\r\nimport {Redirect, Link} from 'react-router-dom'\r\nimport ChatPage from \"./../ChatPage/ChatPage\"\r\nimport {Image} from 'cloudinary-react'\r\nimport AwesomeSlider from 'react-awesome-slider';\r\nimport 'react-awesome-slider/dist/styles.css';\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport auth from './../auth/auth-helper'\r\nimport io from \"socket.io-client\";\r\nimport Axios from 'axios'\r\nconst mongoose = require(\"mongoose\");\r\n\r\n\r\n\r\n\r\nexport default function SingleUser({ match }) {\r\n  const [user, setUser] = useState({})\r\n  const [numImages, setNumImages] = useState([0]);\r\n  const jwt = auth.isAuthenticated()\r\n  const [events,setEvents]=useState(false)\r\n  const [eventsApproved,setEventsApproved]=useState(false)\r\n  const [posts,setPosts]=useState(false)\r\n  const [loading,setLoading]=useState(false)\r\n  const [loadingComplete,setLoadingComplete]=useState(false)\r\n  const [polls,setPolls]=useState(false)\r\n  const [leaders,setLeaders]=useState(false)\r\n  const [newMembers,setNewMembers]=useState(false)\r\n  const [rules,setRules]=useState(false)\r\n  const [purchases,setPurchases]=useState(false)\r\n  const [restriction,setRestriction]=useState(false)\r\n  const [restrictions,setRestrictions]=useState([])\r\n  const [rulesApproved,setRulesApproved]=useState(false)\r\n  const [restrictionsApproved,setRestrictionsApproved]=useState(false)\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    password: '',\r\n    email: '',\r\n    performancedescription:'',\r\n    rates:'',\r\n    images:'',\r\n    error:'',\r\n    open: false,\r\n  })\r\n  const selectedFile1 = useRef(null)\r\n  const selectedFile2 = useRef(null)\r\n  const selectedFile3 = useRef(null)\r\n  const selectedFile4 = useRef(null)\r\n  const selectedFile5 = useRef(null)\r\n\r\n\r\n  useEffect(() => {\r\n    getUser()\r\n  }, [])\r\n\r\n  function extraImage(e){\r\n    e.preventDefault()\r\n    let imagenum=numImages\r\n\r\n    if(imagenum.length<5){\r\n      imagenum.push(0)\r\n    }\r\n\r\n    setNumImages([...imagenum])\r\n  }\r\n\r\n  function lessImage(e){\r\n    e.preventDefault()\r\n\r\n    let imagenum=numImages\r\n    if(imagenum.length>0){\r\n      imagenum.pop()\r\n    }\r\n\r\n    setNumImages([...imagenum])\r\n  }\r\n\r\n\r\n  async function getUser(){\r\n    await fetch(`/groups/getuser/`+match.params.userId)\r\n    .then(response => response.json())\r\n    .then(data=>{\r\n\r\n      setUser(data.data)\r\n      setEvents(data.data.events)\r\n      setEventsApproved(data.data.eventsapproved)\r\n      setLeaders(data.data.leaders)\r\n      setPosts(data.data.posts)\r\n      setPolls(data.data.polls)\r\n      setRules(data.data.rules)\r\n      setPurchases(data.data.purchases)\r\n      setRestrictions(data.data.restrictions)\r\n      setRestriction(data.data.restriction)\r\n      setRulesApproved(data.data.rulesapproved)\r\n      setRestrictionsApproved(data.data.restrictionsapproved)\r\n      setNewMembers(data.data.newmembers)\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    })\r\n  }\r\n\r\n  function deleteRestriction(e,item) {\r\n    let newrestrictions=restrictions.filter(restriction=>!(restriction._id==item._id))\r\n    setRestrictions(newrestrictions)\r\n\r\n    const options={\r\n      method: \"Delete\",\r\n      body: JSON.stringify(item),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n        fetch(\"/groups/deleterestriction\", options)\r\n        .then(response => response.json())\r\n        .then(json =>console.log(json))\r\n          .catch(err => {\r\n            console.error(err);\r\n          })\r\n        }\r\n        async function updateUser(){\r\n          setLoading(true)\r\n          let imageids=[]\r\n\r\n          if(selectedFile1.current.files[0]){\r\n            const formData = new FormData();\r\n            formData.append('file', selectedFile1.current.files[0]);\r\n            formData.append(\"upload_preset\", \"jvm6p9qv\");\r\n            await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\r\n            .then(response => {\r\n\r\n              imageids.push(response.data.public_id)\r\n            })}\r\n\r\n            if(selectedFile2.current.files[0]){const formData = new FormData();\r\n              formData.append('file', selectedFile2.current.files[0]);\r\n              formData.append(\"upload_preset\", \"jvm6p9qv\");\r\n              await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\r\n              .then(response => {\r\n\r\n                imageids.push(response.data.public_id)\r\n              })}\r\n\r\n              if(selectedFile3.current.files[0]){const formData = new FormData();\r\n                formData.append('file', selectedFile3.current.files[0]);\r\n                formData.append(\"upload_preset\", \"jvm6p9qv\");\r\n                await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\r\n                .then(response => {\r\n\r\n                  imageids.push(response.data.public_id)\r\n                })}\r\n\r\n                if(selectedFile4.current.files[0]){const formData = new FormData();\r\n                  formData.append('file', selectedFile4.current.files[0]);\r\n                  formData.append(\"upload_preset\", \"jvm6p9qv\");\r\n                  await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\r\n                  .then(response => {\r\n\r\n                    imageids.push(response.data.public_id)\r\n                  })}\r\n\r\n                  if(selectedFile5.current.files[0]){const formData = new FormData();\r\n                    formData.append('file', selectedFile5.current.files[0]);\r\n                    formData.append(\"upload_preset\", \"jvm6p9qv\");\r\n                    await Axios.post(\"https://api.cloudinary.com/v1_1/julianbullmagic/image/upload\",formData)\r\n                    .then(response => {\r\n\r\n                      imageids.push(response.data.public_id)\r\n                    })}\r\n\r\n                      const newuser = {\r\n                        _id:match.params.userId,\r\n                        name: values.name || undefined,\r\n                        email: values.email || undefined,\r\n                        expertise: values.expertise || undefined,\r\n                        rates:values.rates || undefined,\r\n                        images:imageids,\r\n                        password: values.password || undefined,\r\n                        events:events,\r\n                        eventsapproved:eventsApproved,\r\n                        newmembers:newMembers,\r\n                        leaders:leaders,\r\n                        posts:posts,\r\n                        polls:polls,\r\n                        rules:rules,\r\n                        restriction:restriction,\r\n                        rulesapproved:rulesApproved,\r\n                        restrictionsapproved:restrictionsApproved\r\n                      }\r\n\r\n\r\n                      setUser(newuser)\r\n\r\n                      const options={\r\n                        method: \"PUT\",\r\n                        body: JSON.stringify(newuser),\r\n                        headers: {\r\n                          \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n\r\n                          await fetch(\"/groups/updateuser/\"+match.params.userId, options)\r\n                          .then(response => response.json()).then(json =>console.log(json))\r\n                          .catch(err=>console.error(err))\r\n                          setLoading(false)\r\n                          setLoadingComplete(true)\r\n                          setTimeout(() => {\r\n                      setLoadingComplete(false)\r\n                      }, 5000)\r\n                          }\r\n\r\n\r\n                          const handleChange = name => event => {\r\n\r\n                            setValues({ ...values, [name]: event.target.value })\r\n                          }\r\n\r\n                          const clickSubmit = (e) => {\r\n                            updateUser()\r\n                          }\r\n                          let d = new Date();\r\n                          let n = d.getTime();\r\n\r\n                          let restrictionsmapped=<></>\r\n                          if(restrictions){\r\n                            restrictionsmapped=restrictions.map(item=>{\r\n                              let elapsed=n-item.timecreated\r\n                              let dayselapsed=Math.round(elapsed/86400000)\r\n                              let daysleft=item.duration-dayselapsed\r\n                              return (<div className=\"leader\" style={{textAlign:\"center\",margin:\"0.5vw\"}}><p style={{display:\"inline\"}}><strong>Restriction: </strong>{item.restriction} for {daysleft} days. <strong>Explanation: </strong> {item.explanation}. </p>\r\n                              {(item.createdby==auth.isAuthenticated().user._id)&&<div style={{display:\"inline\"}}><p style={{display:'inline'}}>You created this restriction with your leader privileges </p>\r\n                              <button style={{display:'inline'}} onClick={(e) => deleteRestriction(e,item)}>Delete Restriction?</button></div>}</div>)})}\r\n\r\n\r\n                              return (\r\n                                <>\r\n                                {user&&(\r\n                                  <div className=\"signupform\"  style={{textAlign:\"center\"}}>\r\n                                  <div className=\"innersignupform\"  style={{textAlign:\"center\"}}>\r\n                                  <h1 style={{textAlign:\"center\"}}>{user.name}</h1>\r\n                                  {user.expertise&&<h3 style={{textAlign:\"center\"}}>Expertise: {user.expertise}</h3>}\r\n                                  {user.phone&&<h3 style={{textAlign:\"center\"}}>Phone Number: {user.phone}</h3>}\r\n                                  {user.email&&<h3 style={{textAlign:\"center\"}}>Email Address: {user.email}</h3>}\r\n                                  {(user.images&&user.images.length>0)&&<><br/>\r\n                                    <h3 style={{textAlign:\"center\"}}>Images</h3>\r\n                                    <div style={{marginBottom:\"40vw\"}}>\r\n                                    <AwesomeSlider style={{marginLeft:\"5vw\",width:\"50vw\", zIndex: 1, position:\"absolute\"}}>\r\n                                    {user.images&&user.images.map(item=>{return (<div><Image style={{width:\"100%\"}} cloudName=\"julianbullmagic\" publicId={item} /></div>)})}\r\n                                    </AwesomeSlider>\r\n                                    </div></>}\r\n                                    {(user.restrictions&&user.restrictions.length>0)&&<><h3 style={{textAlign:\"center\"}}>Restrictions</h3>\r\n                                    {restrictionsmapped}</>}\r\n                                    </div>\r\n                                    </div>\r\n                                  )}\r\n\r\n\r\n                                  {(auth.isAuthenticated()&&auth.isAuthenticated().user._id==match.params.userId)&&(\r\n                                    <div style={{transform:\"translateY(-5%)\"}} className=\"signupform\">\r\n                                    <div  style={{position: \"static\"}}  className=\"innersignupform\">\r\n                                    <h1 style={{textAlign:\"center\"}}>\r\n                                    Edit Listing\r\n                                    </h1>\r\n                                    <div className=\"signininput\">\r\n                                    <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\">Name </h5><input id=\"name\" placeHolder={user.name} label=\"Name\"value={values.name} onChange={handleChange('name')} margin=\"normal\"/>\r\n                                    </div>\r\n\r\n                                    <div className=\"signininput\">\r\n                                    <h5 style={{marginRight:\"1vw\",textAlign:\"left\"}} className=\"ruletext\">Email </h5><input id=\"email\" placeHolder={user.email} type=\"email\" label=\"Email\"  value={values.email} onChange={handleChange('email')} margin=\"normal\"/>\r\n                                    </div>\r\n\r\n\r\n                                    <div style={{margin:\"1vw\"}}><h5 style={{marginRight:\"1vw\",display:\"block\"}}>\r\n                                    Try to explain your skills, knowledge, experience, qualifications. You may be elected as a leader of a group and other group members\r\n                                    need some way of evaluating if you are a good candidate.</h5>\r\n                                    <textarea style={{width:\"95%\",height:\"20vh\",overflowY:\"auto\",display:\"block\"}} id=\"expertise\" placeHolder={user.expertise} label=\"expertise\" value={values.expertise} onChange={handleChange('expertise')} margin=\"normal\"/></div>\r\n\r\n                                    <h4>Tick the boxes below to recieve email notifications about new suggestions. At least 10% of members must have voted for something before notifications will be sent in order to help prevent individuals from spamming everyone. </h4>\r\n                                    <div style={{display:\"flex\",flexWrap:\"wrap\"}}>\r\n                                    <div style={{display:\"inline\"}}>\r\n                                    <input\r\n                                    type=\"checkbox\"\r\n                                    checked={events}\r\n                                    style={{transform:\"translateY(40%)\",display:\"inline\"}}\r\n                                    onChange={e => {\r\n                                      setEvents(e.target.checked)}}\r\n                                      />\r\n                                      <h5 style={{marginRight:\"1vw\"}}  className=\"ruletext\"> Event Suggestions, </h5>\r\n                                      </div>\r\n                                      <div style={{display:\"inline\"}}>\r\n                                      <input\r\n                                      type=\"checkbox\"\r\n                                      checked={leaders}\r\n                                      style={{transform:\"translateY(40%)\"}}\r\n                                      onChange={e => {setLeaders(e.target.checked)}}/>\r\n                                      <h5 style={{marginRight:\"1vw\"}}  className=\"ruletext\"> New Leaders, </h5>\r\n                                      </div>\r\n                                      <div style={{display:\"inline\"}}>\r\n                                        <input\r\n                                        type=\"checkbox\"\r\n                                        checked={posts}\r\n                                        style={{transform:\"translateY(40%)\"}}\r\n                                        onChange={e => {\r\n                                          setPosts(e.target.checked)}}\r\n                                          />\r\n                                          <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\"> Posts, </h5>\r\n                                          </div>\r\n                                          <div style={{display:\"inline\"}}>\r\n                                          <input\r\n                                          type=\"checkbox\"\r\n                                          checked={polls}\r\n                                          style={{transform:\"translateY(40%)\"}}\r\n                                          onChange={e => {\r\n                                            setPolls(e.target.checked)}}\r\n                                            />\r\n                                            <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\"> Polls, </h5>\r\n                                            </div>\r\n                                            <div style={{display:\"inline\"}}>\r\n                                            <input\r\n                                            type=\"checkbox\"\r\n                                            checked={newMembers}\r\n                                            style={{transform:\"translateY(40%)\"}}\r\n                                            onChange={e => {\r\n                                              setNewMembers(e.target.checked)}}\r\n                                              />\r\n                                              <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\"> New Members In Your Groups, </h5>\r\n                                              </div>\r\n                                              <div style={{display:\"inline\"}}>\r\n                                            <input\r\n                                            type=\"checkbox\"\r\n                                            checked={rules}\r\n                                            style={{transform:\"translateY(40%)\"}}\r\n                                            onChange={e => {\r\n                                              setRules(e.target.checked)}}\r\n                                              />\r\n                                              <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\"> Rule Suggestions, </h5>\r\n                                              </div>\r\n                                              <div style={{display:\"inline\"}}>\r\n                                                <input\r\n                                                type=\"checkbox\"\r\n                                                checked={restriction}\r\n                                                style={{transform:\"translateY(40%)\"}}\r\n                                                onChange={e => {\r\n                                                  setRestriction(e.target.checked)}}\r\n                                                  />\r\n                                                  <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\"> Restrictions </h5>\r\n                                                  </div>\r\n                                                  </div>\r\n                                                  <h4>Tick the boxes below to recieve email notifications when new rules or restrictions for particular uses recieve approval from above 75% of the members</h4>\r\n                                                  <div style={{display:\"flex\",flexWrap:\"wrap\"}}>\r\n                                                  <div style={{display:\"inline\"}}>\r\n                                                  <input\r\n                                                  type=\"checkbox\"\r\n                                                  checked={rulesApproved}\r\n                                                  style={{transform:\"translateY(40%)\"}}\r\n                                                  onChange={e => {\r\n                                                    setRulesApproved(e.target.checked)}}\r\n                                                    />\r\n                                                    <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\"> Rule Approval, </h5>\r\n                                                    </div>\r\n                                                    <div style={{display:\"inline\"}}>\r\n                                                    <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={restrictionsApproved}\r\n                                                    style={{transform:\"translateY(40%)\"}}\r\n                                                    onChange={e => {\r\n                                                      setRestrictionsApproved(e.target.checked)}}\r\n                                                      />\r\n                                                      <h5 style={{marginRight:\"1vw\"}} className=\"ruletext\"> Restriction Approval, </h5>\r\n                                                      </div>\r\n                                                      <div style={{display:\"inline\"}}>\r\n                                                      <input\r\n                                                      type=\"checkbox\"\r\n                                                      style={{transform:\"translateY(40%)\"}}\r\n                                                      checked={eventsApproved}\r\n                                                      onChange={e => {\r\n                                                        setEventsApproved(e.target.checked)}}\r\n                                                        />\r\n                                                        <h5 style={{marginRight:\"1vw\"}}  className=\"ruletext\"> Events Approved </h5>\r\n                                                        </div>\r\n                                                        </div>\r\n                                                        <div className=\"signininput\" style={{margin:\"2vw\",display:((numImages.length>=1)?\"block\":\"none\")}}>\r\n                                                      <input style={{width:\"100%\"}} id=\"file\" type=\"file\" ref={selectedFile1}/>\r\n                                                      </div>\r\n\r\n                                                      <div className=\"signininput\" style={{margin:\"2vw\",display:((numImages.length>=2)?\"block\":\"none\")}}>\r\n                                                      <input style={{width:\"100%\"}} id=\"file\" type=\"file\" ref={selectedFile2}/>\r\n                                                      </div>\r\n\r\n                                                      <div className=\"signininput\" style={{margin:\"2vw\",display:((numImages.length>=3)?\"block\":\"none\")}}>\r\n                                                      <input style={{width:\"100%\"}} id=\"file2\" type=\"file\" ref={selectedFile3}/>\r\n                                                      </div>\r\n\r\n                                                      <div className=\"signininput\" style={{margin:\"2vw\",display:((numImages.length>=4)?\"block\":\"none\")}}>\r\n                                                      <input style={{width:\"100%\"}} id=\"file3\" type=\"file\" ref={selectedFile4}/>\r\n                                                      </div>\r\n\r\n                                                      <div className=\"signininput\" style={{margin:\"2vw\",display:((numImages.length>=5)?\"block\":\"none\")}}>\r\n                                                      <input style={{width:\"100%\"}} id=\"file4\" type=\"file\" ref={selectedFile5}/>\r\n                                                      <p>Max 5 images</p>\r\n                                                      </div>\r\n\r\n                                                      <button onClick={(e) => extraImage(e)}>Add Extra Image</button>\r\n                                                      <button onClick={(e) => lessImage(e)}>One Less Image</button>\r\n                                                      {!loading&&<button id=\"submit\" onClick={clickSubmit}>Submit</button>}\r\n                                                      {loading&&<h3>...Uploading Changes</h3>}\r\n                                                      {loadingComplete&&<h2>Upload Complete</h2>}\r\n                                                      </div>\r\n                                                      </div>\r\n                                                    )}\r\n\r\n                                                    </>\r\n                                                  )\r\n                                                }\r\n","import React from 'react'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport HomeIcon from '@material-ui/icons/Home'\nimport auth from './../auth/auth-helper'\nimport {Link, withRouter} from 'react-router-dom'\n\n\nconst isActive = (history, path) => {\n  if (history.location.pathname === path)\n    return {color: 'white'}\n  else\n    return {color: 'white'}\n}\nconst Menu = withRouter(({history}) => (\n  <div className=\"menu\" style={{backgroundColor:\"#759CC9\"}}>\n    <h2 className=\"menutitle\">\n        Democracy Social Network\n      </h2>\n      <div className=\"navbuttons\">\n      <Link to=\"/\">\n        <button style={isActive(history, \"/\")}>Home</button>\n      </Link>\n      {(auth.isAuthenticated()&&\n      auth.isAuthenticated().user.cool)&&<><Link to=\"/explanation\">\n        <button id=\"explanation\">About\n        </button>\n      </Link>\n      <Link to=\"/info\">\n        <button style={isActive(history, \"/info\")}>Info</button>\n      </Link>\n      </>}\n      {\n        !auth.isAuthenticated() && (<span>\n          <Link style={{marginLeft:\"10px\",\n          marginRight:\"5px\"}} to=\"/signup\">\n            <button id=\"signup\">Sign up\n            </button>\n          </Link>\n          <Link to=\"/signin\">\n            <button >Sign In\n            </button>\n          </Link>\n        </span>)\n      }\n      {\n        auth.isAuthenticated() && (\n          <span>\n          <Link to={\"/singleuser/\" + auth.isAuthenticated().user._id}>\n            <button style={{marginLeft:\"10px\",\n            marginRight:\"5px\"}}>My Profile</button>\n          </Link>\n          <button color=\"inherit\" onClick={() => {\n              auth.clearJWT(() => history.push('/'))\n            }}>Sign out</button>\n\n        </span>)\n      }\n      </div>\n  </div>\n))\n\nexport default Menu\n","import React, {useRef,useState} from 'react'\n\nexport default function ExplanationPage() {\n  return (\n    <>\n    <div style={{width:\"92vw\",marginBottom:\"4vw\",marginLeft:\"4vw\",marginRight:\"4vw\"}}>\n    <h4>This app is a work in progress, if you have any suggestions or constructive criticism,\n    please email democraticsocialnetwork@gmail.com</h4>\n\n    <h1>Why do we need something like the Democracy Social Network?</h1>\n\n    <p>For the last few decades, the situation for working class people in this country has grown steadily worse and worse. Houses are\n    at least five times more expensive than they were in the 1980s even taking into account inflation. Wage growth has decreased substantially.\n    The rate of unemployment has tripled since the 1970s. Union membership has gone down very dramatically.\n    University, childcare and many other things people need have become much more costly. Our technology has improved dramatically and it should be vastly easier and cheaper to produce\n    these essential goods and services. For example, very nice houses can be 3d printed for less than $4000 these days, yet people are still\n    coerced into paying off mortgages for several decades. The economic levers that could be pulled to resolve\n    these problems are well understood and there are a range of solutions that have proven to be practical.\n    After all, even in Australia, we used to have these economic problems under much better control in the 1970s.\n    It is not a question of if we know how to fix them, rather, we need to choose the sorts of leaders\n    who would choose to persue the solutions. We need a system where leaders are much more accountable\n    to the people they represent and where authority is much more grounded in knowledge, wisdom, moral\n    integrity and empathy instead of coercive or exploitative power.\n    </p>\n    <img style={{width:\"45vw\"}} src={require('./housing-prices-Australia.png')} />\n    <img style={{width:\"45vw\"}} src={require('./WageSlowdown.jpg')} />\n    <img style={{width:\"45vw\",height:\"70vh\"}} src={require('./Australian-unemployment-rates.png')} />\n    <img style={{width:\"45vw\"}} src={require('./Trade-union-density-in-Australia-percentage-of-employees-1960-2011-a-a-Trade-union.png')} />\n\n    <p>\n    The root of these problems is that our political system is not really very democratic\n    and is quite heavily biased in favour of the rich. Almost all our politicians are very wealthy, belonging to the top 5% most wealthy members\n    of our society or they receive campaign funding from wealthy people. They create and impose rules that make it easier to make more money for themselves. This is largely because political\n    marketing campagins are very expensive and the mass media is controlled by very wealthy people.</p>\n    <a style={{color:\"blue\"}} href=\"https://www.abc.net.au/news/2022-02-01/australian-election-commission-financial-disclosure/100794808\">https://www.abc.net.au/news/2022-02-01/australian-election-commission-financial-disclosure/100794808</a>\n    <a style={{color:\"blue\"}} href=\"https://www.greenleft.org.au/content/reminder-australia-plutocracy\">https://www.greenleft.org.au/content/reminder-australia-plutocracy</a>\n    <a style={{color:\"blue\"}} href=\"https://thepropertytribune.com.au/features/almost/\">https://thepropertytribune.com.au/features/almost/</a>\n    <a style={{color:\"blue\"}} href=\"https://independentaustralia.net/australia/australia-display/australia-exists-for-the-rich-and-powerful--but-that-can-change,14727\">\n    https://independentaustralia.net/australia/australia-display/australia-exists-for-the-rich-and-powerful--but-that-can-change,14727</a>\n    <div>\n    <iframe style={{margin:\"0.5vw\",width:\"44vw\",height:\"44vh\",display:\"inline\"}} src={\"https://www.youtube.com/embed/34LGPIXvU5M\"} title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n    <iframe style={{margin:\"0.5vw\",width:\"44vw\",height:\"44vh\",display:\"inline\"}} src={\"https://www.youtube.com/embed/tTBWfkE7BXU\"} title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n    </div>\n    <p>For thousands of years, political science has understood that there is an intimate relationship between a persons' economic/financial\n    situation and their ability to participate in politics. Two and a half thousand years ago, the ancient Athenian democracy used to pay\n    citizens to attend their assembly. They knew that some of the poorer members of society could not afford to take the time\n    off work that was necessary to participate in politics. This helped to prevent group decisions from\n    becoming biased in favour of the rich. This is not necessarily the perfect solution\n    to this problem, but it is certainly the first recorded attempt to resolve this issue.\n    If someone is struggling to meet their own basic needs because of poverty, (lack of housing, food,\n      medicine, social interaction etc) they cannot think about a long term plan for their own lives and they certainly\n      cannot afford to take the time to think about a long term plan for society. Financial security and stability are empowering.\n      </p>\n\n      <p>\n      There is also very little democracy within most businesses, capitalist firms are undemocratic, the executives and shareholders are\n      unelected and unaccountable to most of the people who work for the organization. There is no valid reason\n      why we should be able to elect our politicians but not the leaders of the enterprises we work for.\n      Corporate executives mostly only listen to the workers if the government or unions force them to.\n      This does not necessarily need to be the case. Around the world there are millions of democratic\n      businesses with hundreds of millions of members. Businesses where the workers are the shareholders,\n      can elect their own leaders and vote on how to distribute profits. This is a very old and very\n      reliable model of organization. We already have many of them in Australia.\n      <a style={{color:\"blue\"}} href=\"https://www.ica.coop/en/cooperatives/facts-and-figures\">https://www.ica.coop/en/cooperatives/facts-and-figures</a>\n      <a style={{color:\"blue\"}} href=\"https://www.un.org/esa/socdev/documents/2014/coopsegm/grace.pdf\">https://www.un.org/esa/socdev/documents/2014/coopsegm/grace.pdf</a>\n      </p>\n\n      <h1>Exploitation?</h1>\n      <p>\n      Usually when we think of exploitation we imagine a slave owner whipping slave or something terrible\n      like that, however in the modern world, exploitation is usually much more discrete.\n      The labour theory of value first popularised by the classical\n      economists David Ricardo and Adam Smith. The basic idea is that the value of all goods and services is roughly proportional\n      to the human labour time invested in creating them, with some variation depending on the supply and demand. All the accounts\n      gathered by the statistics bureaus of all developed countries show a very strong correlation between value created and human\n      labour time, roughly 95%. When we take goods off the shelf, it is usually very difficult/impossible to know exactly how\n      much labour time has gone into creating them because this information is not shared between the companies involved or the shop\n      that sells the product. However, government statistics bureaus do gather and publish data about the total number of hours\n      worked in each industry and the total value created in each industry. This can be plotted on a graph, and there is almost\n      always a very strong correlation.\n      (Zachariah, Dave. (2006). Labour value and equalisation of profit rate: A multi-country study. 4. https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.549.2098&rep=rep1&type=pdf\n      Cockshott, Paul, Cottrell, Allin and Valle Baeza, Alejandro, (2014), The Empirics of the Labour Theory of Value: Reply to Nitzan and Bichler, EconStor Open Access Articles and Book Chapters, issue , p. 115-134, https://EconPapers.repec.org/RePEc:zbw:espost:157802.)\n      We can also calculate the average amount of value created\n      per hour of human labour simply by adding all the value created in all industries then dividing it by the sum of all hours worked\n      in all industries. In Australia in 2020, the average value created per hour of labour was $83 AUD, the average wage was\n      only $59. The median hourly rate of pay was only $36. Even without factoring in the obscenely high cost of living,\n      Australians already have between 71 and 43% of the value they create for society stolen from them.\n      This surplus value is the profit that get's paid to shareholders as dividends. This stolen\n      value is the reason corporate executives can earn more than 30 times as much money,\n      (sometimes hundreds of times more money) than the lowest paid workers in a company.\n      More than 90% of people would benefit financially from a socialist economic system grounded in the labour theory of value.\n      </p>\n\n      <p>\n      Paul Cockshott, a scottish Computer Scientist with a BA in Economics and PHD in computer science does a very good job\n      of explaining this theory.\n      </p>\n      <iframe src=\"https://www.youtube.com/embed/emnYMfjYh1Q\"></iframe>\n      <iframe src=\"https://www.youtube.com/embed/-arn--Gtu-E\"></iframe>\n      <p>\n      Because human labour time is the source of economic value, incomes that do not come from someone's own labour are exploitative.\n      That value is not appearing out of nowhere, it is being stolen from someone else. Incomes from rents, dividends, interest and\n      royalties are usually forms of exploitation. If we banned individuals or private companies from doing these things, the\n      vast majority of the population would be\n      substantially better off financially. Sometimes landlords provide some management and maintenance services, but\n      the cost of this is usually massively inflated and much higher than it should be.\n      </p>\n      <p>\n      Again, Paul Cockshott does a very nice job of explaining these ideas.\n      </p>\n      <iframe src=\"https://www.youtube.com/embed/zfHV0yWhe9I\"></iframe>\n      <iframe src=\"https://www.youtube.com/embed/x-oRmcYR5cM\"></iframe>\n\n      <p>\n      In a socialist society there would still be a labour market and therefore people would be paid varying amounts.\n      Jobs that are perhaps more difficult or less desireable would be require higher rates of pay to incentivise people\n      to do them and less desireable jobs would be paid less. This is similar to a labour market in a capitalist society,\n      however, we would eliminate forms of exploitation, passive incomes that do not come from doing any work and incomes\n      that are massively inflated because of artificial/manufactured scarcity.\n      </p>\n\n      <h1>Manufactured Scarcity</h1>\n      <p>\n      Our technology has been advanced enough to eliminate poverty within industrialised societies since the late 19th century.\n      In 1892 the russian communist Peter Kropotkin estimated that it was only necessary for one man to work 30 hours a week,\n      5 hours a day for 6 days a week, in order to meet the needs of a family of 5. Of course, our technology and productive forces\n      have improved very dramatically since then and the minimum amount of work time required to meet people's needs should\n      have fallen very substantially.\n\n      </p>\n      (Kropotkin, Petr Alekseevich (2015). The Conquest of Bread Chapter 8. Priestland, David\n      (This edition, using the 1913 text, first published in Penguin Classics in 2015 ed.). London: Penguin Classics.\n      ISBN 9780141396118. OCLC 913790063.)\n\n      <p>\n      Today, almost all of our basic needs could be met by robots, the production of almost all the things we need to live\n      could be fully automated. For several thousand dollars you can buy a robot that can grow all the fuit and vegetables\n      a family will need. https://farmbot.com.au/. A robot can then cook those ingredients into a delicious meal for you.\n      https://moley.com/ Houses can be 3d printed in one or two days for as little as $4000\n      https://all3dp.com/2/3d-printed-house-cost/. It would not be too difficult for robots to handle most housework, cleaning,\n      laundry, gardening etc https://www.irobot.com.au/. This is easily within the grasp of modern artificial intelligence.\n      </p>\n      <a style={{color:\"blue\"}} href=\"https://farmbot.com.au/\">*https://farmbot.com.au/</a>\n      <a style={{color:\"blue\"}} href=\"https://moley.com/\">*https://moley.com/</a>\n      <a style={{color:\"blue\"}} href=\"https://all3dp.com/2/3d-printed-house-cost/\">*https://all3dp.com/2/3d-printed-house-cost/</a>\n      <a style={{color:\"blue\"}} href=\"https://www.irobot.com.au/\">*https://www.irobot.com.au/</a>\n\n      <p>\n      If all this is true, why do we still need to waste years or decades of our lives for rents,  mortgages or food? Why\n      do capitalist countries still have huge numbers of homeless people? Why do 5000 children die every day from diseases\n      we could easily prevent with vaccines that already exist? Why do hundreds of millions of people still experience famines?\n\n      According to the World Health Organization, 10.4 million children died in 2004 from largely preventable causes like malnutrition and infections.(18) At least two million child deaths a year could be prevented by existing vaccines and most of the rest could be prevented by access to clean\n      water, sanitation, and other basic necessities. Nearly 1.3 billion people live in absolute poverty,\n      and more than 15 million adults aged 20 to 64 die every year from preventable causes.\n      World Health Organization. The world health report 1998 – Life in the 21st century\n      </p>\n\n      <p>\n      There is a tendency within a capitalist society for the costs of things people need to become massively inflated.\n      Capitalists will hoard these goods and services, then extort prices from people that are much larger than necessary.\n      The anarchy of the free-market is one of the main problems socialists have resolved with democratic central planning\n      of the economy.\n      </p>\n      <p>\n      This is essentially why the cost of childcare and housing in Australia have risen so dramatically in recent decades.\n      Houses are no more difficult to produce than they used to be, but their price has risen by more than a factor of\n      five since the 1980s. These is purely because we need houses, people cannot function in a modern society while living\n      on the street. It is also the reason the cost of childcare has tripled in the last three decades. In the USA,\n      per capita expenditure on medicine has risen by more than a factor of ten since 1950.\n      </p>\n      <img src=\"https://i.redd.it/opf4kvrgipd51.jpg\"/>\n      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/20100517_Australian_House_Price_Index_1986_-_2009.pdf/page1-1200px-20100517_Australian_House_Price_Index_1986_-_2009.pdf.jpg\"/>\n      <img src=\"https://www.nejm.org/na101/home/literatum/publisher/mms/journals/content/nejm/2012/nejm_2012.366.issue-11/nejmp1200478/20130726/images/img_medium/nejmp1200478_f1.jpeg\"/>\n\n      <p>\n      In the 2016 census, there would roughly 116000 homeless people in Australia and more than a million vacant homes.\n      There is by far more than enough homes for everyone and everyone needs a home in order to be a functional member\n      of society, but the supply is restricted. People will pay higher rents and mortgages if they are worried about being\n      homeless. The land lord tells their tennants to pay them hundreds of dollar every week or tough luck, try sleeping out in\n      cold, wind and rain where you are likely to be attacked in the middle of the night at some point or pissed on by drunk\n      youths.\n      </p>\n      <a href=\"https://www.domain.com.au/news/the-real-reason-one-million-homes-were-vacant-in-the-census-data-report-20170726-gxhy8q/\">\n      https://www.domain.com.au/news/the-real-reason-one-million-homes-were-vacant-in-the-census-data-report-20170726-gxhy8q/</a>\n\n\n      <p>\n      The most effective solution to this problem is public monopolies on things people need, or at least overwhelmingly dominant public\n      enterprises that provide the things people need. This is why medicine is so vastly cheaper in Australia than the USA,\n      we have a strong public healthcare system.\n      </p>\n\n    <h1>How does The Democratic Social Network Work?</h1>\n    <p>The democratic social network takes what is good about the organization of worker cooperatives and trade unions and\n    tries to use the medium of the internet to enhance these strengths. This application is guided by\n    the principle that if something is relevant to you and you have the expertise to understand it, you\n    should be directly involved in making decisions about it. Democracy is something we should practice\n    every day, in all our relationships, not just once every few years. Democracy is compromising,\n    consulting, discussing, sharing information, filling in the gaps in each others understanding\n    in order to reach much better informed group decisions than any of us could have come to individually.\n    Authority should be grounded in wisdom, knowledge and moral integrity instead of coercive, exploitative\n    power. People's ability to participate should be independent of how wealthy they are and we should\n    make it as easy as possible for people to express their views.\n    </p>\n    <p>\n    At the bottom level of the Democratic Social Network Organization there are small groups of less than 50 people, anyone can create one of\n    these. Each of these can elect delegates to higher level groups that represent larger groups of people. These teams can all create and\n    enforce rules together with direct democracy.\n    </p>\n    <p>\n    In order to promote equality and cooperation between groups there are higher level representative assemblies.\n    There are no particular election events, instead you can just vote or withdraw a vote for anyone in your groups at any time.\n    These leaders can have their authority taken away whenever the group chooses. This provides a much stronger incentive\n    for leaders to consult and discuss with people in order to make choices that most people are happy with and to lead the group in a\n    direction that is in the best interests of the group. Higher level representative groups can vote to propose rules and events to\n    the lower groups. One of our goals is for people to mostly only be choosing leaders they know personally. This allows us to have\n    more confidence in the quality of our leaders' character.\n    </p>\n    <p>\n    Representatives from higher level groups are not allowed to nominate or endorse candidates in lower level groups.\n    This helps to ensure a genuinely meritocratic but also democratic organization. There are no election campaigns on this\n    web application. However, you can post a resume in your group for other members to look at and evalutate your credentials.\n    The choice of leaders or experts should be purely based on their skill, empathy, experience, trustworthyness, wisdom, moral integrity and\n    knowledge. Leader selection should have nothing to do with how much money candidates have to spend on a political marketing campaigns\n    or how much control they have over the media.\n    </p>\n    <p>\n    In order to prevent a situation where people get selected simply because they were first to get any votes, all elected leaders\n    must receive at least 75% approval from their group and the most popular members above this threshold can become representatives.\n    When you choose who to vote for, try to priortise their actual credentials instead of whether or not you like them personally.\n    The democratic social network tries to prevent demagoguery. This is a phenomenon where people gain influence simply with charm\n    and charisma, while they may not actual have the competence for leadership. A demagogue is sort of like a sociopath,\n    very manipulative and cunning, but the term refers particularly to political leaders. It is nice if leaders are likeable and friendly, but\n    this should not be the priority. A real leader tells you what you need to hear, not just what you want to hear.\n    </p>\n    <p>\n    Only two leaders are chosen from each group, however there may be many members who happen to all be\n    equally and most popular. For this reason, every three months, two leaders are chosen randomly from this\n    group. Ideally, in the long term, we should be aiming for a system where everybody takes a turn as\n    a leader. We would randomly choose people to serve a term as a leader, perhaps for three month terms, then\n    we cross their name off the list after they have served their term limit. This would mean that\n    there could not be anything even sort of like a ruling class or oligarchy and there could not be\n    any bias in favour of any particular groups. All groups within society would be proportionately\n    represented. African, Asian, European, Indigenous people etc would all have a number of representatives\n    that is proportional to the size of their population. We cannot just immediatly do this, leadership\n    requires certain qualities. Leaders must be socially conscious, willing to consult, discuss and\n    negotiate with their groups in order to find decisions that as many as people as possible are happy\n    with. It requires empathy, responsibility, integrity and other characteristics. One of the main goals\n    of the Democratic Social Network is to try to encourage these qualities within all users of the\n    application and to try to increase the number of people who take their turn as leaders. We really\n    believe everyone has the potential to do this.\n    </p>\n    <p>\n    All the groups in this network are relatively small. This is intended to promote deliberative democracy. We want people to be\n    making informed choices, have discussions in order to share information, correct each others mistakes and try to arrive\n    at decisions that are much better informed than any individual could come up with on their own. It is not enough for people to simply consent\n    to a group decision, their should be informed consent. In order to try to prevent the votes of inactive users from distorting the outcome of\n    votes on all issues, people's accounts and votes will be deleted if they don't log in three times in one month.\n    If this happens, you can still just easily recreate the same account.\n    </p>\n    <p>\n    In this application, all voting is open. You can see exactly who has voted for what, you can even visit higher level representative groups\n    in order to observe their discussions. If you are worried about people persecuting you for expressing your thoughts and\n    opinions, there are much deeper problems in the group than whether or not voting is secret and anonymous. The real issue is that there\n    are imbalances of power that must be fixed. Anonymity mostly makes it easier for people to stab each other in the back and to conceal\n    domination or abuse. Secretive voting encourages passive aggressive behaviour. If you are going to vote for something that oppresses, abuses\n    or exploits someone else, they should be able to see this and confront you. It is much harder to dehumanize people if you\n    must interact with them personally and witness their emotional response to your abuse. Bullies are\n    like cockroaches, they hate having light shone onto them. Most bullies are cowards. Groups can enforce\n    rules with the Jury tab on each group page. If they vote to create a restriction for a user, the user\n    can always see which rules they have supposedly broken, and dispute this if they like. A rule might\n    seem like common sense to you, but to someone else with a different background, culture or beliefs,\n    it may not. For this reason, all rules are made explicit and can be viewed in the rules tab of the group page.\n    For example, in a large Capitalist business, the upper level managers and directors who make most decisions about\n    who to hire and fire practically never meet or work directly with the lower level workers and thus they very easily dispose\n    of them when their work is no longer profitable to the business.\n    In contrast to this, in worker cooperatives, democratic businesses that are owned and run by\n    their own workers, people very rarely get fired. The managers and directors are elected by the workers and usually work\n    fairly closely with them.\n    <a style={{color:\"blue\"}} href=\"https://www.researchgate.net/publication/290244575_EMPLOYMENT_STABILIZATION_INSIDE_FIRMS_AN_EMPIRICAL_INVESTIGATION_OF_WORKER_COOPERATIVES\">\n    https://www.researchgate.net/publication/290244575_EMPLOYMENT_STABILIZATION_INSIDE_FIRMS_AN_EMPIRICAL_INVESTIGATION_OF_WORKER_COOPERATIVES</a>\n    </p>\n    <p>\n    There is greater transparency in an open voting system. We encourage users of this application to communicate through other mediums,\n    have discussions and talk about why each person voted for the things they voted for. Not only does this help everyone to\n    reach better informed choices, it also allows people to scrutineer the web application and ensure there is no voting fraud going on.\n    Open voting encourages conversation, if you disagree with people you can try to share information with each\n    other in order to reach a mutual understanding. If you don't know who has voted for what, you won't know who you need to\n    start the discussion with. If there are any very personal issues that require privacy, we recommend communicating through another medium.\n    Of course there are some sensitive issues that call for secrecy, but secret voting certainly should not be the dominant form of\n    democratic decision making.\n    </p>\n    <p>\n    Errors are a natural, inevitable and useful\n    part of the learning process. A \"debate\" is an irrational form of discussion that leads to sophistry. Finding the truth is not a\n    contest. If we think of our disagreements as a competition, we will try to rationalise our point of view, we will try to\n    manipulate or distort the truth in order to fit our perspective. We will selective focus on information that confirms our biases.\n    We only think this way because our society is so hierarchical. Powerful people do not need to have valid arguments,\n    they can simply impose their views onto others. Often when we disagree with people, we worry that an admission of error will be\n    interpretted as an admission of inferiority. However, whether you are right or wrong about any particular question tells us nothing about\n    your overall worth as a person. When we mutually arrive at the most accurate answers, everybody wins, regardless of whether\n    any individual is correct or incorrect. If I am correct and I fail to persuade you, we both lose. Failure to understand this is the\n    root cause of most of the bureaucratic nonesense in our society. Bees can demonstrate the benefits of this sort of thinking.\n    When honeybees need to find a new place to build a nest they\n    send out hundreds of scouts to search for one. They know exactly what they are all looking for, they need certain height, temperature,\n    protection from the weather, access to food etc. The more bees they send out, the greater the chance they will find a better quality\n    home. While hundreds of bees investigate, only the best place is chosen and they all unanimously agree to move to this new location\n    because it is in everyone's interest to do this.\n    </p>\n\n      </div>\n      <br/>\n\n      </>\n    )}\n    //\n    // <h4>Idealism vs Practicality</h4>\n    // <p>\n    // It is useful to try to imagine what an ideal utopian society might look like as a guide\n    // for where we should be aiming to be in the long term. However, we must also consider what is\n    // practical right now in current circumstances. We live in an imperfect world with imperfect human\n    // beings.\n    // </p>\n\n    //\n    // <p>\n    // The principles outlined above are not just some abstract theory, they are ones that have proven to be extremely practical and\n    // viable. Countries that have systems similar to this are generally much more humanistic than Capitalist ones in almost every way.\n    // If you look at statistics from the World Bank, World Health Organization and United Nations Development Programme you can see\n    // that Socialist countries have much better standards of mental and physical health, the rates of death from most of the most\n    // common causes are much lower, including infant mortalities, diabetes, lung infections, suicide and heart disease. The cost of living is usually much cheaper,\n    // wages rise much more rapidly and unemployment rates are lower, housing is much more afforable and there are very few homeless people.\n    // There are much fewer violent crimes, rates of criminal re-offending are much lower. The quality and standards of education are much better,\n    // and university much cheaper. Often, socialist countries are much more feministic, with much higher rates of female participation\n    // in the representative assemblies. Childcare is usually very cheap, there are much fewer teenage pregnancies, the gender wage gap is\n    // usually lower and women do less unpaid housework. There is an abundance of data from the World Bank, World Health Organization,\n    // International Labour Organization and United Nations Development Programme that confirms this.\n    // </p>\n","import React, {useRef,useState,useEffect} from 'react'\r\n\r\nexport default function Info() {\r\n\r\n    useEffect(()=> {\r\n  pageCounter()\r\n    }, [])\r\n\r\n  function pageCounter(){\r\n  const options = {\r\n    method: 'put',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: ''\r\n  }\r\n  fetch(\"/groups/addtopagecounter/home\", options\r\n  ).then(res => {\r\n  return res.json()\r\n  }).catch(err => {\r\n  console.error(err);\r\n  })\r\n  }\r\n\r\n  return (\r\n    <div style={{marginLeft:\"5vw\",marginTop:\"3vw\",width:\"90vw\"}}>\r\n    <a style={{color:\"black\",textDecoration:\"none\",display:\"block\"}} href=\"/Psychological-War\">\r\n    <div className=\"articlelink\">\r\n    <h2>The Psychological War On Communism</h2>\r\n    <p>\r\nSince the birth of Socialism in the early 20th century, the capitalist ruling class have gone to great lengths to destroy socialism. They have tried their absolute best to destroy people's perception of Communism, spreading slander throughout the mass media and academic institutions. They have infiltrated many real socialist organisations and created many of their own fake ones. Divide and conquer is their primary strategy, if they perceive any divisions between socialist groups, they try to drive a wedge into it. When they build their own socialist organisations, the most common strategy is to spread ideas that sound socialistic, but are ultimately not at all useful. They will try to encourage a puritanical, vengeful, arrogant and self righteous mentality, any revolution that is less than perfect is bluntly dismissed, there is no constructive criticism or acknowledgement of the achievements of real viable socialist revolutions. They won't support any socialist experiments unless they failed, didn't last very long or didn't produce any measurable, lasting benefits to people's lives. The goal is to leave people with the feeling that communism is a Utopian fantasy, idealistic, unrealistic, a nice idea, but not practical. The bourgeoisie have also tried to meddle in the elections of countries where the population shows strong support for socialism, attempting to get more right wing candidates elected.\r\n   </p>\r\n    <h4>Read More</h4>\r\n    </div>\r\n    </a>\r\n      <a style={{color:\"black\",textDecoration:\"none\",display:\"block\"}} href=\"/Cuba\">\r\n      <div className=\"articlelink\">\r\n      <h2>Cuba</h2>\r\n      <p>Thanks to the release of numerous formerly classified CIA documents, we now know the truth about Cuba. Most of the references for this article are directly from the website of the worst enemy of Socialism, the Central Intelligence Agency of the United States Government. There are many very rich and powerful people in this world who have strong motives for slandering Socialist countries like Cuba (especially Cuba) and hugely disproportionate access to mass mediums through which to spread these lies. The Communist Party of Cuba are radical humanists who have dramatically improved the quality of life of the the Cuban people. The government have taken large steps towards guaranteeing that all Cubans will have their basic needs met, massively reducing poverty and guaranteeing the necessities of life are affordable and in many cases provided for free at public expense. Housing, public transport, electricity, university, childcare and many other essential services are either free or cheap. The Communist party have greatly improved that status of African people and women, eliminating the worst aspects of racism and sexism. The standards of health and education are the best in the third world and in many ways as good or better than some first world countries. The Party created a much more fair and equitable distribution of wealth than Capitalist countries. Their private sector is largely worker-cooperatives, 30% of their GDP is produced by democratic businesses or self employed people where the workers are the shareholders. Their public sector is somewhat like an enormous co-operative in which all Cubans are a member and the goal is to meet human needs instead of generate profits. Their society is highly unionised with the vast majority of their people in at least one union and most work arrangements negotiated through unions. Recently, the sustainable development index found Cuba to be the most sustainable country in the world. </p>\r\n      <h4>Read More</h4>\r\n      </div>\r\n      </a>\r\n      <a style={{color:\"black\",textDecoration:\"none\",display:\"block\"}} href=\"/Soviet-Union\">\r\n      <div className=\"articlelink\">\r\n      <h2>Soviet Union</h2>\r\n      <p>The CIA archives also contain numerous documents that reveal the true nature of the USSR. The Soviet Union was actually quite progressive and humanistic for the time period. Their worst enemy admits this blatantly.\r\n      These are some facts we know about the USSR. It took several decades to develop Socialism, it took time to build the industry and technology that was needed. They also experienced a quite severe crisis: a civil war, numerous invasions and WW2. By the mid 20th century life in the Soviet Union became quite free. The USSR experienced very rapid economic growth, double that of the United States, this growth was targeted at raising the well being, health, education, wages and general living standards of the population. The socialist government massively reduced economic inequality. The highest rate of pay was only about three times higher than the lowest. In Capitalist Societies Bourgeois elites can make hundreds or thousands of times more money than working class people with income gained from exploiting workers. The government consciously tried to reduce the prices of things and the rates of unemployment (to make it easier for people to find jobs and increase economic growth) and were quite successful. All education was free and most university students were paid to study. Soviet citizens ate a slightly more nutritious diet than the United States’ population. The Soviet Union was highly feministic, with rates of female employment and enrolment at University roughly twice that of the USA. The communist government provided women with very cheap subsidised childcare services, paid maternity leave, divorce was easy to obtain, abortion was provided for free at public expense, the rates of infant mortality and teenage pregnancy were quite low. The criminal justice system in the USSR was aimed at rehabilitation. Prisoners were paid fairly well for their work, they were always adequately fed and they only worked the standard 8 hour day. Non-violent criminals were not confined to a cell. The USSR created a quality free universal healthcare system, one of the first in the world. The USSR built houses at a faster rate than any other country, they didn’t treat housing as a commodity but rather, as something everyone needs. It was the first country to more or less eliminate homelessness and their constitution guaranteed housing to all citizens. The USSR did not have exploitative or imperialistic economic relations with it’s trading partners, on the contrary, it gave huge amounts of financial aid, many billions of dollars worth.</p>\r\n      <h4>Read More</h4>\r\n      </div>\r\n      </a>\r\n      <a style={{color:\"black\",textDecoration:\"none\",display:\"block\"}} href=\"/Yugoslavia\">\r\n      <div className=\"articlelink\">\r\n      <h2>Yugoslavia</h2>\r\n      <p>\r\nThe Socialist Federal Republic of Yugoslavia (SFRY) was a very encouraging experiment in Socialism that existed from 1945 to 1992. As with most other Communist countries, the CIA archives provide us with an abundance of valuable sources that tell a very clear story, one of massive improvements to the quality of life of the population. There were enormous gains in health, education, political participation, real wage growth and social equality. Yugoslavia had a very distinctive “self-management” system. This was much more decentralised than the Soviet Union, giving much more power to individual organisations, each of which was controlled by an elected worker council. Yugoslavia also experienced some economic difficulties that the USSR did not, inflation, higher unemployment and economic cycles. On the whole, despite it's faults, this Balkan Socialist country set a very promising example of what a world without exploitation, domination and imperialism could look like.\r\n     </p>\r\n      <h4>Read More</h4>\r\n      </div>\r\n      </a>\r\n      <a style={{color:\"black\",textDecoration:\"none\",display:\"block\"}} href=\"/China\">\r\n      <div className=\"articlelink\">\r\n      <h2>China</h2>\r\n      <p>\r\n      Capitalist historians would have us believe that the People's Republic of China experimented with Socialism for a few decades between 1949 and 1978, until finally realising that Capitalism was clearly superior to Communism and adopted a free market capitalist economy. Supposedly, all of China's problems resulted from Socialism and the huge progress China has made since the 1980s is entirely a result of Capitalism. This narrative is very misleading. It ignores the huge progress and growth made within Communist China prior to 1978. It excludes the fact that Communist leadership set China free from ruthless European Imperialism and Feudal Serfdom, that the standard of living, social and economic inequality dramatically reduced under Chairman Mao's Leadership. The status of women was greatly elevated, the commune system was organised in such a way as to liberate women from the need to perform unpaid domestic labour, the slavery of housework. Rates of female employment, university enrolment and leadership greatly increased (like most other socialist revolutions). Standards of health and education improved very substantially. The situation in China at the time of the Chinese revolution in 1949 was substantially worse than in Eastern Europe where the Soviet Revolution had occurred. Pre-communist China was one of the poorest countries in the world. Despite dramatic improvements, the poverty of the People's Republic persisted for several decades. In the late 1970s China was still far behind the Soviet Union and the First World countries in terms of development and wealth per capita. Gross Domestic Product per capita in the Soviet Union was 28 times higher than China, very few chinese people owned cars, televisions or even access to electricity. In order to address this problem more rapidly, the Communist government made some pragmatic compromises, allowing foreign capitalists to invest in China. This created an inflow of new technology that has greatly helped to increase productivity and efficiency. The countries of the former Soviet Union that have all adopted a Bourgeois type of parliament, heavily influenced by money and political lobbying, however China has retained a strong communist government that is much more resistant to corruption (although not completely). The communist party creates long term economic plans that allow them achieve huge goals that Capitalist governments are simply incapable of doing. Since the pro-capitalist reforms China has experienced the most rapid and consistent period of economic growth and poverty alleviation of any country in human history. No other country even comes sort of close. Yes China does now have some capitalist businesses, however the majority of their economy is still socialised, public enterprises and worker co-operatives.\r\n     </p>\r\n      <h4>Read More</h4>\r\n      </div>\r\n      </a>\r\n      </div>\r\n    )}\r\n","import React, {useEffect} from 'react'\r\n\r\nexport default function SovietUnion() {\r\n\r\n  useEffect(() => {\r\n      pageCounter()\r\n  }, [])\r\n\r\nfunction pageCounter(){\r\nconst options = {\r\n  method: 'put',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  body: ''\r\n}\r\nfetch(\"/groups/addtopagecounter/sovietunion\", options\r\n).then(res => {\r\nreturn res.json()\r\n}).catch(err => {\r\nconsole.error(err);\r\n})\r\n}\r\n\r\n  return (\r\n    <div style={{marginLeft:\"5vw\",marginTop:\"3vw\",width:\"90vw\"}}>\r\n    <h1>Soviet Union</h1>\r\n    <p>\r\n    A great number of formerly classified CIA documents have revealed that the dominant narrative about the USSR being controlled by a tyrannical oligarchy is simply not true. The Soviet Union was actually quite progressive and humanistic for the time period. Their worst enemy admits this blatantly.\r\n    These are some facts we know about the USSR. It took several decades to develop Socialism, it took time to build the industry and technology that was needed. They also experienced a quite severe crisis: a civil war, numerous invasions and WW2. By the mid 20th century life in the Soviet Union became quite free. The USSR experienced very rapid economic growth, double that of the United States, this growth was targeted at raising the well being, health, education, wages and general living standards of the population. The socialist government massively reduced economic inequality. The highest rate of pay was only about three times higher than the lowest. In Capitalist Societies Bourgeois elites can make hundreds or thousands of times more money than working class people with income gained from exploiting workers. The government consciously tried to reduce the prices of things and the rates of unemployment (to make it easier for people to find jobs and increase economic growth) and were quite successful. All education was free and most university students were paid to study. Soviet citizens ate a slightly more nutritious diet than the United States’ population. The Soviet Union was highly feministic, with rates of female employment and enrolment at University roughly twice that of the USA. The communist government provided women with very cheap subsidised childcare services, paid maternity leave, divorce was easy to obtain, abortion was provided for free at public expense, the rates of infant mortality and teenage pregnancy were quite low. The criminal justice system in the USSR was aimed at rehabilitation. Prisoners were paid fairly well for their work, they were always adequately fed and they only worked the standard 8 hour day. Non-violent criminals were not confined to a cell. The USSR created a quality free universal healthcare system, one of the first in the world. The USSR built houses at a faster rate than any other country, they didn’t treat housing as a commodity but rather, as something everyone needs. It was the first country to more or less eliminate homelessness and their constitution guaranteed housing to all citizens. The USSR did not have exploitative or imperialistic economic relations with it’s trading partners, on the contrary, it gave huge amounts of financial aid, many billions of dollars worth.\r\n    </p>\r\n    <p>\r\n    <strong>Wage Categories In Soviet Industry</strong> paragraph 1 “A continuous increase in work productivity and diminished production costs provide the Soviet Government with the opportunity of carrying out it's policy of lowering prices, which leads to a steady increase in real wages and to a further elevation in the nations standard of living.”\r\n    The highest pay grade was only about 2.6 times above the lowest. <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000700070145-2.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000700070145-2.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>Soviet Wages and Wage Differentials</strong> page 8 The highest rate of pay was only about three times higher than the lowest. In Capitalist Societies Bourgeois elites can make hundreds or thousands of times more money than working class people with income gained from exploiting workers.\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP79-01093A000400010003-1.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP79-01093A000400010003-1.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>The Challenge of Soviet Economic Expansion</strong> page 2 para 5 “Our best estimates of Soviet domestic economic expansion place the average annual rate of growth of the Soviet Economy as a whole at between six and seven percent over the past eight years. Their industrial growth rate has averaged between eight and nine percent in this same time. Over the same period, our own average annual increase, both in Gross National Product and in Industrial Production, has been about three percent.” (ie. The rate of economic growth was twice as fast in the USSR than the USA, at least until the USA started to be aware of and retaliate to this immense threat.)\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP62S00545A000100090039-5.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP62S00545A000100090039-5.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>USSR Report Consumer Goods and Domestic Trade</strong> page 4 para 4 “Developed Socialist society is characterised by the plan based growth of the economy, the dynamic development of key economic sectors, and, the corresponding increases in public well-being. ”\r\n    <a href=\"https://www.cia.gov/readingroom/document/cia-rdp82-00850r000500070070-2\">https://www.cia.gov/readingroom/document/cia-rdp82-00850r000500070070-2</a>\r\n    </p>\r\n    <p>\r\n    <strong>The Employment Situation in the Soviet Union</strong> page 5 paragraph 3-4 “Extremely high participation of women in the Soviet Labour force, about 2 thirds of adult women as compared with only 1 third in the US.....Despite the overall success of the USSR in creating more jobs than are economically justifiable by western standards, substantial unemployment has persisted amongst some groups.” (i.e. The USSR has massively reduced the rate of unemployment, making it much easier for people to find a job.)\r\n    </p>\r\n    <p>\r\n    <strong>Marriage and the Family in the USSR</strong> page 5 para 4 The abolition of private ownership of the means and instruments of production has freed the family from the evil influence of the cash nexus. Socialist society has brought the conditions for a really free marriage. Consolidation of the socialist system, the growing well-being of the people and the emancipation of women mean that the overwhelming majority of marriages in the USSR have nothing to do with the considerations of gain. Mutual love of man and woman and affection for children is the guiding force of marriage in the Soviet Union.\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80T00246A001600750004-8.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP80T00246A001600750004-8.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>Soviet Concern over Falling Birth Rate</strong> page 8 para 2 “In recent years, efforts to increase female employment have intensified....Wages in the service sector, where women workers predominate, have been raised substantially and child care facilities have been expanded.... In urban areas, 90% of women are either employed or studying full time, compared to 50% in the USA” page 9 para 3 “The government provides free medical services, child care facilities, paid maternity leave, family allowance payments, it's policy with respect to abortion is liberal and divorce is relatively easy to obtain.”\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP85T00875R001600010074-9.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP85T00875R001600010074-9.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>Comments on the Change in Soviet Leadership</strong> “Even in Stalin's time there was collective leadership. The western idea of a dictator in the communist setup is exaggerated. Stalin, although holding wide powers, was merely the captain of a team” (ie. Stalin wasn't a dictator)\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00810A006000360009-0.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP80-00810A006000360009-0.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>Stength-diet 1983</strong> “American and Soviet citizens eat about the same amount of food each day but the Soviet Diet may be more nutritious.”\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP85M00363R000601440024-5.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP85M00363R000601440024-5.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>The Educational Attainment Process in the Soviet Union: A Case Study</strong> page 1 para 1 “The Soviet government provides tuition free schooling at all levels and stipends for more than 70 of full time students of higher or special secondary education.” (ie. The majority of higher education students were actually paid to study and all education was at least free)\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP83T00966R000100060029-4.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP83T00966R000100060029-4.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>Forced Labour in the USSR 1953-57</strong> page 2 para 2 “The administration of the camp system has undergone a radical transformation since 1953, and the treatment of prisoners has improved substantially... It was decided some time in 1956 to convert all corrective labour camps into corrective labour “colonies”, where the principle emphasis would be on rehabilitating the prisoners and returning them speedily to civilian life rather than exploiting prison labour for economic purposes.” page 8 para 4 “About 1952-53 Soviet administrators evidently became convinced that economic progress in a modern industrial state must depend on the provision of incentives rather than the use of coercion.”\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP79R01141A001200060002-9.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP79R01141A001200060002-9.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>Forced Labour Camps in the USSR; Transfer of Prisoners Between Camps Until 1952</strong> prisoners were given a guaranteed amount of food, plus extra food for over-fulfilment of quotas. After 1952, prisoners were paid according to the amount of work completed. For over-fulfilling the quotas by 105%, one day of sentence was counted as two, thus reducing the sentence of criminals. Until 1954, prisoners worked 10 hour days, after 1954 their work day was reduced to the normal 8 hour day worked by most soviet citizens. 95% of gulag prisoners were actual criminals.\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80T00246A032000400001-1.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP80T00246A032000400001-1.pdf</a>\r\n    </p>\r\n    <p>\r\n    <strong>Soviet Subsidies To Eastern Economies</strong> page 1 para 2 “The theory that the Soviet Union exploits Eastern 'Europe's Eastern Europe through the imposition of discriminatory terms of trade-is not supported by the facts. A recent study trade. A recent study concluded that the Soviet Union has granted Eastern Europe large trade subsidies, averaging $4.8 billion dollars between 1974-78 and rising to 10.4 billion in 1979 and a staggering 20.1 billion in 1980“\r\n    <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP88B00443R001103940160-0.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP88B00443R001103940160-0.pdf</a>\r\n    </p>\r\n    <p>\r\n    A US Academy of Political Science, of which several former Presidents are honorary members, published an article in which they claim that the Soviet Union housing was treated as a social good instead of a commodity. The USSR built houses at a faster rate than any other country and their 1977 constitution guaranteed housing to everyone as a human right. Morton, Henry W. “Housing in the Soviet Union.” Proceedings of the Academy of Political Science 35, no. 3 (1984): 69–80. https://doi.org/10.2307/1174118.\r\n    </p>\r\n    <p>\r\n    Clearly, the Soviet Union was not governed by a terrible authoritarian regime. It may not have been Utopia, but they took many substantial steps in the right direction. Notice the very stark difference between how the Soviet Union is portrayed in the Capitalist media and education systems. At school I was just taught that the USSR was a terrible authoritarian country were everyone lived in poverty and the government murdered or enslaved everyone who disagreed with their ideology. This is clearly slander.\r\n    </p>\r\n    <p>\r\n    I cannot discredit every single allegation that has been made about the USSR and there certainly were mistakes made along the way. It wasn’t perfect. Probably the most credible allegation is that of homophobia, male gay sex was made illegal in 1934 (like most countries at the time). This was certainly a problem, however it is not constructive to just bluntly dismiss all of the huge achievements because of these errors. Overall, the Soviet Union was a very positive thing for working class people around the world and this is why the ruling class have slandered socialism so terribly. We must take allegations about socialism with a grain of salt. There are many people who have very strong motives for slandering the USSR, particularly the rulers of capitalist countries. Our politicians do not consciously plan to try to raise people wages, reduce unemployment, or to ensure everyone has a home. By all these indicators, the situation has been growing much worse since the 1970s in Australia. The numerous war crimes and instances of mass murder committed by the armies of Capitalist governments are well documented.\r\n    </p>\r\n    <p>\r\n    Revolutions always happen in the real world with real people. The people involved are always imperfect human beings, living in a very imperfect world. When the USSR was born, Russia was a very poor, mostly feudal country. Most of the population were illiterate peasants, there would be occasional famines. The leadership of the Bolshevik Party was responsible for ending this terrible situation. The first priority of the party was to try to increase the standard of living, educate the people and industrialise as fast as possible in order to be able to compete with the western capitalist countries. If Stalin had not pushed for very rapid industrialisation, the Soviet Union would not have been strong enough to survive the threat of Fascism in Europe and Russia would have been destroyed in WW2. We know this because we can compare the Soviet Union with other socialist experiments that were more “libertarian”, like the Spanish Libertarian revolution in 1936 and the Paris Commune. These revolutions, while perhaps more directly democratic were quickly crushed by hostile external imperialist forces. The USSR survived, produced a viable lasting form of socialism that massively improved the lives of hundreds of millions of people. It is important to keep in mind that what is ideal and what is practical are two separate things.\r\n    </p>\r\n    <p>\r\n    It is misleading to say the USSR was “authoritarian”. It is much more accurate to say it had strong responsible leadership. There can be valid reasons to exclude people from political participation for the sake of their own protection. For example, my grandmother just believes women are supposed to be housewives. Even though I am a man, I know she is obviously wrong, women have huge potential and are overall, just as amazing as men. Should we let her drag other women down with her? A bunch of illiterate peasants who struggle to even meet their own basic needs, simply to not have the knowledge and competence for organising a revolution. It's not their fault, they've been oppressed terribly by their feudal lords, but realistically they just don't know what to do.\r\n    </p>\r\n    <p>\r\n    Power does have a very strong tendency to corrupt people. We need to be wary of this, however realistically, revolutions require some sort of leadership. Our modern world is far too complicated for a direct form of democracy to be practical on a huge scale with millions of people.\r\n    </p>\r\n    <p>\r\n    We need to try to learn from the experiences of the USSR and other Socialist countries. They have found much better ways of choosing leaders who are more responsible, sympathetic and ethical. We need to try to use modern technology to try to enhance the strengths of socialism and give each other more freedom and democracy. This is why we have tried to build the democratic-social-network.\r\n    </p>\r\n\r\n    </div>\r\n  )}\r\n","import React, {useEffect} from 'react'\r\n\r\nexport default function China() {\r\n  useEffect(() => {\r\n      pageCounter()\r\n  }, [])\r\n\r\nfunction pageCounter(){\r\nconst options = {\r\n  method: 'put',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  body: ''\r\n}\r\n fetch(\"/groups/addtopagecounter/china\", options\r\n).then(res => {\r\nreturn res.json()\r\n}).catch(err => {\r\nconsole.error(err);\r\n})\r\n}\r\n  return (\r\n    <div style={{marginLeft:\"5vw\",marginTop:\"3vw\",width:\"90vw\"}}>\r\n    <h1>China</h1>\r\n    <p>\r\nCapitalist historians would have us believe that the People's Republic of China experimented with Socialism for a few decades between 1949 and 1978, until finally realising that Capitalism was clearly superior to Communism and adopted a free market capitalist economy. Supposedly, all of China's problems resulted from Socialism and the huge progress China has made since the 1980s is entirely a result of Capitalism. This narrative is very misleading. It ignores the huge progress and growth made within Communist China prior to 1978. It excludes the fact that Communist leadership set China free from ruthless European Imperialism and Feudal Serfdom, that the standard of living, social and economic inequality dramatically reduced under Chairman Mao's Leadership. The status of women was greatly elevated, the commune system was organised in such a way as to liberate women from the need to perform unpaid domestic labour, the slavery of housework. Rates of female employment, university enrolment and leadership greatly increased (like most other socialist revolutions). Standards of health and education improved very substantially. The situation in China at the time of the Chinese revolution in 1949 was substantially worse than in Eastern Europe where the Soviet Revolution had occurred. Pre-communist China was one of the poorest countries in the world. Despite dramatic improvements, the poverty of the People's Republic persisted for several decades. In the late 1970s China was still far behind the Soviet Union and the First World countries in terms of development and wealth per capita. Gross Domestic Product per capita in the Soviet Union was 28 times higher than China, very few chinese people owned cars, televisions or even access to electricity. In order to address this problem more rapidly, the Communist government made some pragmatic compromises, allowing foreign capitalists to invest in China. This created an inflow of new technology that has greatly helped to increase productivity and efficiency. The countries of the former Soviet Union that have all adopted a Bourgeois type of parliament, heavily influenced by money and political lobbying, however China has retained a strong communist government that is much more resistant to corruption (although not completely). The communist party creates long term economic plans that allow them achieve huge goals that Capitalist governments are simply incapable of doing. Since the pro-capitalist reforms China has experienced the most rapid and consistent period of economic growth and poverty alleviation of any country in human history. No other country even comes sort of close. Yes China does now have some capitalist businesses, however the majority of their economy is still socialised, public enterprises and worker co-operatives.\r\n    </p>\r\n    <p>\r\nThe 1949 Communist Revolution brought enormous improvements to China. In the first five year economic plan industrial production increased 420%, capital goods increased 570%, steel production 1300% and cement 700%. They constructed 1900 new types of machines. The initial priority was industrialising as quickly as possible in order to improve the standard of living of the population (ref #1, ref #2). The work day became restricted to 8 hours, real wages tended to increase and working conditions improved. There was a steady elimination of illiteracy. The status of women improved dramatically. Most entered the workforce, equal pay for equal work was introduced. At the grassroots organisational level, in factories, farms, neighbourhood committees, female party members frequently outnumbered men. There were also substantial efforts to include women in the upper party echelons, up to 10% in 1973 while previously there had been zero. Birth control devices were distributed by the government without charge by the women's federation. The commune system attempted to eliminate the need for women to do unpaid housework. Traditionally female domestic labour such as cooking, laundering, sewing and childcare were performed by communal institutions (ref #3, ref#4). The land redistribution reforms specified that women were entitled to an equal allotment of land as men. Female enrolment in University increased substantially, for example at the North China Revolutionary People's University near Beijing, 30% of students were women by 1949. Many nurseries were established to help raise children and 45 days paid maternity leave was introduced. Slavery, child sales and exploitation of child labour were made illegal. There was a distinct improvement in the mortality rate among infants and mothers. Polygamy, concubinage, prostitution, the sale of women, marriage arranged by parents without voluntary agreement of the parties all became illegal. Women gained an equal right to divorce (ref #5).\r\n    </p>\r\n    <p>\r\n    For the first decade of the Chinese revolution, substantial progress was made in improving the standards of living and education. The Communist party had successfully unified China into a strong that had assumed a place of primary importance in the strategic thinking of world superpowers. However, in the second decade after the 1949 revolution, there was a period of relative stagnation. There have only been two, relatively short periods of negative economic growth in the history of the People's Republic of China, a few years following The Great Leap Forward of 1959 and a few more years following the Cultural Revolution 1967. For most of the history of Communism in this country, the trend has been quite strong and steady economic growth (ref #6). In the early years, Chairman Mao closely imitated the Stalinist approach to Socialism, very rapid, somewhat forceful industrialisation. It was understood that while this may have been less than ideal, alleviating poverty by increasing the productive forces of society was a greater priority. However, after the first decade, the communist party decided to conduct some social experiments in order to try to find a more democratic form of socialism. This proved to have some disastrous economic results, and these mistakes were soon rectified. On balance, however, even during the worst periods the country retained a certain cohesiveness and sense of national unity. The charisma of Mao Tse-tung remained a strong unifying influence (ref #6). There were some famines during the early years of the Chinese revolution because the country had been a poor feudal society prior to 1949. All feudal societies experience famines every few years, their technology is not advanced enough to ensure a constant stable supply of food (ref #7, ref #8, ref #9). The communist party could not just snap their fingers and suddenly and magically fix everything that was wrong with China. It took time to develop socialism. Despite their mistakes, the overall trend has been dramatic increases in life expectancy, improvements to the standards of health and nutrition, and a decline in the rate of death. This was particularly true during the leadership of Chairman Mao (ref #10, ref #11, ref #12, ref #13). The claim that Chairman Mao killed millions of innocent people is slander spread as Capitalist anti-Communist propaganda.\r\n    </p>\r\n    <p>\r\n    Despite all the improvements delivered by Socialism in China, by the late 1970s, poverty was still widespread. Gross Domestic Product Per Capita was still only twenty times lower than the Soviet Union and 50 times lower than Australia (ref #14, ref #15, ref #16). In 1978, the successor to Chairman Mao, Deng Xiaoping, introduced a series of pro-market reforms, that allowed some foreign Capitalist investment and opening up to international trade. This has resulted in the most rapid and consistent period of economic growth of any country in human history by far, averaging 10% GDP growth per-capita for four decades straight (ref #17, ref #18, ref #19). Peoples' incomes have increased dramatically (ref #20). The cost of living is also relatively cheap compared with Capitalist countries like Australia, data gathered by numerous crowd sourced cost-of-living web sites confirm this conclusion (ref #21, ref #22, ref #23, ref #24, ref #25).\r\n    </p>\r\n    <p>\r\n    In the Capitalist media, China is frequently misrepresented as having a tyrannical authoritarian government. In reality, the population greatly appreciate the enormous improvements that have been delivered by the communist party and mostly co-operate with their leadership. One study performed by academics at Harvard University found that 95% of Chinese people are satisfied with the communist party (ref #26). Chinese police usually don't carry guns (ref #27, ref #28) while Australian police usually do carry guns (ref #29, ref #30). The rate of imprisonment per capita is about a quarter lower than Australia (ref #31). China has quite a participatory form of democracy with extensive consultation and discussion between the people and the government. All laws require public consultation before they can be approved (ref #32, ref #33, ref #34, ref #35). In a study conducted by Chinese academic Li Yao, released in 2017, the majority of protests which were non-controversial did not receive much if any negative police action, which is to say police may have been present but in no more capacity than Western police would be attending to a protest/mass gathering event. The idea that Chinese do not protest or would be brutally repressed for any kind of political action does not seem to be supported by existing data (ref #36).\r\n    </p>\r\n    <p>\r\n    In recent years, two separate factions have appeared in the Australian communist movement, the party split into the Communist Party of Australia (CPA) and the Australian communist party (ACP). One of the main points of disagreement is over whether or not to support China. The ACP believe that China has devolved into capitalism, it has become a social democracy like the Scandinavian countries. They believe this means that the high standard of living that has been achieved for the Chinese population is a result of imperialism, the exploitation of working class people in foreign countries. Real socialism is internationalist, favouring equality and mutual respect between countries. In socialism the worker class at the dominant class in society, in social democracy, a Capitalist oligarchy is dominant, however they have made large concessions to the working class within their own country. This view is incorrect, China's relationships with other countries are much more humanistic. The People's Republic has undoubtedly taken on some capitalistic characteristics, economic inequality has increased and there are more capitalist businesses now, however, the Working class are still the dominant class. China is the reverse of social democracy. Social-democracy is the Bourgoisie making some concessions to the working class that ultimately allow them to stay dominant, it placates the working class, China is the opposite of this. Globally, the Bourgoise are still the dominant class and this has forced The CPC to make some concessions, economic isolationism is a recipe for poverty and catastrophe. China forms mutually beneficial partnerships with other countries and does not try to dominate, control or exploit them. For the last few hundred years, the Scandinavian countries have engaged in the same kind of militaristic and ruthless imperialism that other European countries such as Britain and France have also engaged in. The Scandinavian countries have dozens of foreign military bases and have been involved in dozens of aggressive wars since World War Two (ref #37, ref #38, ref  #39, ref #40, ref #41, ref #42, ref #43). Since the founding of the People’s Republic, China has never started a single war or conflict, and has never taken one inch of land from other countries. China has only engaged in military conflicts for the purpose of defending territory that has historically been a part of Modern China for longer than most of the modern nation states of Europe and America have even existed. The former US president Jimmy Carter made not of how the People's Republic is much less militaristic than the USA while talking to Donald Trump, “Since 1979, do you know how many times China has been at war with anybody? None. And we have stayed at war\"(ref #44, ref #45). The western media often alleges that China has tried to expand it's territory into regions such as Tibet, Xinjiang, Hong Kong, Taiwan and the South China Sea. The Qing Dynasty of China conquered Xinjiang in 1759 and has been a region of China for most of that time (ref #46) Tibet has been a part of China for most of the period since 1720 (ref #47, ref #48) China has been involved in the regions of the South China Sea that it claims for thousands of years, they were the first to map, settle and use the natural resources. There is an extensive historical and archaeological record that confirms this (ref #49). Taiwant has been a part of China for most of the time since 1683 (ref #50) Hong Kong has been a part of China for most of the time since 221BC (ref #51). The concept of Hong Kong and Taiwan being separate, independent countries is a very new one, Hong Kong is only thought of as independent because it was colonised and conquered by the British in 1841. China only has one military base outside of it's own historical territories, a base in the east African Country of Djibouti, and only since 2017. This is largely for the purpose of preventing piracy in the Indian Ocean and defending Chinese trade ships passing through the Red Sea. They were only able to build the base with the agreement of the Djibouti government, as do many other countries (ref #52, ref #53, ref #54). Imperialism is a coercive, tyrannical, exploitative relationship where one country dominates another. China's relationships with other countries are simply not like this, their economic support in the third world countries has brought enormous economic growth. An imperialist country will try to weaken and control their subject countries as much as possible. China has objectively helped numerous countries to develop, grow and strengthen. The goal is to form mutually beneficial partnerships that make both countries' stronger (ref #55, ref #56). The People's Republic has also shown great leniency with the terms of their investment, there are many examples of them renegotiating loans or providing debt relief when countries have struggled to pay (ref #57, ref #58). They have forgiven $10 billion in debt to third world countries (ref #59). Capitalist countries enforce property rights with the violence of the state. The fact that China doesn't have military bases in almost all the countries they invest in gives those countries a substantial level of power. They could decide to not repay China, but this would result in them losing a very formidable and valuable friend. China's lack of violent intimidation towards other countries could be described as libertarian. In the future their behaviour may change, but so far they have become hugely influential around the world by much more humanistic methods than how the European/US empires were built.\r\n    </p>\r\n    <p>\r\n    There are numerous common talking points that are made in the capitalist media when talking about the supposedly “authoritarian” nature of China. We often hear about the oppression of the Uighur and Tibetan people, as well as the religious sect Falun Gung. The alleged Tiananmen Square massacre is frequently referred to. In all cases, these allegations are provably false and slanderous. The suggestion that the People's Republic is committing cultural genocide against the Uighur people or locking them up in concentration camps is simply not true. In 2019  two coalitions sent competing letters to the UN Human Rights Council, one block condemning China's prisons in Xinjiang and another block showing support. Most of the countries condemning the prisons were western European countries, many with extensive histories of ruthless imperialism and colonialism, many who had committed genocide themselves numerous times. Most of the countries supporting China were Muslim majority countries, third world or socialist. The Palestinians, the worst oppressed nation of mostly Muslim people, approved of China's Uighur prison camps (ref #60). The truth is that it is about counteracting a very real terrorist threat and the prisons themselves are very humane and rehabilitative. The Communist Party practices very strong affirmative action. The government actively tries to lift up disadvantaged groups in society in order to raise everyone to the same level and give all Chinese people an equal opportunity in life. Some regions are more poor or less developed and need more assistance than others so the government gives them more support. This is communist philosophy in practice, it is an example of the principle, “from each according to their ability, to each according to their need”. For example minority groups like the Uighur and Tibetan people receive extra subsidies  for health, education, infrastructure and a variety of other reasons. Entrance scores for tertiary education are reduced and university substantially cheaper. Quotas are sometimes set for particular jobs where a certain number of disadvantaged minorities must be chosen (ref #61). The capitalist media often mentions Chinese oppression and organ harvesting from the Falun Gung religion. First of all, we must consider that the practice of transplanting organs from people who have recently died and assuming they consent unless they say otherwise, is relatively common. When you die, you no longer need the organs, you may as well use them to save somebody else's life. Many countries have this policy, including all of Scandinavia, France, Portugal, Greece, Austria, Belguim and many other places that are generally not regarded as being controlled by “authoritarian”, regimes. In 2017, China decided to ban this practice with regards to executed criminals due to concerns about this distorting the outcome of the judicial process (ref #62, ref #63). There are members of the Falung Gung group who are actual criminals and many of the religions' teachings are dangerous and harmful. They have prejudiced views towards homosexuals and interracial children. The leaders advise people not to take medicine. Falung Gung is also associated with a far right wing/fascist newspaper called the Epoch Times (ref #64, ref #65). With the Tiananmen square protests of 1989, there are strong reasons to believe that the story of the government massacring innocent protesters has been fabricated as anti-communist propaganda. There was certainly some violence, nobody really denies this. However, the communist party claim that a small minority of the protesters became violent, shooting at and throwing molotov cocktails at the People's liberation army, who then fired on the agressors in self defence. No photographic or video evidence shows who initiated the violence and therefore who was actually the aggressor. Deng Xiaoping's pro-capitalist reforms that began in 1978 were a valid cause for anxiety among the population. This was a new experimental strategy that could justifiably be viewed as compromising socialism to some extent. In hindsight, Xioaping's reforms have proven to be very successful, with strong net benefits for the Chinese population, however it was natural for people to be worried and a restoration of full capitalism. The western media has misrepresented the protests as being about demands for a western, bourgoise style of democracy while in reality, many were protesting because they were worried that their political system might become a capitalist type of democracy. Very drawn out negotiations between the government and protest leaders came to nothing and eventually the Party decided to send soldiers to move the protesters out of the square. No western journalists claim to have actually been present when the fighting started and there is no real basis for the positive assertion that there was a cold blooded massacre of innocent people (ref #66, ref #67). The capitalist media does some very extreme mental gymnastics in order to portray Socialist countries like China in a negative way.\r\n    </p>\r\n    <p>\r\n    China has become a highly innovative, cutting edge country. They have created the most powerful quantum supercomputers by far, 1 million times faster than Google's quantum computer (ref #68, ref #69, ref #70). The People's Republic has constructed a quantum internet that can transmit information instantaneously, faster than the speed of light (ref #71, ref #72). They are building enormous construction projects, like a dam, entirely with robots (ref #73). China can build ten story buildings in 29 hours (ref #74). They have the world's largest super fast train network and the world's fastest trains (ref #75, ref #76). The People's Republic has constructed a 6g mobile network that is 10-20 times faster than 5g (ref #77). They also have the most powerful fusion reactors, they can maintain a reaction five times hotter than the sun for 17 minutes (ref #78, ref #79). China must be a very exciting place to live where people can really look forward to a brighter future.\r\n    </p>\r\n    <p>\r\n    In conclusion, it is quite clear what China actually is. The People's Republic is a mostly socialist country that has made some relatively large concessions to the Bourgeoisie. These compromises have resulted in strong overall net benefits for the population, enormous improvements to the standard of living and quality of life. China is responsible for the most dramatic and rapid poverty alleviation in all of human history. 850 million Chinese people who used to be impoverished now have all their basic needs met. This prosperity has not resulted from imperialistic exploitation of workers in other countries. China has relatively libertarian, mutually beneficial relationships with foreign countries. They have created very strong economic growth in Africa and other Third World areas of the Earth. The Capitalist media of western countries has slandered China terribly precisely because of their enormous humanistic achievements. Hopefully, within the next few decades, China will overtake the United States of America as the dominant global superpower and this will be a very positive thing for working class people around the world.\r\n    </p>\r\n    <h2>References</h2>\r\n    <p>\r\n    1)https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000700230243-5.pdf CHINA”S ECONOMIC ACHIEVEMENTS AND THE 1955 Leipzig SPRING FAIR\r\npage 2 para 2, page 2 para 3\r\n2)https://www.cia.gov/readingroom/docs/CIA-RDP62S00545A000100090004-3.pdf COMMUNIST CHINA'S ECONOMY – CURRENT AND FUTURE page 1 para 3, page 4 para 2, page 5 para one\r\n3)https://www.cia.gov/readingroom/docs/CIA-RDP78-02771R000300120006-7.pdf 'COLLECTIVE LIFE' AND THE FAMILY IN CHINA'S COMMUNES page 2 para 4\r\n4)https://www.cia.gov/readingroom/docs/CIA-RDP79R01142A001100040002-1.pdf THE ROLE OF WOMEN IN CHINA page 1 para 1, page 2 para 1, page 1 para 3\r\n5)https://www.cia.gov/readingroom/docs/CIA-RDP82-00457R007600040003-5.pdf  WOMEN IN NEW CHINA Page 19 para 3, page 23 para 2, page 45 para 3, page 46 para 5, page 54 para 3-4, page 56 para 1\r\n6)https://www.cia.gov/readingroom/docs/CIA-RDP79-00927A007400010002-0.pdf China Twenty Years After Communism page 3 para 3, page 7 para 2\r\n7)https://www.europenowjournal.org/2018/09/04/famine-and-dearth-in-medieval-england/\r\n8)https://en.wikipedia.org/wiki/List_of_famines\r\n9)https://www.historyextra.com/period/medieval/why-did-people-die-danger-medieval-period-life-expectancy/\r\n10)https://www.macrotrends.net/countries/CHN/china/death-rate\r\n11)https://data.worldbank.org/indicator/SP.DYN.CDRT.IN?locations=CN\r\n12)https://www.statista.com/statistics/1041350/life-expectancy-china-all-time/\r\n13)https://www.macrotrends.net/countries/CHN/china/life-expectancy\r\n14)https://www.macrotrends.net/countries/CHN/china/gdp-per-capita\r\n15)http://data.un.org/Data.aspx?d=SNAAMA&f=grID%3A101%3BcurrID%3AUSD%3BpcFlag%3A1%3BcrID%3A810\r\n16)https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?locations=AU\r\n17)https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000401280001-8.pdf CHINA's ECONOMIC REFORMS: STRETCHING SOCIALISM page 1 para 3\r\n18)https://www.cia.gov/readingroom/docs/CIA-RDP85T01058R000201610001-6.pdf CHINA:COPING WITH ACCELERATED GROWTH 1985 page 2 para 1\r\n19)https://www.cia.gov/readingroom/docs/DOC_0005467611.pdf CHINA”S DOMESTIC ECONOMY AND TRADE page 1 para 1\r\n20)https://data.worldbank.org/indicator/NY.ADJ.NNTY.PC.CD?locations=CN\r\n21)https://www.numbeo.com/cost-of-living/compare_countries_result.jsp?country1=China&country2=Australia\r\n22)https://www.expatistan.com/cost-of-living/country/comparison/australia/china\r\n23)https://livingcost.org/cost/australia/china\r\n24)https://www.mylifeelsewhere.com/cost-of-living/china/australia\r\n25)https://www.nationmaster.com/country-info/compare/Australia/China/Cost-of-living\r\n26)https://news.harvard.edu/gazette/story/2020/07/long-term-survey-reveals-chinese-government-satisfaction/\r\n27)https://www.washingtonpost.com/news/worldviews/wp/2014/09/26/newly-armed-police-in-china-say-they-fear-their-guns-as-much-as-public/\r\n28)http://www.china.org.cn/china/2014-04/21/content_32154769.htm\r\n29)https://www.aic.gov.au/sites/default/files/2020-05/sarre.pdf\r\n30)https://www.abc.net.au/radio/programs/nightlife/history-police-guns/13622148\r\n31)https://www.sentencingcouncil.vic.gov.au/sentencing-statistics/international-imprisonment-rates\r\n32)https://law.yale.edu/china-center/resources/public-participation-china\r\n33)https://www.brookings.edu/blog/order-from-chaos/2020/06/08/chinese-law-requires-public-consultation-in-lawmaking-what-does-it-mean-for-the-hong-kong-national-security-legislation/\r\n34)https://en.wikipedia.org/wiki/Chinese_People%27s_Political_Consultative_Conference\r\n35)https://www.globaltimes.cn/page/202206/1269361.shtml\r\n36)Li, Yao (April 2019). \"A Zero-Sum Game? Repression and Protest in China\". Government and Opposition. 54 (2): 309–335. doi:10.1017/gov.2017.24. ISSN 0017-257X.\r\n37)https://www.telesurenglish.net/analysis/Scandinavias-Covert-Role-in-Western-Imperialism-20170320-0022.html\r\n38)https://nordics.info/show/artikel/the-colonialism-of-denmark-norway-and-its-legacies\r\n39)https://en.wikipedia.org/wiki/Scandinavian_colonialism\r\n40)https://www.forsvaret.dk/en/roles-and-responsibilities/International-operations/\r\n41)https://www.forsvarsmakten.se/en/activities/current-international-missions/#:~:text=Some%20360*%20Swedish%20military%20personnel,*As%20of%20February%202020.\r\n42)https://en.wikipedia.org/wiki/Norwegian_military_operations_abroad\r\n43)https://www.forsvaret.no/en/exercises-and-operations/international-operations\r\n44)https://www.npr.org/2019/04/15/713495558/president-trump-called-former-president-jimmy-carter-to-talk-about-china\r\n45)https://www.newsweek.com/donald-trump-jimmy-carter-china-war-infrastructure-economy-trade-war-church-1396086\r\n46) Liu, Tao Tao; Faure, David (1996). Unity and Diversity: Local Cultures and Identities in China. Hong Kong University Press. ISBN 978-9622094024. Retrieved 10 March 2014. page78\r\n47)Szczepanski, Kallie (31 May 2018). \"Was Tibet Always Part of China?\". ThoughtCo.\r\n48)Lamb, Alastair (1989), Tibet, China & India, 1914-1950: A history of imperial diplomacy, page 2-3 Roxford Books, ISBN 9780907129035\r\n49) https://www.mfa.gov.cn/ce/ceca/eng/sgxw/t1814543.htm\r\n50)Teng, Emma Jinhua (2004), Taiwan's Imagined Geography: Chinese Colonial Travel Writing and Pictures, 1683–1895, page 34-59, Cambridge MA: Harvard University Press, ISBN 978-0-674-01451-0.\r\n51) \"Nam Viet | ancient kingdom, Asia\". Encyclopædia Britannica. 20 July 1998. Retrieved 31 July 2020.\r\n52)Vinayak Bhat, Col (October 30, 2020). \"Construction fast-tracked at China PLA's first overseas base in Djibouti\". India Today. Retrieved November 20, 2020.\r\n53)Foreign Ministry Spokesperson Hong Lei's Regular Press Conference on January 21, 2016\". Ministry of Foreign Affairs of the People's Republic of China. January 21, 2016. Archived from the original on May 18, 2017.\r\n54)https://politicstoday.org/djibouti-surrounded-by-military-bases-of-china-us-france-uk-germany-others/\r\n55)https://www.sciencedirect.com/science/article/pii/S2590291122000304\r\n56)https://openknowledge.worldbank.org/bitstream/handle/10986/33529/wber_32_3_610.pdf?sequence=1&isAllowed=y\r\n57)https://www.economist.com/finance-and-economics/2022/02/12/china-does-not-always-collect-its-debts-on-time\r\n58)http://www.sais-cari.org/debt-relief#:~:text=In%20February%20of%202021%2C%20Chinese,program%20is%20managed%20by%20CIDCA.\r\n59)https://www.forbes.com/sites/kenrapoza/2019/05/29/china-has-forgiven-nearly-10-billion-in-debt-cuba-accounts-for-over-half/?sh=235edfc3615b\r\n60)https://thediplomat.com/2019/07/which-countries-are-for-or-against-chinas-xinjiang-policies/\r\n61https://digitalcommons.law.uw.edu/cgi/viewcontent.cgi?article=1147&context=wilj Affirmative Action, Ethnic Minorities and China's Universities page 3-5\r\n62)https://www.kidney-international.org/article/S0085-2538(19)30185-1/fulltext\r\n63)https://www.washingtonpost.com/world/asia_pacific/in-the-face-of-criticism-china-has-been-cleaning-up-its-organ-transplant-industry/2017/09/14/d689444e-e1a2-11e6-a419-eefe8eff0835_story.html\r\n64)https://www.abc.net.au/religion/the-abc-is-right-that-falun-gong-teachings-are-dangerous/12538058\r\n65)https://www.nytimes.com/2020/10/24/technology/epoch-times-influence-falun-gong.html\r\n66)https://www.criticalsocialworkpublishinghouse.com/post/1989-tiananmen-square-student-massacre-was-a-hoax\r\n67)https://www.workers.org/2022/06/64607/\r\n68)https://www.indiatimes.com/technology/news/chinese-worlds-fastest-quantum-computer-552715.html\r\n69)https://www.scmp.com/news/china/science/article/3153727/china-launches-worlds-fastest-programmable-quantum-computers\r\n70)https://www.independent.co.uk/tech/china-scientists-programmable-quantum-computers-b1946018.html\r\n71)https://phys.org/news/2021-01-world-quantum-network.html\r\n72)https://www.newscientist.com/article/2281591-quantum-data-link-established-between-two-distant-chinese-cities/\r\n73)https://www.scmp.com/news/china/science/article/3176777/chinas-robot-built-3d-printed-dam-ready-2-years-scientists\r\n74)https://www.designdekko.com/featured/10-storey-building-made-in-28-hours-and-45-minutes-with-pre-fabricated-containers-in-china#:~:text=Chinese%20developer%20BROAD%20has%20made,how%20they%20accomplished%20this%20feat.&text=The%20BROAD%20group%20in%20China,28%20hours%20and%2045%20minutes.\r\n75)https://edition.cnn.com/travel/article/china-high-speed-rail-cmd/index.html\r\n76)https://edition.cnn.com/travel/article/china-fastest-maglev-train-intl-hnk/index.html\r\n77)https://nextshark.com/chinese-lab-sets-record-for-fastest-internet-transmission/#:~:text=faster%20than%205G-,Chinese%20lab%20claims%20world%20record%20with%206G%20breakthrough%2C%2010,20%20times%20faster%20than%205G&text=A%20state%2Drun%20lab%20in,those%20of%20most%205G%20networks.\r\n78)https://www.livescience.com/chinas-1-trillion-artificial-sun-fusion-reactor-just-got-five-times-hotter-than-the-sun\r\n79)https://www.smithsonianmag.com/smart-news/chinas-artificial-sun-reactor-broke-record-for-nuclear-fusion-180979336/\r\n    </p>\r\n    </div>\r\n  )}\r\n","import React, {useEffect} from 'react'\r\n\r\nexport default function Cuba() {\r\n  useEffect(() => {\r\n      pageCounter()\r\n  }, [])\r\n\r\nfunction pageCounter(){\r\nconst options = {\r\n  method: 'put',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  body: ''\r\n}\r\n fetch(\"/groups/addtopagecounter/cuba\", options\r\n).then(res => {\r\nreturn res.json()\r\n}).catch(err => {\r\nconsole.error(err);\r\n})\r\n}\r\n  return (\r\n    <div style={{marginLeft:\"5vw\",marginTop:\"3vw\",width:\"90vw\"}}>\r\n    <h1>Cuba</h1>\r\n    <p>\r\n    Thanks to the release of numerous formerly classified CIA documents, we now know the truth about Cuba. Most of the references for this article are directly from the website of the worst enemy of Socialism, the Central Intelligence Agency of the United States Government. There are many very rich and powerful people in this world who have strong motives for slandering Socialist countries like Cuba (especially Cuba) and hugely disproportionate access to mass mediums through which to spread these lies. The Communist Party of Cuba are radical humanists who have dramatically improved the quality of life of the the Cuban people. The government have taken large steps towards guaranteeing that all Cubans will have their basic needs met, massively reducing poverty and guaranteeing the necessities of life are affordable and in many cases provided for free at public expense. Housing, public transport, electricity, university, childcare and many other essential services are either free or cheap. The Communist party have greatly improved that status of African people and women, eliminating the worst aspects of racism and sexism. The standards of health and education are the best in the third world and in many ways as good or better than some first world countries. The Party created a much more fair and equitable distribution of wealth than Capitalist countries. Their private sector is largely worker-cooperatives, 30% of their GDP is produced by democratic businesses and self-employed people where the workers are the shareholders. The public sector is somewhat like an enormous co-operative in which all Cubans are a member and the goal is to meet human needs instead of generating profits. Their society is highly unionised with the vast majority of their people in at least one union and most work arrangements negotiated through unions. Recently, the sustainable development index found Cuba to be the most sustainable country in the world.\r\n    </p>\r\n    <p>\r\n    When you look through the references for this essay, you may find it strange to see the worst enemies of Socialism admitting very blatantly that communism leads to superior economic performance for ordinary people. This is because the Capitalist ruling class have quite a fundamentally different point of view. Their lives are largely insulated from the consequences of their actions. They mostly spend time with other elites who think in a similar way and they reinforce each others ideology and belief in their own superiority to ordinary people. In many cases they genuinely believe that capitalism is actually meritocratic and that their own merciless sociopath behaviour makes them superior to normal people. They simply do not see wage growth, low unemployment rates and dramatic improvements to the standards of health as a good thing. As long as there is economic growth and rich people are getting richer, then the economy is going great from their point of view. They simply do not see high rates of homelessness and poverty as something shameful that reflect poorly on their leadership. Therefore, most of the statistical evidence that demonstrates the huge social problems with capitalism comes directly from the statistics bureaus of the capitalist governments themselves, they don't try to hide these issues because they just don't see them as negative.\r\n    </p>\r\n    <p>\r\n    The Cuban Communist Party have created a much more humanistic economic system that is aimed at meeting the needs of population instead of generating profits for a ruling elite. The distribution of wealth is also more equitable than most capitalist countries. For most of the history of Cuba, the average income of Cubans has tended to increase, although there was a very sharp drop in the early 1990s with the collapse of the Soviet Union, their biggest trading partner and main source of fossil fuels (ref#1). The communist party created a much more egalitarian and equitable distribution of income. They also banned passive unearned incomes from rents, dividends, interest on loans or royalties (ref#2). Unemployment rates were dramatically reduced, making it much easier to find a job and to change job (ref#3). Numerous crowd sourcing cost of living websites show that the cost of living is relatively cheap in Cuba (ref#4,ref#5,ref#6,ref#7). This is data gathered by capitalist businesses, it is not Communist government propaganda. The Cuban economic planning system largely shelters the population from the inflation experienced by other countries in Latin America. Rationing and subsidies result in fairly steady prices for food and consumer goods. The government provides many subsidies, such as for rents, public utilities, public transport and medical services. All the basic necessities of life are affordable to all Cubans (ref#8). Cuba has an unusually high rate of home-ownership and close to zero homeless people (ref #9,ref #10,ref#11).\r\n    </p>\r\n    <p>\r\n    The revolution has brought enormous improvements to Cuba's education system. A large-scale public education program has effectively eliminated illiteracy and has significantly upgraded Cuban educational levels. The islands educational indicators are among the best in the third world, literacy rate has risen to about 96 percent the highest in Latin America and one of the highest in the world. (ref#12). Cuba has universal free education(ref#13).\r\n    </p>\r\n    <p>\r\n    Cuban socialism has resulted in enormous improvements to the status of women. In few other countries are men and women treated more equally than in Cuba. The Communist Party made strong efforts to reduce sexual discrimination and initiated policies to facilitate the entry of women into the workforce. They created subsidised day care centres to provide affordable childcare. In 1953 women were 17% of total work force, by 1975 this figure had risen to 28%. By 1980 more than 40 percent of the labour union leadership was female (ref #14). In 2021, 53% of representatives in the Cuban National Parliament were women. In capitalist countries, parliaments are usually less than one third female, effectively giving men twice as much power (ref #15). Since the Cuban communist party transformed the Island, the status of African people has enormously improved. Black people no longer encounter blatant discrimination in the juridical process. Organisations limiting their membership or their activities to a particular ethnic or racial group are illegal (ref #16, ref #17).\r\n    </p>\r\n    <p>\r\n    Cuba has a very high quality free universal healthcare system, the standards of health have improved enormously since the revolution. Their doctors have eradicated or almost eradicated diseases like polio, diphtheria, malaria and nutritional deficiencies. The rates of teenage pregnancy and infant mortality are unusually low, even when compared to developed countries. By 1980 life expectancy had been raised to 72 years, the highest in Latin America and comparable to many first world countries. Dietary improvement through guaranteed access to basic foodstuffs also has been a  major factor in combating nutritional deficiencies and an increasing resistance to disease (ref #18). Life expectancy is now 79 years. (ref #19).\r\n    </p>\r\n    <p>\r\n    Cuba is a genuinely internationalist country. Nothing about the way they interact with other countries can be described as even somewhat imperialistic. They do try to form mutually beneficial relationships with other countries. They host students from all around the world, 75 different third world countries. They set up schools in developing countries to provide cheap or free education. The socialist country also provides workers at little or no charge, they send doctors, construction workers, agricultural scientists and many other kinds of assistance that help alleviate third world problems. The cumulative value of this assistance amounts to about $400 million USD (ref #20). Cuba does not export capital in order to exploit poorer weaker countries like European Oligarchs have done for hundreds of years.\r\n    </p>\r\n    <p>\r\n    The revolutionary Island of Cuba has one of the most humane criminal justice systems in the world. Their focus is largely on rehabilitating criminals, giving them an opportunity to rebuild their lives. Incarcerated criminals are expected to study an acquire some sort of qualification if they don't have one already, this education is provided for free by the state. Inmates who are not studying are expected to work and they are paid the same amount for their labour as they would outside prison. One third is set aside to maintain the prison, pay the staff, guards, cleaners, cooks etc. They can keep the rest for themselves unless they are have any dependents who they must support. In this case, another fraction of their income is sent to the family. The rate of incarceration in Cuba is 190 per 100,000, in Australia, this figure is 214 per 100,000. (ref #21,ref #22). Professional Judges are always make their decisions with elected lay judges. The lay judges always outnumber the professional, 2 for 1 at lower level courts and 3 for 2 at higher level courts. This helps to ensure that professional judges have a genuine authority, grounded in knowledge, wisdom an moral integrity. The ability of the lay judges to overrule the professional ones means that there is greater pressure on professional judges to demonstrate their own legitimacy. They cannot make any judgement without persuading and convincing the lay judges. In capitalist countries, legal fees are usually extremely expensive, in Cuba, all lawyers are public workers, and their fees are quite heavily subsidised to make them affordable to all Cubans, not just the rich. It also is not possible to settle out of court, rich criminals cannot bribe their victims in order to escape punishment like they can in the United States (ref #21).\r\n    </p>\r\n    <p>\r\n    The capitalist media and capitalist academic literature generally describe Cuba's political system as highly coercive, authoritarian and tyrannical, as though the people living on the Island are too stupid to understand that their government has enormously improved their lives and the population just refuse to cooperate with this assistance. This is obviously ridiculous, the people are very supportive of the Cuban Communist Party and extremely proud of their own socialist achievements.  In our highly complicated modern world, some sort of representative democracy is needed. We must elect experts to make decisions about certain issues. Of course, a very direct sort of democracy like the one practised in Ancient Athens is inappropriate for advanced industrial societies. In Athens there was just a huge assembly that all citizens could attend and anyone can be involved in making decisions about anything. Today, democracy means electing a government that substantially fights to improve the lives of the population as much as possible. A government that actually shows leadership, tries to plan the economy in a rational way in order to meet the needs of the people, reduce exploitation and corruption as much as possible. A democratic government will try their best to consult and discuss with the population to try to reach collective decisions that most people are happy with, but also ones that are well informed with expert advice. If a question is relevant to you, or you have the expertise to understand it, then you should be directly involved in making that choice. By these criteria, Cuba probably has the most democratic government in the world. They have actively and strongly encouraged the population to participate in the political life of the island. Propaganda campaigns were used to encourage everyone to join and participate in at least one mass organisation or union (ref #23). In 2008, 81.4% of Cubans were members of unions (ref #24). The Cuban constitution was created in quite a unique way, through a process of heavy direct public consultation and debate involving the majority of the population and national referendum. No other country has had their entire constitution approved with a referendum and very few achieve such high rates of voter turnout and approval. Their two constitutional referendum, 1976 and 2019, both achieved above 85% voter turnout and 85% approval. The 1976 referendum had 98% voter turnout and 99% approval. Voting is voluntary in Cuba with no punishment or fine for abstaining (ref #25,ref #26,#27). This figures might seem too good to be true if you did not understand how enormously the Cuban government has improved the lives of the population. An integral aspect of Cuban self government is the Committees for the Defence of the revolution. These committees are a holistic system of direct democratic participation. Involvement is completely voluntary, however, the vast majority of people do join these collectives. This organisation has a range of functions, providing community services, performing a neighbourhood watch patrol, providing rehabilitation, mental health services and financial support for misdemeanour offenders (ref #28,ref #29). Besides mobilizing society for the defense of the revolution and the triumph of socialism, the CDRs also had a role in national literacy and vaccination campaigns. They maintain social hygiene by eradicating the origins of transmission for certain diseases. They popularly mobilized people for demonstrations for Elian Gonzalez, the “Five Heroes” spies, or Mariel Boatlift. The CDR is also vital for the National Civil Defense as they evacuate millions of people during hurricanes and are responsible for block clean up operations to remove debris and clear up roads, among others. CDR has additional responsibilities beyond monitoring individual's political and moral background; these include arranging community festivals, administrating voluntary community projects, and organising community attendance to mass rallies. Proponents further emphasise that CDRs have helped to put medical, educational, or other campaigns into national effect. They also act as centres for many who do not work in farms or factories, and hence include a large proportion of female membership. The CDRs also take an active role in vaccination campaigns, blood banks, recycling, practicing evacuations for hurricanes, and supporting the government in its fight against corruption (ref #29). Since the 1990s, Cuba has expanded their private sector, today about 29% of people are either self-employed or work for a co-operative enterprise. In co-operatives, the workers are the shareholders, they own the business, decide how profit is distributed, how much to pay to themselves and how much to reinvest. They can also elect their own managers and directors (ref #30). The Public sector is still very large, 72% of people work for public enterprises. At times, independent private firms do contracts for the government, leading to some ambiguity about how to classify them (ref #31). The public sector could be considered as an enormous co-operative that all Cubans are a member of, except it's purpose is not to make profit, but rather to meet the needs of the population and promote equality.\r\n    </p>\r\n    <p>\r\n    Cuba can be described as a semi-direct democracy that tries to incorporate the best aspects of both representative and direct democracy. They have created a political system that achieves a nice balance between democracy and technocracy, in other words, they reach decisions that are well informed with expert advice, but also ones that most people are happy with. Political lobbying is banned and money has little influence over their election process. All potential candidates have equal access to the state media with which to explain their credentials to the population. Their election procedure has been widely misrepresented in the Capitalist Media and Capitalist academic literature. Candidates are chosen in local direct assemblies that anyone can participate in. There are public debates and conversations about who is most suitable for leadership, each nominee submits their resume and people discuss who is most qualified, who has the best track record of improving the lives of the people they represent. After candidates are chosen, there is an election in which people can approve and disapprove of the candidate they have already chosen. If the candidate receives less than 50% approval, then another candidate is chosen and people can vote in a second round of elections. This almost never happens because the people have already chosen the candidate at their local assembly and the election is just to give a stamp of approval. This is a much more genuinely meritocratic way of choosing leaders than Capitalist election procedures. Cuba can be more accurately described as a \"no-party\" state than a \"one party\" state. candidates are chosen directly by the people and are not appointed by the Cuban Communist Party. The Communist Party mainly just has moral and intellectual authority and not power (ref #32, ref #33).\r\n    </p>\r\n    <p>\r\n    Cuban socialism also recognises that the well-being of the human race is inextricably linked with the well-being of planet Earth. Cubans are highly environmentally progressive. In 2015 they were found to be the most sustainably developed country in the world by the Sustainable Development Index (ref #34). Most of the Island's food is produced by permaculture techniques in agricultural co-operatives. Cuban agricultural scientists are also pioneers in the field of organic farming, creating many of their own innovative techniques to increase yields sustainably (ref #35,ref #36).\r\n    </p>\r\n    <p>\r\n    The only authoritarian regime trying to tyrannise Cuba is the United States oligarchy. The achievements of the Cuban revolution are embarrassing to these elites. The United States is the richest country in the world but still there are half a million people living on the streets while Cuba has close to zero homeless people. In the USA Monopolistic pharmaceutical companies extort vast sums of money from people in exchange for vital medicines they need to live and encourage doctors to over prescribe highly addictive opiates and psycho-stimulants. The United States has an very token kind of democracy, statistical analysis has demonstrated that the views of ordinary US citizens have close to zero impact on decisions made by the government (ref #37), rates of union membership are vastly lower than Cuba (only 10%)(ref #38), the co-operative and public sectors are vastly smaller (ref #39,ref#40). Real wage growth in the States has stagnated since the 1980s (ref #41). The USA one of the most economically unequal countries in the world, while Cuba is one of the most equitable (ref #42). The CIA tried and failed to assassinate the leader of Cuba, Fidel Castro 638 times (ref #43, ref #44). They have made numerous attempts to sabotage and destroy Cuba's socialism, one notable example was Operation Mongoose (ref #45). Since relatively soon after the Cuban revolution, the United States has blockaded Cuba's economy with the explicit goal of starving and impoverishing the entire population of the country. This is obviously an extremely sadistic and completely disproportionate punishment (ref #46). In 2010, a secret diplomatic cable from the United States Government, obtained and released by wikileaks revealed that political dissidents have little support in Cuba (ref #47).\r\n    </p>\r\n    <p>\r\n    Supposed Human Rights NGOs like Amnesty International and Human Rights watch frequently slander Cuba, accusing them of human rights abuses. It is quite clear that these are deeply corrupt organisations, accepting enormous bribes (they call them “grants”) from ruthless imperialistic capitalist governments and billionaires. Amnesty claims on their website that they do not accept money from governments so that they can stay independent of political ideology, but this is a blatant lie, you can see in the accounts they publish on their own website that they clearly have taken many millions of dollars in bribes from the US, UK, Israeli, French and many other governments. Human Rights Watch's biggest donor is the billionaire George Soros (ref #48, ref #49, ref #50).\r\n    </p>\r\n    <p>\r\n    In conclusion, there is a very extensive number of United States government documents that prove quite conclusively what Cuba actually is. The Socialist island is a beacon of hope for working class people around the world. Cuba represents a possible world without imperialism, exploitation, oppression, domination or bullying of any kind. Cuba has demonstrated that this is a practical and viable reality and not a utopian fantasy. They pose an immense threat to the socio-pathic oligarchs who rule planet Earth. The Capitalists have slandered Cuba terribly because they don't want us to know that their own authority is completely illegitimate. They are a burden on us and they take vastly more than they give.\r\n    </p>\r\n    <br/>\r\n    <h2>References</h2>\r\n    <p>\r\n    1) https://wid.world/country/cuba/\r\n    2) The Cuban Economy: Model for third world development? Page 2, page 13 paragraph 4, page 14 paragraph 1\r\n    https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000100490001-9.pdf\r\n    3) The Cuban Economy: Model for third world development? Page 18 paragraph 1\r\n    https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000100490001-9.pdf\r\n    4) https://www.numbeo.com/cost-of-living/compare_countries_result.jsp?country1=Cuba&country2=Australia\r\n    5) https://livingcost.org/cost/australia/cuba\r\n    6) https://www.mylifeelsewhere.com/cost-of-living/australia/cuba\r\n    7) https://www.expatistan.com/cost-of-living/country/comparison/australia/cuba\r\n    8) The Cuban Economy: Model for third world development? Page 15 para 4, page 15 para 1\r\n    https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000100490001-9.pdf\r\n    9) https://borgenproject.org/homelessness-in-cuba/\r\n    10) https://www.propertyrescue.co.uk/useful-guides-articles/world-countries-highest-rates-homeownership/\r\n    11) https://www.worldatlas.com/articles/countries-with-the-highest-home-ownership-rates.html\r\n    12) The Cuban Economy: Model for third world development? Page 2,page 18 para 4\r\n    https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000100490001-9.pdf\r\n    13) Cuba: Social inequality page 1 para 2 https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000101190001-1.pdf\r\n    14) Cuba: Social inequality page 2 para 5 https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000101190001-1.pdf\r\n    15)  https://data.worldbank.org/indicator/SG.GEN.PARL.ZS\r\n    16) Cuba: Social inequality page 1 para 2, page 2 para 1, https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000101190001-1.pdf\r\n    17) A Cuban Balance Sheet; Batista and Castro regimes in Cuba, page 5 para 2\r\n    https://www.cia.gov/readingroom/docs/CIA-RDP79T01148A000600030049-9.pdf\r\n    18) The Cuban Economy: Model for third world development? page 20 para 2, Page 19 para 5, Page 19 para 4 https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000100490001-9.pdf\r\n    19) https://data.worldbank.org/indicator/SP.DYN.LE00.IN?locations=CU\r\n    20) Castro's reach into the third world: the cuban economic assistance program. Page 4 para 1, page 12 para 6, page 13 para 3 https://www.cia.gov/readingroom/docs/CIA-RDP90T01298R000300070001-4.pdf\r\n    21) World Factbook of Criminal Justice Systems – Cuba. page 8 para 6, page 8 para 7, page 12 para 4, page 12 para 12  https://bjs.ojp.gov/content/pub/pdf/wfbcjsc.pdf\r\n    22) https://www.abs.gov.au/statistics/people/crime-and-justice/prisoners-australia/latest-release\r\n    23) The Cuban Economy: Model for third world development. Page 22 para 1-2 https://www.cia.gov/readingroom/docs/CIA-RDP85T00287R000100490001-9.pdf\r\n    24) https://ilostat.ilo.org/topics/union-membership/\r\n    25) https://www.wola.org/analysis/cubas-new-constitution-explained/\r\n    26) https://www.reuters.com/article/us-cuba-constitution-referendum-idUSKCN1QE22Y\r\n    27) https://en.wikipedia.org/wiki/1976_Cuban_constitutional_referendum\r\n    28) https://www.justice.gov/sites/default/files/eoir/legacy/2013/11/07/CUB103443.FE.pdf\r\n    29) https://www.ecured.cu/Comit%C3%A9s_de_Defensa_de_la_Revoluci%C3%B3n\r\n    30) U.S.–CUBA COOPERATIVE WORKING GROUP 2017 REPORT UNDERSTANDING COOPERATIVES IN CUBA AND OPPORTUNITIES FOR U.S.– CUBAN ENGAGEMENT Page 8 para 7 https://www.ncba.coop/images/Cuba-Photo-Gallery/Cuba-Report-2017-FINAL.pdf\r\n    31) Torres, Ricardo (2 June 2016). \"Economic transformations in Cuba: a review\". Third World Quarterly. 37 (9): 1683–1697. doi:10.1080/01436597.2016.1177454. S2CID 156099431.\r\n    32) https://www.greenleft.org.au/content/ten-truths-about-cuba-general-elections\r\n    33) https://www.greenleft.org.au/content/myth-and-reality-cuban-electoral-system\r\n    34) https://sites.psu.edu/sovas3a/2020/02/03/cuba-found-to-be-the-most-sustainably-developed-country-in-the-world-new-research-finds/\r\n    35) https://www.panoramas.pitt.edu/health-and-society/sustainable-agriculture-cuba-urban-farming-and-%E2%80%9Corganop%C3%B3nicos%E2%80%9D\r\n    36) https://www.permaculturenews.org/2013/09/09/how-cuba-leads-the-world-in-permaculture-podcasts-parts-i-ii/\r\n    37) https://scholar.princeton.edu/sites/default/files/mgilens/files/gilens_and_page_2014_-testing_theories_of_american_politics.doc.pdf\r\n    38) https://www.pewresearch.org/fact-tank/2022/02/18/majorities-of-adults-see-decline-of-union-membership-as-bad-for-the-u-s-and-working-people/#:~:text=The%20share%20of%20U.S.%20workers,very%20little%20since%20last%20year.\r\n    39) https://link.springer.com/chapter/10.1057/9781403920171_5#:~:text=The%20public%20sector%20employs%2020.2,federal%2C%20state%20and%20local%20government.\r\n    40) https://www.aciamericas.coop/Economic-impact-of-the-United\r\n    41) https://www.epi.org/blog/growing-inequalities-reflecting-growing-employer-power-have-generated-a-productivity-pay-gap-since-1979-productivity-has-grown-3-5-times-as-much-as-pay-for-the-typical-worker/#:~:text=The%20gap%20between%20productivity%20and%20a%20typical%20worker's%20compensation%20has,hourly%20compensation%20growth%2C%201948%E2%80%932019&text=Notes%3A%20Data%20are%20for%20compensation,productivity%20of%20the%20total%20economy\r\n    42) https://en.wikipedia.org/wiki/List_of_countries_by_income_equality\r\n    43) Escalante Font, Fabián [es] (2006). Executive Action: 634 Ways to Kill Fidel Castro. Melbourne: Ocean Press. ISBN 1920888721.\r\n    44) https://www.abc.net.au/triplej/programs/hack/how-castro-survived-638-assassination-attempts/8064788\r\n    45) MEMORANDUM OF (Sanitized)MEETING HELD ON THURSDAY, OCTOBER 4, 1962. Page 8 para 7 https://www.cia.gov/readingroom/docs/CIA-RDP80B01676R001700180033-1.pdf\r\n    46) https://history.state.gov/historicaldocuments/frus1958-60v06/d499\r\n    47) https://www.reuters.com/article/us-cuba-dissidents-wikileaks-idUKTRE6BG1NJ20101217\r\n    48) https://www.ngo-monitor.org/ngos/human_rights_watch_hrw_/\r\n    49) https://www.ngo-monitor.org/reports/breaking_its_own_rules_amnesty_s_gov_t_funding_and_researcher_bias/\r\n    50) https://www.amnesty.org/en/about-us/how-were-run/finances-and-pay/\r\n    </p>\r\n    </div>\r\n  )}\r\n","import React, {useEffect} from 'react'\r\n\r\nexport default function Yugoslavia() {\r\n\r\n\r\n      useEffect(() => {\r\n          pageCounter()\r\n      }, [])\r\n\r\n  function pageCounter(){\r\n    const options = {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: ''\r\n    }\r\n     fetch(\"/groups/addtopagecounter/yugoslavia\", options\r\n  ).then(res => {\r\n    return res.json()\r\n  }).catch(err => {\r\n    console.error(err);\r\n  })\r\n  }\r\n\r\n  return (\r\n    <div style={{marginLeft:\"5vw\",marginTop:\"3vw\",width:\"90vw\"}}>\r\n    <h1>Yugoslavia</h1>\r\n    <p>\r\nThe Socialist Federal Republic of Yugoslavia (SFRY) was a very encouraging experiment in Socialism that existed from 1945 to 1992. As with most other Communist countries, the CIA archives provide us with an abundance of valuable sources that tell a very clear story, one of massive improvements to the quality of life of the population. There were enormous gains in health, education, political participation, real wage growth and social equality. Yugoslavia had a very distinctive “self-management” system. This was much more decentralised than the Soviet Union, giving much more power to individual organisations, each of which was controlled by an elected worker council. Yugoslavia also experienced some economic difficulties that the USSR did not, inflation, higher unemployment and economic cycles. On the whole, despite it's faults, this Balkan Socialist country set a very promising example of what a world without exploitation, domination and imperialism could look like.</p>\r\n    <p>\r\n    Overall, socialism in Yugoslavia resulted in a substantially more humanistic political/economic/social system that was better at meeting the needs of the population and improving their quality of life than capitalism. Gross National Product tripled between the between the foundation of The Socialist Federal Republic of Yugoslavia (1945) and 1973. This growth was targeted at improving the general standard of living of the population, with enormous improvements to the quality of education, healthcare, social equality, social security and political equality. Yugoslavia did have persistent problems with inflation, however, gdp growth, as well as gdp per capita growth tended to outpace this rise in prices (ref #1,ref #2,ref #3,ref#4). Living levels in both the rural and urban areas improved markedly between 1950 and 1973 and became considerably higher than pre-World War Two Yugoslavia. Peasants in even the poorest parts of the country were drawn into the money economy and had cash at their disposal for the purchase of clothing, furniture and consumer durables which traditionally had been a rarity in most peasant households. The variety and quality of goods available to the Yugoslav consumer compared favourably with other Eastern European countries and prices were generally lower relative to wages than elsewhere in Eastern Europe. In many instances, however, an apartment was included with the workers job at a nominal rent. Economic inequality became dramatically reduced, the earnings ratio between persons with university-level training and the unskilled workers was roughly 3:1 (ref #5). The government practised affirmative action, they actively channelled funds into less developed regions in order to narrow the gap between developed and underdeveloped parts of the federation(ref #6).\r\n    </p>\r\n    <p>\r\nYugoslavia had very extensive political democracy. They attempted to create a new kind of representative democracy that was much more suited to an industrial, scientifically and technologically advanced society. Of course, our modern world is extremely complicated and it is necessary to somehow elect experts to make decisions about certain questions. Yugoslavia attempted to create a nice balance between democracy and technocracy, decisions that most people are happy with, but also that are well informed with expert knowledge. It was not a direct democracy in the sense the Ancient Athens was a direct democracy, with a large assembly that anyone can attend and anyone can vote in and make proposals. Instead, power was quite evenly spread out so that people could be involved in making decisions about things that were relevant to them (ref #7). Almost all organisations had an elected governing council and rates of union membership were very high. Public participation in government had grown hugely. A particular important organ of popular political involvement was The Socialist Alliance of Working People of Yugoslavia, which became a place where the voice of the people could be heard. Meetings were used as the forum for open debates on constitutional amendments and the organisation's concomitant drive to strengthen ties with socialist parties in the west (ref #8). Extremely significant was the flexibility the Yugoslavs showed in introducing their reforms. This indicated a genuine willingness on the part of the government to listen to domestic criticisms and to meet objections if they appear valid. Constitutional amendments were often substantially altered in response to this criticism (ref #9). Workers became increasingly articulate, and strikes, or work stoppages as they were euphemistically called, became a highly effective means of gaining demands (ref #10). Yugoslavia's university students even became involved in the governance of their own academic institutions. In 1970, students in Zagreb succeeded in defeating a candidate for school pro-rector who had been approved by the communist party (ref #11). In 1969 Serbia amended their university law to allow faculty and students a free hand in the election of their deans and rectors (ref #12). The self-management system was eventually introduced into virtually all elements of Yugoslav society. Even prisoners are encouraged to form councils in order to increase their production and to prepare themselves better to fit into a self-managed society when they would be released (ref #13). Self management had many strengths, however it also seemed to create problems with inflation, an ongoing, chronic economic problem for Yugoslavia. Many enterprise councils, in the absence of competitors, would raised prices in order to increase wages (ref #14). Self management was even applied to the judicial system. Every citizen who was of age could be elected a judge or judge-juror. Judges and judge-jurors are elected or dismissed by the people's executive councils and the people's assemblies. Judges and judge-jurors made their judgements together, the jurors always outnumber the professional judges and can outvote them. This helps to ensure the moral authority of judge is legitimate, they must demonstrate their trustworthiness and moral integrity in order to make judgements (ref #15).\r\n    </p>\r\n    <p>\r\nThis increased of political democracy, combined with the leadership of the Communist Party, resulted in a very generous social security system. They made great progress towards guaranteeing all Yugoslav people would have their basic needs met. Between 1945 and the 1970s, the social security budget increased 600% (ref #16). The government introduced extensive subsidies for public health care, temporary disability and illness, old age pensions and assistance to mothers. In particular, there were a great number of benefits intended to take the pressure of child raising off women, making it easier for them to study at technical colleges or universities and gain employment. Women received 90 days paid maternity leave after having a baby, a range of other subsidies to help pay for food, clothing and other necessities. There were also subsidised public childcare services that low income families could use for free (ref #17). Like most other Socialist revolutions, there was an enormous improvement to the status of women. Disabled workers were entitled to another corresponding job and received a disability pension if they needed to train in a new career (ref #18,ref #19). Pensions were also given to family members of disabled people if a physician said their support was required (ref #20, ref#21). The education system dramatically improved and was extended to all citizens. Before the revolution, the population had been largely illiterate and uneducated, Communism brought an end to this (ref #22, ref #23, ref #24).\r\n    </p>\r\n    <p>\r\n    Communism brought enormous improvements to the standards of health in Yugoslavia. The rate of death declined from 12.7 per 1000 in 1947 to 8.7 per 1000 in 1968. Infant mortality dropped from 116 per 1000 in 1953 to 59.8 per 1000 for males and 54.3 per 1000 for females. Hospital services expanded hugely, there was 1 hospital bed per 180 Yugoslav people (ref #25). Medical students could study for free and received a stipend to cover their living expenses. Textbooks were also provided for free. Yugoslavia experienced a levelling of educational opportunities, people of all economic levels could study what they were wanted without discrimination(ref #26).\r\n    </p>\r\n    <p>\r\n    By now it should be clear that the label “authoritarian” simply just doesn't apply to the Socialist Federal Republic of Yugoslavia. The party possessed a genuine kind of authority, the authority of knowledge, wisdom, humility and moral integrity. In the beginning, it may have been necessary for them to use power in order to effect the transition to socialism, but this gradually faded as the people's new found economic security and political participation made them increasingly self confident. The Communist party may have had valuable knowledge about what a fair and democratic society should look like, but they, like all leaders, were just human beings, capable of making mistakes. The masses were willing and able to overrule the party if necessary and there are many examples of them doing this. Capitalist constitutions often have token checks and balances written into them they are designed to give the appearance of democracy and accountability, without actually providing real democracy. For example, the United States constitution supposedly has an impeachment process to allow the president to be removed from office but it has never actually been used. This was not so in Yugoslavia, there were many examples of people genuinely holding their government accountable and forcing them to concede when criticised. For example, in the 1967 election, people were heavily involved in selecting candidates in public gatherings. Voter turnout was very high, 89% of people participated and 30% of communist party backed candidates failed to win. In order to prevent anyone from getting too comfortable in a position of power there were frequent rotations in office, mainly in the elective posts, to foster the infusion of new blood into the political system. This helped to counter bureaucratism, routininsm and dogmatism. After the death of Josip Broz Tito (the first president) The role of president rotated annually (ref #27).\r\n    </p>\r\n<p>\r\nYugoslavia's economic system was distinctly less centralised than the Soviet Union. There was a relatively large independent private sector that consisted mostly of cooperatives. Workers councils in factories were elected by the workers. People could essentially hire and fire the directors of the companies they worked for, nobody had a \"boss\" who would just give orders. The council then elected management boards to manage the factories in conjunction with the factory directors. Workers could dismiss the board, councils adopted wage regulations, formulated operating plans for the factory and distributed part of the profit of the factory (ref #28). Cooperatives were organised on the principle of voluntary efforts and internal democracy. All members of a cooperative were equal, with equal rights and equal duties. In the countryside, agricultural co-operatives were more than just businesses, they also aimed to raise economic and cultural levels and to develop socialism in villages. In addition to developing agricultural production, they dealt with village communal problems, such as electrification, health and veterinary stations, water supply and construction of cooperative centres. They also contributed to the technical, cultural, educational, ideological and political advancement of villages (ref #29). It was unnecessary to force farmers to join these agricultural cooperatives. Instead, the party persuaded them by demonstrating the benefits such as higher yeilds and by providing financial incentives. Loans at 1% p/a interest were given to help start these democratic businesses. This money was given by public banks, the interest was used to fund Yugoslavia's generous social security system. The government also created a range of different types of cooperative of varying levels of socialism/collectivism. Some with more sharing of land, machines and resources and more political participation than others. The idea was to gradually wean workers onto collectivism. They did not necessarily need to invest hugely as they might have perceived this as risky because socialism was new and unfamiliar. Instead, workers could invest a little bit, see some benefits, and then invest increasingly more and more if they felt comfortable. For example, farmers did not necessarily have to sell their land and machines to a cooperative, they could just rent them. This gradual acclimatization proved to be a highly effective collectivisation process, membership in agricultural cooperatives increased from half a million people in 1945 to 3.5 million in 1950 (ref #30, ref #31).\r\n</p>\r\n<p>\r\nTo me, it seems unclear overall whether the Soviet Union's version of Socialism was superior to that of Yugoslavia, they each had their own strengths and weaknesses. Yugoslavia had substantially more political democracy, while the USSR had better overall economic performance. Collectivisation in Yugoslavia was less forceful than the Soviet Union, however it was also much less rapid, meaning slower poverty reduction. It doesn't seem fair to judge one as better than the other. The circumstances in which they both were born were very different. If you read the writings of the Bolshevik leaders, there is a clear understanding that persuasion is superior to coercion because people work with much more enthusiasm if they have been persuaded to do something than if they have been forced. There are even CIA documents were they admit that this is how the Russian Communist Party thought (ref #32). In this respect, the ideology of the Bolsheviks and the Yugoslav communist party was essentially the same.  Their differing circumstances were the reason for their different approaches to collectivisation. All governments become more authoritarian during times of crisis. Soviet Russia was born into terrible crisis, a horrible civil war, then several capitalist countries tried to invade and destroy them, then soon after they needed to prepare for World War Two. They also had no other socialist countries to support them and they had to figure out how to do socialism on their own. The learning curve was steep. Dire circumstances call for stronger leadership. If they had not industrialised and collectivised at break-neck speed, Socialist Russia would not have been strong enough to survive World War Two. We know this because Bolshevism co-existed with numerous other socialist ideologies, some much more libertarian. None of the other varieties produced a viable lasting form of socialism that could substantially improve people's lives. For example, there was an libertarian/anarchist socialist revolution in Spain in the 1930s that was quickly crushed by the Fascist government. Yugoslavia was born into a world where the threat of Fascism in Europe had been largely suppressed at least for the time being. While there may have been some initial ideological disagreements between the Russian and Yugoslav communist parties, they did eventually provide mutual aid and support to each other.\r\n</p>\r\n<p>\r\nI feel that if Yugoslavia had been allowed to continue, they probably would have eventually learned how to resolve their economic difficulties. It certainly was a very admirable and encouraging socialist experiment that greatly improved the lives of many millions of people. This conclusion is undeniable when you read the numerous documents about Yugoslavia in the CIA archives that I have refernced below. The worst enemy of communism admitted all of this blatantly.\r\n</p>\r\n    <br/>\r\n    <h2>References</h2>\r\n    <p>\r\n    <div className=\"references\">\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP01-00707R000200100036-6.pdf\">1)National Intelligence Survey 21; Yugoslavia; The Economy page 9 para 1</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP79T01003A002200250001-9.pdf\">2)Economic Growth In Eastern Europe in 1964 page 11 para 2</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP79R00904A000500020034-0.pdf\">3)Yugoslavia and the Non-u Countries page 4 para 2</a>\r\n\r\n  <a href=\"http://eprints.lse.ac.uk/85079/1/WP268.pdf\">4)Leonard Kukić, Socialist growth revisited: insights from Yugoslavia, European Review of Economic History, Volume 22, Issue 4, November 2018, Pages 403–429, https://doi.org/10.1093/ereh/hey001 Page 27, figure 1</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000600380337-6.pdf\">5)Pay Schedules and Income Taxes in Yugoslavia 1951 page 2 para 2, page 2 para 7</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP01-00707R000200100032-0.pdf\">6)National Intelligence Survey 21; Yugoslavia; The Society Page 30 para 2-3, page 31 para 2, page 35 para 1</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/document/cia-rdp79-00927a007400070002-4\">7)Yugoslavia: Twenty Years of Self-Management Page 5 para 1</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP85T00875R001500030020-7.pdf\">8)Weekly Summary Special Report Yugoslavic The New Revolution page 9 para 2-4</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP85T00875R001500030020-7.pdf\">9)Weekly Summary Special Report Yugoslavic The New Revolution Page 13 para 6</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/document/cia-rdp79-00927a007400070002-4\">10)Yugoslavia: Twenty Years of Self-Management Page 8 para 3</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP85T00875R001500030020-7.pdf\">11)Weekly Summary Special Report Yugoslavic The New Revolution Page 10 para 3</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/document/cia-rdp79-00927a007400070002-4\">12)Yugoslavia: Twenty Years of Self-Management Page 9 para 3-4</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/document/cia-rdp79-00927a007400070002-4\">13)Yugoslavia: Twenty Years of Self-Management Page 9 para 1</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/document/cia-rdp79-00927a007400070002-4\">14)Yugoslavia: Twenty Years of Self-Management Page 13 para 4</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000700090447-5.pdf\">15)Development and Organization of the Judiciary in Yugoslavia page 2 para 11 Page 3 para 5</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP01-00707R000200100036-6.pdf\">16)National Intelligence Survey 21; Yugoslavia; The Economy page 28 para 2</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP01-00707R000200100032-0.pdf\">17)National Intelligence Survey 21; Yugoslavia; The Society page 38 para 7</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000600380566-2.pdf\">18)New Yugoslav Law on Social Security for Blue and White Collar Workers page 5-6</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP01-00707R000200100032-0.pdf\">20)National Intelligence Survey 21; Yugoslavia; The Society page 35 para 6</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00926A004600010022-8.pdf\">21)Family Legislation page 45 para 7</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP01-00707R000200100032-0.pdf\">22)National Intelligence Survey 21; Yugoslavia; The Society page 14 para 10</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP01-00707R000200100032-0.pdf\">23)National Intelligence Survey 21; Yugoslavia; The Society page 49 para 2, page 50 para 6</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000700100125-0.pdf\">24)Schools In Yugoslavia page 1 para 1</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000600240629-7.pdf\">25)Sociological- Education page 1 para 3</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP01-00707R000200100032-0.pdf\">26)National Intelligence Survey 21; Yugoslavia; The Society page 40 para 7</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00926A006900050014-8.pdf\">27)Status of Medicine, Medical Training, Research and Public Health page 2</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/document/cia-rdp01-00707r000200100033-9\">28)National Intelligence Survey 21 Yugoslavia; government and politics page 12 para 7, page 33, page 37 para 3 1967</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP79R01141A000900090002-0.pdf\">29)Reorganization of Economic Management in the European Satellites 1956 page 11 para 3</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/document/cia-rdp80-00809a000700120344-5\">30)Development Of Cooperatives in Yugoslavia page 3 para 6, page 3 para 5, page 4 para 6</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80-00809A000600240726-9.pdf\">31)ECONOMIC-FARM COOPERATIVES page 2 para 6, page 2-3</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/document/cia-rdp80-00809a000700120344-5\">32)Development Of Cooperatives in Yugoslavia page 2 para 6, page 5 para 1</a>\r\n\r\n  <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP79R01141A001200060002-9.pdf\">33)Forced Labour in the USSR 1953-57 page 2 para 2, page 8 para 4</a>\r\n  </div>\r\n    </p>\r\n    </div>\r\n  )}\r\n","import React, {useEffect} from 'react'\r\n\r\nexport default function PsychologicalWarfare() {\r\n\r\n  useEffect(() => {\r\n      pageCounter()\r\n  }, [])\r\n\r\nfunction pageCounter(){\r\nconst options = {\r\n  method: 'put',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  body: ''\r\n}\r\nfetch(\"/groups/addtopagecounter/psychologicalwar\", options\r\n).then(res => {\r\nreturn res.json()\r\n}).catch(err => {\r\nconsole.error(err);\r\n})\r\n}\r\n  return (\r\n    <div style={{marginLeft:\"5vw\",marginTop:\"3vw\",width:\"90vw\"}}>\r\n    <h1>The Psychological War On Communism</h1>\r\n    <p>\r\n    <strong>\r\n    “For many years our press has misled us about the achievements of the Russian People and their government. In Russia, there is not only a formal but an actual equality of nationalities and cultural groups of every sort. 'Equal goals and equal rights with equal contributions' is no empty phrase, but a standard followed in actual life”-Albert Einstein, What Russia Means To Us, 1942\r\n    </strong>\r\n    </p>\r\n    <p>\r\n    Since the birth of Socialism in the early 20th century, the capitalist ruling class have gone to great lengths to destroy socialism. They have tried their absolute best to destroy people's perception of Communism, spreading slander throughout the mass media and academic institutions. They have infiltrated many real socialist organisations and created many of their own fake ones. Divide and conquer is their primary strategy, if they perceive any divisions between socialist groups, they try to drive a wedge into it. When they build their own socialist organisations, the most common strategy is to spread ideas that sound socialistic, but are ultimately not at all useful. They will try to encourage a puritanical, vengeful, arrogant and self righteous mentality, any revolution that is less than perfect is bluntly dismissed, there is no constructive criticism or acknowledgement of the achievements of real viable socialist revolutions. They won't support any socialist experiments unless they failed, didn't last very long or didn't produce any measurable, lasting benefits to people's lives. The goal is to leave people with the feeling that communism is a Utopian fantasy, idealistic, unrealistic, a nice idea, but not practical. The bourgeoisie have also tried to meddle in the elections of countries where the population shows strong support for socialism, attempting to get more right wing candidates elected.\r\n    </p>\r\n    <p>\r\n    The suggestion that Socialist countries are governed by horrible exploitative authoritarian governments is a large lie. The capitalist ruling class get away with this very bold fabrication because they have very extensive control over the mediums through which ideas spread in our society, the mass media and education systems. The private mass media organisations of the Capitalist world are themselves undemocratic, capitalist businesses. There is a small oligarchy of shareholders who elect the board of directors and orders flow downwards to the vast majority of people who work for the company. The companies' main customers are other undemocratic capitalist businesses who pay for advertising. The goal of the capitalist media is to extract surplus value from the people who work for their companies and the other businesses that pay for marketing. There are also relatively few conglomerate companies that own and control all other mass media companies. In the USA 6 major companies own 90% of mass media organisations, in Australia, two companies, News Corp and Nine Entertainment own the vast majority of the media. The national public media typically targets and serves elite opinion, groups that, on the one hand, provide an optimal “profile” for advertising purposes, and, on the other, play a role in decision-making in the private and public spheres. The national media would be failing to meet their elite audience’s needs if they did not present a tolerably realistic portrayal of the world. But their “societal purpose” also requires that the media’s interpretation of the world reflect the interests and concerns of the sellers, the buyers, and the governmental and private institutions dominated by these groups. The publicly run media corporations are also run in a largely undemocratic way. The boards of these companies are generally chosen by an elected bourgeois government and orders flow from top to bottom, directors to workers. The state also censors the media with varying levels of coercion. Capitalist media allows vigorous debate and discussion within a certain range of the spectrum of political/economic ideology. This creates the impression of a freedom of speech, however if certain boundaries are crossed, serious penalties can result. This can mean simple ostracism, losing your job as a journalist, or in some cases the state may try to charge critics with crimes and serious jail time. Some obvious examples of this would be Julian Assange and Wikileaks for exposing United States government war crimes or Richard Boyle who exposed corruption within the ATO (ref #1. ref#2,ref#3).\r\n    </p>\r\n    <p>\r\n    The bourgeoisie have also tried to create their own pseudo-socialism in order to mislead working class people, create divisions and demoralise them. In the mid 20th century the CIA established and funded organisations like the Congress for Cultural Freedom and the Committee of the Free World. They used these groups as a means of enlisting intellectuals and opinion makers in a war of ideas against communism. The United States Government subsidised editors and scholars who were selected for their correct cold-war positions rather than for their talent or merit, enabling them to rig the free marketplace of ideas (ref #4). The National Student Association, the largest student organisation in the USA, received funding from the CIA in order to spread anti-communist ideology. Roughly $200000 per year (ref #5,ref #6, ref #7,ref#8). Central Intelligence Agency Funds were given to numerous youth organisations around the world, clearly for the purposes of indoctrination with Capitalist ideology (ref #9). Money was also given by the Agency to a range of Labour Unions such as the Free Trade Union Committee and the International Confederation of Free Trade Unions (ref #10, ref #11). CIA funding was given to anti-communist radio stations like Radio Liberty and Radio Free Europe that spread propaganda throughout eastern Europe (ref #12, ref #13). COINTELPRO (syllabic abbreviation derived from Counter Intelligence Program) (1956–1971) was a series of covert and illegal (ref#14, ref#15) projects actively conducted by the United States Federal Bureau of Investigation (FBI) aimed at surveilling, infiltrating, discrediting, and disrupting domestic American political organizations(ref #16, ref#17). FBI records show COINTELPRO resources targeted groups and individuals the FBI deemed subversive,including feminist organizations,(ref#18,ref#19)the Communist Party USA,(ref#20)anti–Vietnam War organizers, activists of the civil rights movement and Black Power movement (e.g. Martin Luther King Jr., the Nation of Islam, and the Black Panther Party), environmentalist and animal rights organisations, the American Indian Movement (AIM), independence movements (including Puerto Rican independence groups such as the Young Lords and the Puerto Rican Socialist Party), a variety of organisations that were part of the broader New Left (ref #21, ref #22). Cointelpro involved the creation of several magazines and zines that were designed to appear to have a far left wing ideology but in actual fact their purpose was to spread confusing and disorienting messages, in order to encourage divisions within the socialist movements. Some claimed to be Anarchists, some Maoists, some Trotskyist (ref #23, ref #24). The numerous splits and factions that occur within socialist and communist groups in the first world capitalist countries seem to largely be a result of this sort of psychological warfare. These divisions do not reflect the actual understanding of the leaders of actual socialist countries. In reality, there is very strong solidarity, mutual aid and support within the communist bloc. The leaders of Cuba, China, Soviet Union, Yugoslavia, Vietnam and North Korea all strongly support each other. There are disagreements and different strategies or experiments, however overall, the Communist Parties of these countries support each other.\r\n    </p>\r\n    <p>\r\n    Novels and films were published and distributed by the Bourgoisie as anti-communist propaganda. For example, the works of George Orwell, such as Animal Farm and 1984, were distributed around the world by a UK government propaganda organisation called the Information Research Department (IRD). They published his books in 20 different languages and spread them onto every continent (ref #25). The CIA worked with the IRD to create an Animal Farm animated film (ref #26). Many historians have attributed Orwell's fame largely to the joint efforts of the IRD and CIA. Orwell's stories were allegories, supposedly about both Fascism and Communism, but in actual fact had little to do with communism. The author had never lived in or even visited a real socialist country like the Soviet Union, his works are pure fiction (ref #27, ref #28). Another Anti-communist novel distributed by the CIA was Dr Zhivago, a book depicting the supposed “authoritarian” nature of the Soviet Union. The agency published the work in several eastern European languages, distributing it in these countries and broadcasting the book on Radio Free Europe (ref #29, ref #30, ref #31, ref #32).\r\n    </p>\r\n    <p>\r\n    Supposed Human Rights Non Government Organisations like Amnesty International and Human Rights watch frequently slander Socialist Countries, accusing them of human rights abuses. It is quite clear that these are deeply corrupt organisations, accepting enormous bribes (they call them “grants”) from ruthless imperialistic capitalist governments and billionaires. Amnesty claims on their website that they do not accept money from governments so that they can stay independent of political ideology, but this is a blatant lie, you can see in the accounts they publish on their own website that they clearly have taken many millions of dollars in bribes from the US, UK, Israeli, French and many other ruthless imperialistic governments. Human Rights Watch's biggest donor is the billionaire George Soros (ref #33,ref #34, ref #35,). These Human Rights NGOs are clearly controlled by the bourgeoisie.\r\n    </p>\r\n    <p>\r\n    Since World War Two the CIA has intervened in foreign elections in order to have more right wing candidates elected. Ones who are more favourable to US interests and hostile to communism. Beginning with an election in Italy in 1947, they spent ten million dollars distributing anti-communist propaganda, spreading pamphlets, defaming communist candidates and bribes to candidates who displayed willingness to work with the USA (ref #36). Since WW2 the USA has intervened in more than 60 foreign elections for similar purposes, the CIA created a special department for this, the Office of Policy Coordination (ref #37).\r\n    </p>\r\n    <p>\r\n    Since Socialism began in the 20th century, the capitalist ruling class have tried their absolute best to destroy people's perception of Communism, spreading lies in the mass media and academic institutions. They have infiltrated many real socialist organisations and created many of their own fake ones. The Bourgeoisie try to create divisions within and demoralise left wing groups. Capitalists have also tried to meddle in the elections of countries where the population shows strong support for socialism, attempting to get more right wing candidates elected.\r\n    </p>\r\n    <h3>Refernces</h3>\r\n<p>1) Manufacturing Consent: The Political Economy of the Mass Media Noam Chomsky, Edward S. Herman 1988</p>\r\n<p>2) Inventing Reality: The Politics of News Media Michael Parenti 1993</p>\r\n<p>3) https://www.abc.net.au/news/2019-03-06/ato-whistleblower-faces-161-years-prison-possibility/10872350</p>\r\n<p>4) CULTURE WAR 2 <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP90-00806R000200970013-9.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP90-00806R000200970013-9.pdf</a> paras 2, 6 and 8</p>\r\n<p>5) Press Release <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP75-00149R000700020017-8.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP75-00149R000700020017-8.pdf</a></p>\r\n<p>6) Secret Subsidizing of National Student Association By Central Intelligence Agency Congressional Record <a href=\" https://www.cia.gov/readingroom/docs/CIA-RDP75-00149R000700150009-3.pdf\"> https://www.cia.gov/readingroom/docs/CIA-RDP75-00149R000700150009-3.pdf</a></p>\r\n<p>7) The CIA Nightmare <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP75-00149R000200770001-8.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP75-00149R000200770001-8.pdf</a></p>\r\n<p>8) CIA Subsidizes Youth Foundation; Brown Source Knew NSA Secret <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP73-00475R000102040015-5.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP73-00475R000102040015-5.pdf</a></p>\r\n<p>9)<a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP75-00149R000700530003-7.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP75-00149R000700530003-7.pdf</a>\r\nAnti-Communist Work of the National Students Association.</p>\r\n<p>10) Units Linked With CIA <a href=\"https://www.cia.gov/readingroom/document/cia-rdp73-00475r000200260001-7\">https://www.cia.gov/readingroom/document/cia-rdp73-00475r000200260001-7</a></p>\r\n<p>11) Robert D. Parmet, The Master of Seventh Avenue: David Dubinsky and the American Labor Movement (NY: New York University Press, 2005) 235-6</p>\r\n<p>12)<a href=\" https://www.cia.gov/readingroom/docs/CIA-RDP90-00806R000200740006-2.pdf\"> https://www.cia.gov/readingroom/docs/CIA-RDP90-00806R000200740006-2.pdf</a></p>\r\n<p>13)<a href=\" https://www.cia.gov/readingroom/docs/LOC-HAK-294-3-27-3.pdf\"> https://www.cia.gov/readingroom/docs/LOC-HAK-294-3-27-3.pdf</a>\r\nRadio Free Europe page 3-4</p>\r\n<p>14) Grants to Radio Free Europe and Radio Liberty <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP73B00296R000500050007-4.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP73B00296R000500050007-4.pdf</a></p>\r\n<p>15) Jalon, Allan M. (March 8, 2006). \"A break-in to end all break-ins\". Los Angeles Times. Archived from the original on December 3, 2013. Retrieved July 15, 2014.</p>\r\n<p>16) The Dangers of Domestic Spying by Federal Law Enforcement (PDF) (Report). American Civil Liberties Union. 2002. Archived (PDF) from the original on February 5, 2018. Retrieved November 14, 2017.</p>\r\n<p>17) Jeffreys-Jones, Rhodri (2008) [2007]. The FBI: A History. New Haven, CT: Yale University Press. p. 189. ISBN 978-0-300-14284-6. OCLC 223872966.</p>\r\n<p>18) Rosen, Ruth. (2006.) The World Split Open: How the Modern Women's Movement Changed America. New York: Penguin Group. ISBN 0670814628. p. 239-261. Accessed: 2022-07-12.</p>\r\n<p>19) Salper, Roberta. (2008.) \"U.S. Government Surveillance and the Women's Liberation Movement, 1968-1973: A Case Study.\" Feminist Studies 34(3): 431–455. doi:10.2307/20459215. Accessed: 2022-07-12.</p>\r\n<p>21) Weiner, Tim (2012). Enemies: A History of the FBI (1st ed.).195 New York: Random House. ISBN 978-1-4000-6748-0. OCLC 1001918388.</p>\r\n<p>22) <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP90-01208R000100150193-4.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP90-01208R000100150193-4.pdf</a>\r\nThe Most Secret Agents</p>\r\n<p>23) <a href=\"https://www.autistici.org/poderobrero/articulos/in-cointelpro-fbi-used-anarchism-to-disrupt-left-attack-vietnam-ussr\">https://www.autistici.org/poderobrero/articulos/in-cointelpro-fbi-used-anarchism-to-disrupt-left-attack-vietnam-ussr</a></p>\r\n<p>24) <a href=\"https://multipolarista.substack.com/p/in-cointelpro-fbi-used-anarchism\">https://multipolarista.substack.com/p/in-cointelpro-fbi-used-anarchism</a></p>\r\n<p>25)  Rubin N., Andrew (2012). Archives of Authority: Empire, Culture and the Cold War. Woodstock: Princeton University Press. pp. 40–42.</p>\r\n<p>26)  Dunton, Mark (17 August 2020). \"Animal Farm: The cartoon strip and the Cold War\". National Archives. Retrieved 14 January 2021.</p>\r\n<p>27)  Shaw, Tony (22 September 2011). \"Making a pig's ear of Orwell\". The Independent. Retrieved 14 January 2021.</p>\r\n<p>28)  Mitter, Rana; Major, Patrick (2005). Across the Block: Cold War Cultural and Social History. Taylor & Francis e-library: Frank Cass and Company Limited. p. 125.</p>\r\n<p>29) <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP80R01731R000400580002-7.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP80R01731R000400580002-7.pdf</a>\r\nletter To Victor Baton From Allen W. Dulles (The First Director of the CIA)</p>\r\n<p>30) <a href=\"https://www.cia.gov/readingroom/docs/0002389324.pdf\">https://www.cia.gov/readingroom/docs/0002389324.pdf</a></p>\r\n<p>31)<a href=\"https://www.cia.gov/readingroom/docs/DOC_0005796328.pdf\"> https://www.cia.gov/readingroom/docs/DOC_0005796328.pdf</a>\r\nMemorandum For Acting Deputy Director (plans): Miniature Edition of Dr Zhivago</p>\r\n<p>32) <a href=\"https://www.cia.gov/readingroom/docs/DOC_0005795618.pdf\">https://www.cia.gov/readingroom/docs/DOC_0005795618.pdf</a>\r\nNote on Pasternak's Novel, Dr Zhivago</p>\r\n<p>33) <a href=\"https://www.ngo-monitor.org/ngos/human_rights_watch_hrw_/\">https://www.ngo-monitor.org/ngos/human_rights_watch_hrw_/</a></p>\r\n<p>34) <a href=\"https://www.ngo-monitor.org/reports/breaking_its_own_rules_amnesty_s_gov_t_funding_and_researcher_bias/\">https://www.ngo-monitor.org/reports/breaking_its_own_rules_amnesty_s_gov_t_funding_and_researcher_bias/</a></p>\r\n<p>35) <a href=\"https://www.amnesty.org/en/about-us/how-were-run/finances-and-pay/\">https://www.amnesty.org/en/about-us/how-were-run/finances-and-pay/</a></p>\r\n<p>36) <a href=\"https://www.cia.gov/readingroom/docs/CIA-RDP91-00901R000600300001-1.pdf\">https://www.cia.gov/readingroom/docs/CIA-RDP91-00901R000600300001-1.pdf</a>\r\nOpinion Commentary A Short Course In The Secret War page 1</p>\r\n<p>37) Dov H. Levin 2019.   “Partisan Electoral Interventions by the Great Powers: Introducing the PEIG Dataset” Conflict Management and Peace Science, 36 (1): 88-106</p>\r\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/tTBWfkE7BXU\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/-zIqCH00V4I\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/EuwmWnphqII\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/34LGPIXvU5M\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/xL3b_QmNV2Y\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/xgKPyIj8Q60\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n    </div>\r\n  )}\r\n","import React, {useState,useEffect} from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport auth from './../auth/auth-helper'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {signin} from './api-auth.js'\r\nimport {changePassword} from '../user/api-user.js'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    maxWidth: 600,\r\n    margin: 'auto',\r\n    textAlign: 'center',\r\n    marginTop: theme.spacing(5),\r\n    paddingBottom: theme.spacing(2)\r\n  },\r\n  error: {\r\n    verticalAlign: 'middle'\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2),\r\n    color: theme.palette.openTitle\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 300\r\n  },\r\n  submit: {\r\n    margin: 'auto',\r\n    marginBottom: theme.spacing(2)\r\n  }\r\n}))\r\n\r\nexport default function ForgotPassword(props) {\r\n  const classes = useStyles()\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingComplete, setLoadingComplete] = useState(false)\r\n  const [values, setValues] = useState({\r\n    password: '',\r\n    passwordtwo:'',\r\n    email:'',\r\n    tokenerror:'',\r\n    error: '',\r\n    open:false,\r\n    redirectToReferrer: false\r\n  })\r\n\r\n  async function clickSubmit(){\r\n    let options={\r\n      method: \"POST\",\r\n      body: '',\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\"}}\r\n\r\n        let response=await fetch(\"/groups/verifychangepasswordjwt/\"+props.match.params.token+\"/\"+values.email,options)\r\n        .then(res => {\r\n          return res.json();\r\n        }).catch(err=>console.error(err))\r\n        console.log(\"response\",response)\r\n        if(response.message){\r\n          setValues({...values,tokenerror:response.message})\r\n          setTimeout(() => {\r\n            setValues({...values,tokenerror:''})\r\n          }, 5000)\r\n        }\r\n\r\n        if(response==\"can log in\"){\r\n          if(!(values.password==values.passwordtwo)){\r\n            setValues({ ...values, passworderror:true,tokenerror:true})\r\n          }\r\n\r\n          if(values.password==values.passwordtwo){\r\n\r\n            setValues({ ...values, passworderror:false,tokenerror:true})\r\n            setLoading(true)\r\n\r\n\r\n            const newuser = {\r\n              email:values.email,\r\n              password:values.password\r\n            }\r\n\r\n\r\n            changePassword(newuser).then((data) => {\r\n              if (data.error) {\r\n                setValues({ ...values, error: data.error})\r\n              } else {\r\n                setValues({ ...values, error: '', open: true})\r\n              }\r\n            })\r\n\r\n                setLoading(false)\r\n                setLoadingComplete(true)\r\n                setTimeout(() => {\r\n                  setLoadingComplete(false)\r\n                }, 5000)\r\n              }\r\n        }\r\n      }\r\n\r\n\r\n    const handleChange = name => event => {\r\n      setValues({ ...values, [name]: event.target.value })\r\n    }\r\n\r\n\r\n    return (\r\n      <div className=\"signinform\">\r\n      <div className=\"innersigninform\" style={{height:\"auto\"}}>\r\n      <h4 style={{textAlign:\"center\"}}>Reset Password</h4>\r\n      <div className=\"signininput\">\r\n      <h5>Email </h5><input style={{display:\"inline\"}} id=\"password\" type=\"text\" label=\"Email\" className={classes.textField} value={values.email} onChange={handleChange('email')} margin=\"normal\"/>\r\n      </div>\r\n      <div className=\"signininput\">\r\n      <h5>Password </h5><input style={{display:\"inline\"}} id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.password} onChange={handleChange('password')} margin=\"normal\"/>\r\n      </div>\r\n      <div className=\"signininput\">\r\n      <h5>Confirm Password </h5><input style={{display:\"inline\"}} id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.passwordtwo} onChange={handleChange('passwordtwo')} margin=\"normal\"/>\r\n      </div>\r\n      {values.tokenerror&&<h5 style={{marginRight:\"1vw\",color:\"red\"}} className=\"ruletext\">{values.tokenerror}</h5>}\r\n      {(!(values.password==values.passwordtwo)&&!(values.passwordtwo==\"\"))&&<h5 style={{marginRight:\"1vw\",color:\"red\"}} className=\"ruletext\">Passwords Do Not Match</h5>}\r\n      {((values.password==values.passwordtwo)&&!(values.passwordtwo==\"\")&&!loading)&&<button style={{marginLeft:\"45%\"}} id=\"submit\" onClick={clickSubmit} >Submit</button>}\r\n      {loading&&<h3>...Uploading Changes</h3>}\r\n      {loadingComplete&&<h2>Upload Complete, Password Updated</h2>}\r\n      </div>\r\n      <Dialog open={values.open} disableBackdropClick={true}>\r\n      <DialogTitle>New Account</DialogTitle>\r\n      <DialogContent>\r\n      <DialogContentText>\r\n      Password successfully changed.\r\n      </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n      <Link to=\"/signin\">\r\n      <button>\r\n      Sign In\r\n      </button>\r\n      </Link>\r\n      </DialogActions>\r\n      </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n","import React, {Component} from 'react'\nimport {Route, Switch} from 'react-router-dom'\nimport Home from './core/Home'\nimport Signup from './user/Signup'\nimport Signin from './auth/Signin'\nimport PrivateRoute from './auth/PrivateRoute'\nimport GroupPage from './groups/GroupPage'\nimport SingleUser from './groups/SingleUser'\nimport Menu from './core/Menu'\nimport ExplanationPage from \"./ExplanationPage\"\nimport Info from \"./Info\"\nimport SovietUnion from \"./sovietunion\"\nimport China from \"./china\"\nimport Cuba from \"./cuba\"\nimport Yugoslavia from \"./yugoslavia\"\nimport PsychologicalWarfare from \"./psychologicalwarfare\"\n\n// import Lybia from \"./lybia\"\nimport ForgotPassword from './auth/ForgotPassword'\n\nconst MainRouter = () => {\n    return (<div>\n      <Menu/>\n      <Switch>\n        <Route exact path=\"/\" component={Home}/>\n        <Route exact path=\"/signup\" component={Signup}/>\n        <Route exact path=\"/signin\" component={Signin}/>\n        <Route exact path=\"/forgotpassword/:token\" component={ForgotPassword}/>\n        <Route exact path=\"/group/:groupId\"    component={GroupPage}/>\n        <Route exact path=\"/explanation\"    component={ExplanationPage}/>\n        <Route exact path=\"/singleuser/:userId\"    component={SingleUser}/>\n        <Route exact path=\"/info\"    component={Info}/>\n        <Route exact path=\"/Psychological-War\"    component={PsychologicalWarfare}/>\n        <Route exact path=\"/psychological-war\"    component={PsychologicalWarfare}/>\n        <Route exact path=\"/Cuba\"    component={Cuba}/>\n        <Route exact path=\"/cuba\"    component={Cuba}/>\n        <Route exact path=\"/Soviet-Union\"    component={SovietUnion}/>\n        <Route exact path=\"/soviet-union\"    component={SovietUnion}/>\n        <Route exact path=\"/yugoslavia\"    component={Yugoslavia}/>\n        <Route exact path=\"/Yugoslavia\"    component={Yugoslavia}/>\n        <Route exact path=\"/china\"    component={China}/>\n        <Route exact path=\"/China\"    component={China}/>\n      </Switch>\n    </div>)\n}\n\nexport default MainRouter\n","import React from 'react'\nimport MainRouter from './MainRouter'\nimport {BrowserRouter} from 'react-router-dom'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { hot } from 'react-hot-loader'\nimport './App.css'\nimport { Notifications } from 'react-push-notification';\n\nconst App = () => {\n\n  return (\n  <BrowserRouter >\n  <Notifications />\n        <MainRouter/>\n  </BrowserRouter>\n)}\n\nexport default hot(module)(App)\n","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\nexport const GET_GROUP_CHATS = 'get_group_chat';\nexport const GET_CHATS = 'get_chat';\nexport const AFTER_POST_MESSAGE = 'after_post_message';\n","module.exports = __webpack_public_path__ + \"static/media/hands.0cd2a94f.png\";","module.exports = __webpack_public_path__ + \"static/media/housing-prices-Australia.96a4179f.png\";","module.exports = __webpack_public_path__ + \"static/media/WageSlowdown.65f9eafa.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Australian-unemployment-rates.d5a8701e.png\";","module.exports = __webpack_public_path__ + \"static/media/Trade-union-density-in-Australia-percentage-of-employees-1960-2011-a-a-Trade-union.e2c0dc8c.png\";","module.exports = __webpack_public_path__ + \"static/media/robots-txt.2b8002b7.config\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\nimport chat from './chat_reducer';\n\nconst rootReducer = combineReducers({\n    user,\n    chat\n});\n\nexport default rootReducer;\n","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from '../actions/types';\n\n\nexport default function(state={},action){\n    switch(action.type){\n        case REGISTER_USER:\n            return {...state, register: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return {...state, userData: action.payload }\n        case LOGOUT_USER:\n            return {...state }\n        default:\n            return state;\n    }\n}\n","import {\n    GET_CHATS,\n    GET_GROUP_CHATS,\n    AFTER_POST_MESSAGE\n} from '../actions/types';\n\nexport default function(state={},action){\n    switch(action.type){\n        case GET_CHATS:\n            return {...state, chats: action.payload }\n        case GET_GROUP_CHATS:\n\n\n            return {...state, chats: action.payload }\n        case AFTER_POST_MESSAGE:\n                return {...state, chats: state.chats.concat(action.payload) }\n        default:\n            return state;\n    }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport MainRouter from './MainRouter'\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport Reducer from './reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\nconst { generateRobotText } = require(\"react-seo-robotstxt\");\ngenerateRobotText();\nReactDOM.render(\n  <Provider\n      store={createStoreWithMiddleware(\n          Reducer,\n          window.__REDUX_DEVTOOLS_EXTENSION__ &&\n          window.__REDUX_DEVTOOLS_EXTENSION__()\n      )}\n  >\n    <App />\n        </Provider>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}